(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();const Vt=!1,Ht=(e,t)=>e===t,ae=Symbol("solid-proxy"),pt=Symbol("solid-track"),Ne={equals:Ht};let Ct=At;const J=1,Fe=2,_t={owned:null,cleanups:null,context:null,owner:null};var $=null;let st=null,Rt=null,k=null,O=null,q=null,Ge=0;function kt(e,t){const r=k,n=$,s=e.length===0,l=t===void 0?n:t,a=s?_t:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=s?e:()=>e(()=>Q(()=>Me(a)));$=a,k=null;try{return ie(i,!0)}finally{k=r,$=n}}function F(e,t){t=t?Object.assign({},Ne,t):Ne;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=s=>(typeof s=="function"&&(s=s(r.value)),Mt(r,s));return[St.bind(r),n]}function S(e,t,r){const n=ct(e,t,!1,J);Ee(n)}function Pe(e,t,r){Ct=Jt;const n=ct(e,t,!1,J);(!r||!r.render)&&(n.user=!0),q?q.push(n):Ee(n)}function M(e,t,r){r=r?Object.assign({},Ne,r):Ne;const n=ct(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,Ee(n),St.bind(n)}function Ut(e){return ie(e,!1)}function Q(e){if(k===null)return e();const t=k;k=null;try{return e()}finally{k=t}}function Ke(e){Pe(()=>Q(e))}function Be(e){return $===null||($.cleanups===null?$.cleanups=[e]:$.cleanups.push(e)),e}function lt(){return k}function Wt(){return $}function zt(e,t){const r=$,n=k;$=e,k=null;try{return ie(t,!0)}catch(s){dt(s)}finally{$=r,k=n}}function qt(e,t){const r=Symbol("context");return{id:r,Provider:Zt(r),defaultValue:e}}function Gt(e){let t;return $&&$.context&&(t=$.context[e.id])!==void 0?t:e.defaultValue}function Kt(e){const t=M(e),r=M(()=>at(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function St(){if(this.sources&&this.state)if(this.state===J)Ee(this);else{const e=O;O=null,ie(()=>He(this),!1),O=e}if(k){const e=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(e)):(k.sources=[this],k.sourceSlots=[e]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function Mt(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&ie(()=>{for(let s=0;s<e.observers.length;s+=1){const l=e.observers[s],a=st&&st.running;a&&st.disposed.has(l),(a?!l.tState:!l.state)&&(l.pure?O.push(l):q.push(l),l.observers&&Lt(l)),a||(l.state=J)}if(O.length>1e6)throw O=[],new Error},!1)),t}function Ee(e){if(!e.fn)return;Me(e);const t=Ge;Qt(e,e.value,t)}function Qt(e,t,r){let n;const s=$,l=k;k=$=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=J,e.owned&&e.owned.forEach(Me),e.owned=null),e.updatedAt=r+1,dt(a)}finally{k=l,$=s}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Mt(e,n):e.value=n,e.updatedAt=r)}function ct(e,t,r,n=J,s){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:$,context:$?$.context:null,pure:r};return $===null||$!==_t&&($.owned?$.owned.push(l):$.owned=[l]),l}function Ve(e){if(e.state===0)return;if(e.state===Fe)return He(e);if(e.suspense&&Q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ge);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===J)Ee(e);else if(e.state===Fe){const n=O;O=null,ie(()=>He(e,t[0]),!1),O=n}}function ie(e,t){if(O)return e();let r=!1;t||(O=[]),q?r=!0:q=[],Ge++;try{const n=e();return Yt(r),n}catch(n){r||(q=null),O=null,dt(n)}}function Yt(e){if(O&&(At(O),O=null),e)return;const t=q;q=null,t.length&&ie(()=>Ct(t),!1)}function At(e){for(let t=0;t<e.length;t++)Ve(e[t])}function Jt(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:Ve(n)}for(t=0;t<r;t++)Ve(e[t])}function He(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const s=n.state;s===J?n!==t&&(!n.updatedAt||n.updatedAt<Ge)&&Ve(n):s===Fe&&He(n,t)}}}function Lt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Fe,r.pure?O.push(r):q.push(r),r.observers&&Lt(r))}}function Me(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),s=r.observers;if(s&&s.length){const l=s.pop(),a=r.observerSlots.pop();n<s.length&&(l.sourceSlots[a]=n,s[n]=l,r.observerSlots[n]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Me(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Me(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Xt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function dt(e,t=$){throw Xt(e)}function at(e){if(typeof e=="function"&&!e.length)return at(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=at(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function Zt(e,t){return function(n){let s;return S(()=>s=Q(()=>($.context={...$.context,[e]:n.value},Kt(()=>n.children))),void 0),s}}function b(e,t){return Q(()=>e(t||{}))}const er=e=>`Stale read from <${e}>.`;function xe(e){const t=e.keyed,r=M(()=>e.when,void 0,void 0),n=t?r:M(r,void 0,{equals:(s,l)=>!s==!l});return M(()=>{const s=n();if(s){const l=e.children;return typeof l=="function"&&l.length>0?Q(()=>l(t?s:()=>{if(!Q(n))throw er("Show");return r()})):l}return e.fallback},void 0,void 0)}function tr(e,t,r){let n=r.length,s=t.length,l=n,a=0,i=0,o=t[s-1].nextSibling,d=null;for(;a<s||i<l;){if(t[a]===r[i]){a++,i++;continue}for(;t[s-1]===r[l-1];)s--,l--;if(s===a){const f=l<n?i?r[i-1].nextSibling:r[l-i]:o;for(;i<l;)e.insertBefore(r[i++],f)}else if(l===i)for(;a<s;)(!d||!d.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[l-1]&&r[i]===t[s-1]){const f=t[--s].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--l],f),t[s]=r[l]}else{if(!d){d=new Map;let u=i;for(;u<l;)d.set(r[u],u++)}const f=d.get(t[a]);if(f!=null)if(i<f&&f<l){let u=a,g=1,m;for(;++u<s&&u<l&&!((m=d.get(t[u]))==null||m!==f+g);)g++;if(g>f-i){const h=t[a];for(;i<f;)e.insertBefore(r[i++],h)}else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}}const bt="_$DX_DELEGATE";function rr(e,t,r,n={}){let s;return kt(l=>{s=l,t===document?e():c(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{s(),t.textContent=""}}function p(e,t,r,n){let s;const l=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},a=()=>(s||(s=l())).cloneNode(!0);return a.cloneNode=a,a}function oe(e,t=window.document){const r=t[bt]||(t[bt]=new Set);for(let n=0,s=e.length;n<s;n++){const l=e[n];r.has(l)||(r.add(l),t.addEventListener(l,nr))}}function R(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function Y(e,t){t==null?e.removeAttribute("class"):e.className=t}function we(e,t,r,n){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function ut(e,t,r){return Q(()=>e(t,r))}function c(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return Re(e,t,n,r);S(s=>Re(e,t(),s,r),n)}function nr(e){let t=e.target;const r=`$$${e.type}`,n=e.target,s=e.currentTarget,l=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),a=()=>{const o=t[r];if(o&&!t.disabled){const d=t[`${r}Data`];if(d!==void 0?o.call(t,d,e):o.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},i=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const o=e.composedPath();l(o[0]);for(let d=0;d<o.length-2&&(t=o[d],!!a());d++){if(t._$host){t=t._$host,i();break}if(t.parentNode===s)break}}else i();l(n)}function Re(e,t,r,n,s){for(;typeof r=="function";)r=r();if(t===r)return r;const l=typeof t,a=n!==void 0;if(e=a&&r[0]&&r[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===r))return r;if(a){let i=r[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),r=ve(e,r,n,i)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||l==="boolean")r=ve(e,r,n);else{if(l==="function")return S(()=>{let i=t();for(;typeof i=="function";)i=i();r=Re(e,i,r,n)}),()=>r;if(Array.isArray(t)){const i=[],o=r&&Array.isArray(r);if(it(i,t,r,s))return S(()=>r=Re(e,i,r,n,!0)),()=>r;if(i.length===0){if(r=ve(e,r,n),a)return r}else o?r.length===0?vt(e,i,n):tr(e,r,i):(r&&ve(e),vt(e,i));r=i}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=ve(e,r,n,t);ve(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function it(e,t,r,n){let s=!1;for(let l=0,a=t.length;l<a;l++){let i=t[l],o=r&&r[e.length],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))s=it(e,i,o)||s;else if(d==="function")if(n){for(;typeof i=="function";)i=i();s=it(e,Array.isArray(i)?i:[i],Array.isArray(o)?o:[o])||s}else e.push(i),s=!0;else{const f=String(i);o&&o.nodeType===3&&o.data===f?e.push(o):e.push(document.createTextNode(f))}}return s}function vt(e,t,r=null){for(let n=0,s=t.length;n<s;n++)e.insertBefore(t[n],r)}function ve(e,t,r,n){if(r===void 0)return e.textContent="";const s=n||document.createTextNode("");if(t.length){let l=!1;for(let a=t.length-1;a>=0;a--){const i=t[a];if(s!==i){const o=i.parentNode===e;!l&&!a?o?e.replaceChild(s,i):e.insertBefore(s,r):o&&i.remove()}else l=!0}}else e.insertBefore(s,r);return[s]}const sr="http://www.w3.org/2000/svg";function lr(e,t=!1){return t?document.createElementNS(sr,e):document.createElement(e)}function ar(e){const{useShadow:t}=e,r=document.createTextNode(""),n=()=>e.mount||document.body,s=Wt();let l;return Pe(()=>{l||(l=zt(s,()=>M(()=>e.children)));const a=n();if(a instanceof HTMLHeadElement){const[i,o]=F(!1),d=()=>o(!0);kt(f=>c(a,()=>i()?f():l(),null)),Be(d)}else{const i=lr(e.isSVG?"g":"div",e.isSVG),o=t&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return r.parentNode},configurable:!0}),c(o,l),a.appendChild(i),e.ref&&e.ref(i),Be(()=>a.removeChild(i))}},void 0,{render:!0}),r}const ot=Symbol("store-raw"),ye=Symbol("store-node"),z=Symbol("store-has"),Pt=Symbol("store-self");function Et(e){let t=e[ae];if(!t&&(Object.defineProperty(e,ae,{value:t=new Proxy(e,cr)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let s=0,l=r.length;s<l;s++){const a=r[s];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function Ue(e){let t;return e!=null&&typeof e=="object"&&(e[ae]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Ae(e,t=new Set){let r,n,s,l;if(r=e!=null&&e[ot])return r;if(!Ue(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,i=e.length;a<i;a++)s=e[a],(n=Ae(s,t))!==s&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,d=a.length;o<d;o++)l=a[o],!i[l].get&&(s=e[l],(n=Ae(s,t))!==s&&(e[l]=n))}return e}function We(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Le(e,t,r){if(e[t])return e[t];const[n,s]=F(r,{equals:!1,internal:!0});return n.$=s,e[t]=n}function ir(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===ae||t===ye||(delete r.value,delete r.writable,r.get=()=>e[ae][t]),r}function jt(e){lt()&&Le(We(e,ye),Pt)()}function or(e){return jt(e),Reflect.ownKeys(e)}const cr={get(e,t,r){if(t===ot)return e;if(t===ae)return r;if(t===pt)return jt(e),r;const n=We(e,ye),s=n[t];let l=s?s():e[t];if(t===ye||t===z||t==="__proto__")return l;if(!s){const a=Object.getOwnPropertyDescriptor(e,t);lt()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(l=Le(n,t,l)())}return Ue(l)?Et(l):l},has(e,t){return t===ot||t===ae||t===pt||t===ye||t===z||t==="__proto__"?!0:(lt()&&Le(We(e,z),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:or,getOwnPropertyDescriptor:ir};function ze(e,t,r,n=!1){if(!n&&e[t]===r)return;const s=e[t],l=e.length;r===void 0?(delete e[t],e[z]&&e[z][t]&&s!==void 0&&e[z][t].$()):(e[t]=r,e[z]&&e[z][t]&&s===void 0&&e[z][t].$());let a=We(e,ye),i;if((i=Le(a,t,s))&&i.$(()=>r),Array.isArray(e)&&e.length!==l){for(let o=e.length;o<l;o++)(i=a[o])&&i.$();(i=Le(a,"length",l))&&i.$(e.length)}(i=a[Pt])&&i.$()}function Tt(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const s=r[n];ze(e,s,t[s])}}function dr(e,t){if(typeof t=="function"&&(t=t(e)),t=Ae(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const s=t[r];e[r]!==s&&ze(e,r,s)}ze(e,"length",n)}else Tt(e,t)}function Se(e,t,r=[]){let n,s=e;if(t.length>1){n=t.shift();const a=typeof n,i=Array.isArray(e);if(Array.isArray(n)){for(let o=0;o<n.length;o++)Se(e,[n[o]].concat(t),r);return}else if(i&&a==="function"){for(let o=0;o<e.length;o++)n(e[o],o)&&Se(e,[o].concat(t),r);return}else if(i&&a==="object"){const{from:o=0,to:d=e.length-1,by:f=1}=n;for(let u=o;u<=d;u+=f)Se(e,[u].concat(t),r);return}else if(t.length>1){Se(e[n],t,[n].concat(r));return}s=e[n],r=[n].concat(r)}let l=t[0];typeof l=="function"&&(l=l(s,r),l===s)||n===void 0&&l==null||(l=Ae(l),n===void 0||Ue(s)&&Ue(l)&&!Array.isArray(l)?Tt(s,l):ze(e,n,l))}function ft(...[e,t]){const r=Ae(e||{}),n=Array.isArray(r),s=Et(r);function l(...a){Ut(()=>{n&&a.length===1?dr(r,a[0]):Se(r,a)})}return[s,l]}function xt(e,t,r,n=100,s=.15){const l=e/30,a=(t-e)/60,i=(r-t)/275,o=(r-e)/335,d=Math.log10(i*a*l)*n,f=(-o+l)*s,u=d+f;return Math.round(u)}class ur{constructor(){this.baseUrl="https://formulae.brew.sh/api"}async fetchAllFormulaMetadata(){try{const t=await fetch(`${this.baseUrl}/formula.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(n=>[n.name,{version:n.versions?.stable||null,license:n.license||null,desc:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/core"}]))}catch(t){return console.error("Error fetching formula metadata:",t),new Map}}async fetchAllCaskMetadata(){try{const t=await fetch(`${this.baseUrl}/cask.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(n=>[n.token,{version:n.version||null,desc:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/cask"}]))}catch(t){return console.error("Error fetching cask metadata:",t),new Map}}async fetchAnalyticsData(t,r="install-on-request"){try{const n=await fetch(`${this.baseUrl}/analytics/${r}/${t}.json`);if(!n.ok)throw new Error(`Failed to fetch analytics data for ${r}/${t}`);return await n.json()}catch(n){throw console.error(`Error fetching analytics data for ${r}/${t}:`,n),n}}async fetchAllData(t=!0,r=!0){try{const n={30:"30d",90:"90d",365:"365d"},s=[];t?(s.push(this.fetchAllFormulaMetadata()),Object.values(n).forEach(h=>{s.push(this.fetchAnalyticsData(h,"install-on-request"))})):(s.push(Promise.resolve(new Map)),Object.values(n).forEach(()=>{s.push(Promise.resolve({items:[]}))})),r?(s.push(this.fetchAllCaskMetadata()),Object.values(n).forEach(h=>{s.push(this.fetchAnalyticsData(h,"cask-install"))})):(s.push(Promise.resolve(new Map)),Object.values(n).forEach(()=>{s.push(Promise.resolve({items:[]}))}));const l=await Promise.all(s),a=l[0],i={30:l[1],90:l[2],365:l[3]},o=l[4],d={30:l[5],90:l[6],365:l[7]},f=t?this.processFormulaData(a,i):[],u=r?this.processCaskData(o,d):[],g=[...f,...u];return{summary:Object.fromEntries([30,90,365].map(h=>[h,{date:{start:i[h]?.start_date||d[h]?.start_date||"",end:i[h]?.end_date||d[h]?.end_date||""},formula:{items:i[h]?.total_items||0,count:i[h]?.total_count||0},cask:{items:d[h]?.total_items||0,count:d[h]?.total_count||0}}])),items:g}}catch(n){throw console.error("Error fetching all data:",n),n}}processFormulaData(t,r){return r[365].items.map(n=>{const s=t.get(n.formula)||{},l=parseInt(n.count.replace(/,/g,"")),a=parseInt(r[90].items.find(d=>d.formula===n.formula)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(d=>d.formula===n.formula)?.count.replace(/,/g,"")||"0"),o=xt(i,a,l);return{formula:n.formula,name:n.formula,count:{365:l,90:a,30:i},percent:{365:parseFloat(n.percent),90:parseFloat(r[90].items.find(d=>d.formula===n.formula)?.percent||"0"),30:parseFloat(r[30].items.find(d=>d.formula===n.formula)?.percent||"0")},score:o,version:s.version||null,license:s.license||null,description:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/core",brewUrl:this.generateBrewUrl(n.formula,s.tap||"homebrew/core",!1),isCask:!1}})}processCaskData(t,r){return r[365].items.map(n=>{const s=t.get(n.cask)||{},l=parseInt(n.count.replace(/,/g,"")),a=parseInt(r[90].items.find(d=>d.cask===n.cask)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(d=>d.cask===n.cask)?.count.replace(/,/g,"")||"0"),o=xt(i,a,l);return{formula:n.cask,name:n.cask,count:{365:l,90:a,30:i},percent:{365:parseFloat(n.percent),90:parseFloat(r[90].items.find(d=>d.cask===n.cask)?.percent||"0"),30:parseFloat(r[30].items.find(d=>d.cask===n.cask)?.percent||"0")},score:o,version:s.version||null,license:null,description:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/cask",brewUrl:this.generateBrewUrl(n.cask,s.tap||"homebrew/cask",!0),isCask:!0}})}generateBrewUrl(t,r,n){const s=n?"cask":"formula";if(r==="homebrew/core"||r==="homebrew/cask")return`https://formulae.brew.sh/${s}/${t}`;const l=r.split("/");if(l.length!==2)return`https://formulae.brew.sh/${s}/${t}`;const[a,i]=l;return`https://formulae.brew.sh/${s}/${a}/${i}/${t}`}}class fr{constructor(){this.repository=new ur,[this.store,this.setStore]=ft({timeframe:30,search:"",isLoading:!1,error:null,summary:{30:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},90:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},365:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}}},items:[]})}async initialize(){this.setStore("isLoading",!0);try{const t=await this.repository.fetchAllData();return this.setStore("summary",t.summary),this.setStore("packages",t.items),await this.fetchPackageDetails(),t.items}catch(t){return this.setStore("error",t?.message||"Failed to load data"),[]}finally{this.setStore("isLoading",!1)}}async fetchPackageDetails(){const[t,r]=await Promise.all([fetch("https://formulae.brew.sh/api/formula.json"),fetch("https://formulae.brew.sh/api/cask.json")]),[n,s]=await Promise.all([t.json(),r.json()]),l=n.reduce((i,o)=>(i[o.name]={desc:o.desc,license:o.license,dependencies:o.dependencies,requirements:o.requirements,conflicts_with:o.conflicts_with,tap:o.tap,url:o.url,version:o.versions.stable,homepage:o.homepage,caveats:o.caveats},i),{}),a=s.reduce((i,o)=>(i[o.token]={desc:o.desc,license:o.license,version:o.version,homepage:o.homepage,caveats:o.caveats,dependencies:o.depends_on?.formula,tap:o.tap,url:o.url},i),{});this.setStore("packages",this.store.packages.map(i=>({...i,...(i.type==="formula"?l[i.formula]:a[i.formula])||{}})))}}const ht=new fr,E=ht.store;ht.setStore;const hr=()=>ht.initialize();class qe{static matchesTerm(t,r,n,s){return n?new RegExp(`\\b${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,s?"":"i").test(t):t.includes(r)}static processSearchTerms(t,r){const n=t.trim().split(/\s+/).filter(s=>s.length>0);return r?n:n.map(s=>s.toLowerCase())}static packageMatchesSearch(t,r,n,s,l){if(r.length===0)return!0;const a=t.formula,i=t.description||"",o=s?a:a.toLowerCase(),d=s?i:i.toLowerCase();switch(n){case"name":return r.every(f=>this.matchesTerm(o,f,l,s));case"description":return r.every(f=>this.matchesTerm(d,f,l,s));case"all":default:return r.every(f=>this.matchesTerm(o,f,l,s)||this.matchesTerm(d,f,l,s))}}}class gr{static filterItems(t,r,n,s,l,a,i,o=!1){if(!t||t.length===0)return[];const d=u=>u.isCask?i?.[a]?.cask?.total_count||0:i?.[a]?.formula?.total_count||0,f=qe.processSearchTerms(r,s);return t.filter(u=>qe.packageMatchesSearch(u,f,n,s,l)).sort((u,g)=>o?g.score-u.score:g.count[a]-u.count[a]).map(u=>({...u,displayCount:u.count[a]||0,percent:this.calculatePercent(u.count[a],d(u))})).slice(0,250)}static calculatePercent(t,r){return!r||!t?"0.00":(t/r*100).toFixed(2)}}var mr=p("<img src=https://upload.wikimedia.org/wikipedia/commons/9/95/Homebrew_logo.svg alt=Homebrew>");function pr(e){return(()=>{var t=mr();return S(()=>Y(t,`w-12 h-12 ${e.class||""}`)),t})()}var br=p('<div class="flex flex-col justify-center items-center h-64 space-y-4"><div class="loading-spinner animate-spin rounded-full h-12 w-12 border-t-2 border-b-2"></div><div class=text-gray-500>Loading Homebrew analytics data...');function vr(){return br()}const Dt=qt();function xr(e){const[t,r]=ft({items:[],visible:!1});Ke(()=>{try{const u=localStorage.getItem("brewTrendCart");if(u){const g=JSON.parse(u);r("items",g)}}catch(u){console.error("Failed to load cart from localStorage:",u)}});const n=u=>{try{localStorage.setItem("brewTrendCart",JSON.stringify(u))}catch(g){console.error("Failed to save cart to localStorage:",g)}},f={cart:t,addToCart:u=>{if(!t.items.some(g=>g.formula===u.formula)){const g=[...t.items,u];r("items",g),n(g)}},removeFromCart:u=>{const g=t.items.filter(m=>m.formula!==u.formula);r("items",g),n(g)},clearCart:()=>{r("items",[]),n([])},toggleCartVisibility:()=>{r("visible",!t.visible)},closeCart:()=>{r("visible",!1)},isInCart:u=>t.items.some(g=>g.formula===u.formula)};return b(Dt.Provider,{value:f,get children(){return e.children}})}function Qe(){const e=Gt(Dt);if(!e)throw new Error("useCart must be used within a CartProvider");return e}var wr=p('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><path d="M5,6V16C5,18 6.5,19 8,19H14C15.5,19 17,18 17,16V6"stroke=currentColor fill="rgba(245, 158, 11, 0.3)"></path><path d="M17,6H5C5,4 6.5,3 8,3H14C15.5,3 17,4 17,6Z"stroke=currentColor fill=white></path><path d="M17,6V3C19,3 20,4.5 20,6V8C20,9.5 19,11 17,11"stroke=currentColor></path><path d="M7,8.5C9,8 11,10 13,9.5C15,9 16,8 16,8"stroke=currentColor stroke-linecap=round></path><path d=M7,12.5H15 stroke=currentColor stroke-linecap=round></path><path d=M7,15.5H15 stroke=currentColor stroke-linecap=round>');function Ye(e){return(()=>{var t=wr();return S(()=>R(t,"class",e.class)),t})()}var yr=p('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><ellipse cx=12 cy=6 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=6 rx=6 ry=2 stroke=currentColor></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 stroke=currentColor></ellipse><line x1=6 y1=6 x2=6 y2=18 stroke=currentColor></line><line x1=18 y1=6 x2=18 y2=18 stroke=currentColor></line><line x1=8 y1=9 x2=8 y2=15 stroke=currentColor></line><line x1=12 y1=8 x2=12 y2=16 stroke=currentColor></line><line x1=16 y1=9 x2=16 y2=15 stroke=currentColor>');function Je(e){return(()=>{var t=yr();return S(()=>R(t,"class",e.class)),t})()}var $r=p("<svg width=73 height=25><path stroke=#F9A03C fill=none stroke-width=2>");function Ot(e){const t=M(()=>{const r=e.count,n=(r[365]-r[90])/275,s=(r[90]-r[30])/60,l=r[30]/30,a=Math.max(n,s,l,.001),i=73,o=25,d=o-n/a*o,f=o-s/a*o,u=o-l/a*o;return`M0,${d}L55,${d}L55,${f}L67,${f}L67,${u}L${i},${u}`});return(()=>{var r=$r(),n=r.firstChild;return S(()=>R(n,"d",t())),r})()}var Cr=p('<div><h3 class="font-semibold text-gray-600 mb-2">Dependencies</h3><div class="bg-gray-50 rounded-lg p-4"><div class="flex flex-wrap gap-2">'),_r=p('<div><h3 class="font-semibold text-gray-600 mb-2">Caveats</h3><div class="bg-gray-50 rounded-lg p-4"><p class="text-sm text-gray-600 whitespace-pre-wrap">'),kr=p('<div class="fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center"><div class="bg-white rounded-lg p-6 max-w-3xl w-full mx-4 relative"><button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700"aria-label="Close modal">✕</button><div class="flex items-center border-b border-gray-200 pb-4 mb-4"><div class=mr-3></div><div><h2 class="text-2xl font-bold"></h2><p class=text-gray-600></p></div></div><div class="grid grid-cols-2 gap-6"><div class=space-y-6><div><h3 class="font-semibold text-gray-600 mb-2">Package Details</h3><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div class="flex justify-between"><span class=text-gray-600>Version</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>License</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Category</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Created</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Last Update</span><span class=font-medium></span></div></div></div></div><div class=space-y-6><div><h3 class="font-semibold text-gray-600 mb-2">Installation Statistics</h3><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div class="flex justify-between items-center"><span class=text-gray-600>30 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center"><span class=text-gray-600>90 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center"><span class=text-gray-600>365 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center pt-2"><span class=text-gray-600>Install Trend</span><div class="flex items-center gap-2"><span> <!>%</span></div></div></div></div></div></div><div class="mt-6 pt-4 border-t border-gray-200"><div class="flex justify-between"><div class="flex space-x-4"><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Brew.sh</a><button><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><span></span></button></div><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-800">Cancel'),Sr=p('<span class="px-2 py-1 bg-gray-200 rounded text-sm">'),Mr=p('<a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Homepage');function Ar(e){const[t,r]=F(null),{addToCart:n,removeFromCart:s,isInCart:l}=Qe();let a;Pe(()=>{e.package&&d()});const i=g=>{g.key==="Escape"&&e.isOpen&&e.onClose()},o=g=>{a&&!a.contains(g.target)&&e.isOpen&&e.onClose()};Ke(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Be(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)});const d=()=>{if(!e.package)return;const g=e.package.count[30],h=(e.package.count[365]-g)*30/335,v=(g-h)/h*100;r({isPositive:v>=0,value:Math.abs(v).toFixed(1)})},f=g=>g?new Date(g).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown",u=()=>{l(e.package)?s(e.package):n(e.package)};return b(xe,{get when(){return e.isOpen},get children(){var g=kr(),m=g.firstChild,h=m.firstChild,v=h.nextSibling,w=v.firstChild,I=w.nextSibling,T=I.firstChild,N=T.nextSibling,y=v.nextSibling,x=y.firstChild,A=x.firstChild,C=A.firstChild,L=C.nextSibling,D=L.firstChild,V=D.firstChild,P=V.nextSibling,_=D.nextSibling,B=_.firstChild,G=B.nextSibling,U=_.nextSibling,$e=U.firstChild,ce=$e.nextSibling,X=U.nextSibling,Z=X.firstChild,ee=Z.nextSibling,te=X.nextSibling,re=te.firstChild,H=re.nextSibling,de=x.nextSibling,ue=de.firstChild,fe=ue.firstChild,ne=fe.nextSibling,K=ne.firstChild,he=K.firstChild,ge=he.nextSibling,se=K.nextSibling,Ce=se.firstChild,Xe=Ce.nextSibling,je=se.nextSibling,Ze=je.firstChild,et=Ze.nextSibling,_e=je.nextSibling,tt=_e.firstChild,ke=tt.nextSibling,le=ke.firstChild,Te=le.firstChild,De=Te.nextSibling;De.nextSibling;var rt=y.nextSibling,nt=rt.firstChild,me=nt.firstChild,Oe=me.firstChild,Ie=Oe.nextSibling,It=Ie.firstChild,Nt=It.nextSibling,Ft=me.nextSibling,gt=a;return typeof gt=="function"?ut(gt,m):a=m,we(h,"click",e.onClose),c(w,(()=>{var j=M(()=>e.package?.type==="formula");return()=>j()?b(Ye,{class:"w-8 h-8 text-amber-500"}):b(Je,{class:"w-8 h-8 text-amber-500"})})()),c(T,()=>e.package?.formula),c(N,()=>e.package?.desc),c(P,()=>e.package?.version||"N/A"),c(G,()=>e.package?.license||"N/A"),c(ce,()=>e.package?.category||"N/A"),c(ee,()=>f(e.package?.created_at)),c(H,()=>f(e.package?.updated_at)),c(x,b(xe,{get when(){return e.package?.dependencies?.length},get children(){var j=Cr(),W=j.firstChild,pe=W.nextSibling,be=pe.firstChild;return c(be,()=>e.package?.dependencies.map(Bt=>(()=>{var mt=Sr();return c(mt,Bt),mt})())),j}}),null),c(ge,()=>e.package?.count[30].toLocaleString()),c(Xe,()=>e.package?.count[90].toLocaleString()),c(et,()=>e.package?.count[365].toLocaleString()),c(ke,b(Ot,{get count(){return e.package?.count}}),le),c(le,()=>t()?.isPositive?"↑":"↓",Te),c(le,()=>Math.abs(t()?.value),De),c(de,b(xe,{get when(){return e.package?.caveats},get children(){var j=_r(),W=j.firstChild,pe=W.nextSibling,be=pe.firstChild;return c(be,()=>e.package?.caveats),j}}),null),c(me,(()=>{var j=M(()=>!!e.package?.homepage);return()=>j()&&(()=>{var W=Mr();return S(()=>R(W,"href",e.package.homepage)),W})()})(),Ie),Ie.$$click=u,c(Nt,()=>l(e.package)?"Remove from Cart":"Add to Cart"),we(Ft,"click",e.onClose),S(j=>{var W=`text-sm ${t()?.isPositive?"text-green-600":"text-red-600"}`,pe=e.package?.brewUrl,be=`px-3 py-1 rounded-md flex items-center space-x-1 ${l(e.package)?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`;return W!==j.e&&Y(le,j.e=W),pe!==j.t&&R(Oe,"href",j.t=pe),be!==j.a&&Y(Ie,j.a=be),j},{e:void 0,t:void 0,a:void 0}),g}})}oe(["click"]);var Lr=p("<span class=search-results-highlight>");function wt(e){const{text:t,query:r,context:n,searchMode:s,caseSensitive:l,wholeWord:a}=e;return M(()=>{if(s!=="all"&&s!==n)return t;if(!r||!t)return t||"-";const o=qe.processSearchTerms(r,l);if(o.length===0)return t;const d=l?t:t.toLowerCase();if(!o.some(h=>qe.matchesTerm(d,h,a,l)))return t;const f=[];o.forEach(h=>{if(a){const v=new RegExp(`\\b${h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,l?"g":"gi");let w;const I=l?t:t.toLowerCase();for(;(w=v.exec(I))!==null;)f.push([w.index,w.index+h.length])}else{let v=0;const w=l?t:t.toLowerCase();for(;(v=w.indexOf(h,v))!==-1;)f.push([v,v+h.length]),v+=1}}),f.sort((h,v)=>h[0]-v[0]);const u=[];if(f.length>0){let h=f[0];for(let v=1;v<f.length;v++)f[v][0]<=h[1]?h[1]=Math.max(h[1],f[v][1]):(u.push(h),h=f[v]);u.push(h)}const g=[];let m=0;return u.forEach(([h,v])=>{h>m&&g.push(t.substring(m,h)),g.push((()=>{var w=Lr();return w.style.setProperty("background-color","yellow"),w.style.setProperty("color","black"),c(w,()=>t.substring(h,v)),w})()),m=v}),m<t.length&&g.push(t.substring(m)),g})()}var Pr=p('<tr class="table-row cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50"><td class="w-8 table-cell"></td><td class="w-8 table-cell text-center"></td><td class="w-32 table-cell font-medium"></td><td class="w-32 table-cell"></td><td class="w-full table-cell text-gray-600 max-w-md truncate"></td><td class="w-24 table-cell text-right font-medium"title="Popularity Score"></td><td class="w-32 table-cell text-right"></td><td class="w-10 table-cell px-2"><button>'),Er=p('<div title="Cask - GUI application or binary package distributed as macOS native installer">'),jr=p('<div title="Formula - Command-line software package managed by Homebrew">'),Tr=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Dr=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">');function Or(e){const{item:t,index:r,searchQuery:n,searchMode:s,caseSensitive:l,wholeWord:a,onClick:i}=e,{addToCart:o,removeFromCart:d,isInCart:f}=Qe(),u=(m,h=32)=>m.length<=h?m:m.substring(0,h-3)+"...",g=m=>{m.stopPropagation(),f(t)?d(t):o(t)};return(()=>{var m=Pr(),h=m.firstChild,v=h.nextSibling,w=v.nextSibling,I=w.nextSibling,T=I.nextSibling,N=T.nextSibling,y=N.nextSibling,x=y.nextSibling,A=x.firstChild;return m.$$click=()=>i(t),c(h,r+1),c(v,(()=>{var C=M(()=>!!t.isCask);return()=>C()?(()=>{var L=Er();return c(L,b(Je,{class:"w-5 h-5 text-purple-500 inline-block"})),L})():(()=>{var L=jr();return c(L,b(Ye,{class:"w-5 h-5 text-amber-500 inline-block"})),L})()})()),c(w,b(wt,{get text(){return u(t.formula)},get query(){return n()},context:"name",get searchMode(){return s()},get caseSensitive(){return l()},get wholeWord(){return a()}})),c(I,b(Ot,{get count(){return t.count}})),c(T,b(wt,{get text(){return t.description},get query(){return n()},context:"description",get searchMode(){return s()},get caseSensitive(){return l()},get wholeWord(){return a()}})),c(N,()=>t.score),c(y,()=>t.displayCount.toLocaleString()),A.$$click=g,c(A,(()=>{var C=M(()=>!!f(t));return()=>C()?Tr():Dr()})()),S(C=>{var L=t.formula,D=t.description,V=`p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 ${f(t)?"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600":"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-600"}`,P=f(t)?"Remove from cart":"Add to cart";return L!==C.e&&R(w,"title",C.e=L),D!==C.t&&R(T,"title",C.t=D),V!==C.a&&Y(A,C.a=V),P!==C.o&&R(A,"title",C.o=P),C},{e:void 0,t:void 0,a:void 0,o:void 0}),m})()}oe(["click"]);var Ir=p('<img src=svg/components/sort-indicator.svg alt="Sort indicator">');function yt(e){return(()=>{var t=Ir();return S(()=>Y(t,e.class)),t})()}var Nr=p('<div class=data-table><table><thead class=table-header><tr class=table-header><th class="p-3 w-8 text-left border-b">#</th><th class="p-3 w-8 text-center border-b"></th><th class="p-3 w-32 text-left border-b">Name</th><th class="p-3 w-32 text-center border-b">Trend</th><th class="p-3 w-full text-left border-b">Description</th><th class="p-3 w-24 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Score</span></div></th><th class="p-3 w-32 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Installs</span></div></th><th class="p-3 w-10 border-b">Cart</th></tr></thead></table><div class=table-body><table><tbody>'),Fr=p('<tr><td colspan=8 class="py-8 text-center text-gray-500">No packages found matching your search.');const Br=({items:e,searchQuery:t,searchMode:r,caseSensitive:n,wholeWord:s,onPackageClick:l})=>{const[a,i]=F("score"),o=()=>a()?[...e].sort((f,u)=>{const g=a();return g==="score"?u.score-f.score:g==="installs"?u.displayCount-f.displayCount:0}):e,d=f=>{i(f)};return(()=>{var f=Nr(),u=f.firstChild,g=u.firstChild,m=g.firstChild,h=m.firstChild,v=h.nextSibling,w=v.nextSibling,I=w.nextSibling,T=I.nextSibling,N=T.nextSibling,y=N.firstChild,x=y.firstChild,A=N.nextSibling,C=A.firstChild,L=C.firstChild,D=u.nextSibling,V=D.firstChild,P=V.firstChild;return N.$$click=()=>d("score"),c(y,(()=>{var _=M(()=>a()==="score");return()=>_()&&b(yt,{})})(),x),A.$$click=()=>d("installs"),c(C,(()=>{var _=M(()=>a()==="installs");return()=>_()&&b(yt,{})})(),L),c(P,()=>o().map((_,B)=>b(Or,{get key(){return _.name},item:_,index:B,searchQuery:t,searchMode:r,caseSensitive:n,wholeWord:s,onClick:l})),null),c(P,(()=>{var _=M(()=>e.length===0);return()=>_()&&Fr()})(),null),f})()};oe(["click"]);var Vr=p('<div class="relative w-full md:w-2/3 search-container"><div class="relative flex items-center"><input type=text class="search-input w-full pr-8"aria-label="Search packages"></div><div class="search-options mt-2 flex flex-wrap gap-x-4 gap-y-2 text-sm"><div class="search-mode flex space-x-2"><label class="flex items-center"title="Search in names and descriptions"><input type=radio name=searchMode value=all><span class=ml-1>🔍 All</span></label><label class="flex items-center"title="Search in package names only"><input type=radio name=searchMode value=name><span class=ml-1>📦 Name</span></label><label class="flex items-center"title="Search in descriptions only"><input type=radio name=searchMode value=description><span class=ml-1>📄 Desc</span></label></div><div class="search-options flex space-x-3 items-center"><label class="flex items-center"title="Match case (Aa ≠ aa)"><input type=checkbox><span class=ml-1>Aa</span></label><label class="flex items-center"title="Match whole words only"><input type=checkbox><span class=ml-1>[w]</span></label><button title="Reset search options"aria-label="Reset search options">✕'),Hr=p('<button class="absolute right-2 flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-600 transition-colors"aria-label="Clear search"title="Clear search"><span class="text-sm font-bold">✕');function Rr(e){const t=()=>e.searchMode!=="all"||e.caseSensitive||e.wholeWord,r=()=>{e.onSearchChange("")},n=()=>{e.onSearchModeChange("all"),e.onCaseSensitiveChange(!1),e.onWholeWordChange(!1)};return(()=>{var s=Vr(),l=s.firstChild,a=l.firstChild,i=l.nextSibling,o=i.firstChild,d=o.firstChild,f=d.firstChild,u=d.nextSibling,g=u.firstChild,m=u.nextSibling,h=m.firstChild,v=o.nextSibling,w=v.firstChild,I=w.firstChild,T=w.nextSibling,N=T.firstChild,y=T.nextSibling;return a.$$input=x=>e.onSearchChange(x.target.value),c(l,(()=>{var x=M(()=>!!e.searchQuery);return()=>x()&&(()=>{var A=Hr();return A.$$click=r,A})()})(),null),f.addEventListener("change",()=>e.onSearchModeChange("all")),g.addEventListener("change",()=>e.onSearchModeChange("name")),h.addEventListener("change",()=>e.onSearchModeChange("description")),I.addEventListener("change",x=>e.onCaseSensitiveChange(x.target.checked)),N.addEventListener("change",x=>e.onWholeWordChange(x.target.checked)),y.$$click=n,S(x=>{var A=e.isLoading?"Loading...":"Search packages...",C=e.isLoading,L=!t(),D=`ml-1 flex items-center justify-center h-5 w-5 rounded text-xs transition-colors ${t()?"text-gray-500 hover:text-gray-700 hover:bg-gray-200 cursor-pointer":"text-gray-300 cursor-default"}`;return A!==x.e&&R(a,"placeholder",x.e=A),C!==x.t&&(a.disabled=x.t=C),L!==x.a&&(y.disabled=x.a=L),D!==x.o&&Y(y,x.o=D),x},{e:void 0,t:void 0,a:void 0,o:void 0}),S(()=>a.value=e.searchQuery),S(()=>f.checked=e.searchMode==="all"),S(()=>g.checked=e.searchMode==="name"),S(()=>h.checked=e.searchMode==="description"),S(()=>I.checked=e.caseSensitive),S(()=>N.checked=e.wholeWord),s})()}oe(["input","click"]);var Ur=p('<div class="px-4 md:px-6 pt-4 text-sm text-gray-500"> results found for "<!>"');function Wr(e){const{count:t,query:r}=e;return r?(()=>{var n=Ur(),s=n.firstChild,l=s.nextSibling;return l.nextSibling,c(n,t,s),c(n,r,l),n})():null}var zr=p('<div class="flex space-x-2">'),qr=p("<button>");function Gr(e){return(()=>{var t=zr();return c(t,()=>[{id:30,label:"Last 30 Days"},{id:90,label:"Last 90 Days"},{id:365,label:"Last Year"}].map(({id:r,label:n})=>(()=>{var s=qr();return s.$$click=()=>e.setTimeframe(r),c(s,n),S(()=>Y(s,`px-4 py-2 rounded border text-sm font-medium transition-colors duration-200
            ${e.timeframe===r?"bg-amber-600 text-white border-amber-600 hover:bg-amber-700":"bg-white text-stone-800 border-stone-200 hover:bg-stone-50"}`)),s})())),t})()}oe(["click"]);var Kr=p('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor strokeWidth=2 strokeLinecap=round strokeLinejoin=round><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12">');function $t(e){return(()=>{var t=Kr();return S(()=>R(t,"class",e.class||"")),t})()}var Qr=p("<div>"),Yr=p('<div class="fixed bg-gray-800 text-white p-4 rounded-lg shadow-xl w-[480px] z-[100] border border-gray-700"><div class="absolute -top-2 right-10 transform w-4 h-4 rotate-45 bg-gray-800 border-t border-l border-gray-700">');function Jr(e){const[t,r]=F(!1),[n,s]=F({top:0,left:0});let l;const a=o=>{const d=l.getBoundingClientRect();s({top:d.bottom+window.scrollY+10,left:d.right+window.scrollX-450}),r(!0)},i=()=>{r(!1)};return[(()=>{var o=Qr();o.addEventListener("mouseleave",i),o.addEventListener("mouseenter",a);var d=l;return typeof d=="function"?ut(d,o):l=o,c(o,()=>e.trigger),S(()=>Y(o,e.triggerClass||"")),o})(),b(ar,{get children(){return M(()=>!!t())()&&(()=>{var o=Yr(),d=o.firstChild;return c(o,()=>e.content,d),S(f=>{var u=`${n().top}px`,g=`${n().left}px`;return u!==f.e&&((f.e=u)!=null?o.style.setProperty("top",u):o.style.removeProperty("top")),g!==f.t&&((f.t=g)!=null?o.style.setProperty("left",g):o.style.removeProperty("left")),f},{e:void 0,t:void 0}),o})()}})]}var Xr=p('<div class="fixed bottom-0 left-0 right-0 bg-gray-900 text-white p-4 text-sm font-mono overflow-auto max-h-[50vh]"><pre>');function Zr(e){return(()=>{var t=Xr(),r=t.firstChild;return c(r,()=>JSON.stringify(e.data,null,2)),t})()}function en(e){const[t,r]=F(!1);return Pe(()=>{const n=new URLSearchParams(window.location.search).has("debug"),s=new URLSearchParams(window.location.search).has("inspect");r(n||s)}),{isDebugMode:t,debugData:e}}function tn({timeframe:e,searchQuery:t,searchMode:r,caseSensitive:n,wholeWord:s,filteredItems:l,store:a}){return{timeframe:e(),searchState:{query:t(),mode:r(),caseSensitive:n(),wholeWord:s()},filteredItemsCount:l.length,storeState:{isLoading:a.isLoading,summary:a.summary}}}var rn=p('<button class="relative p-2 text-gray-200 hover:text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"aria-label="Shopping cart"title="View installation cart"><svg xmlns=http://www.w3.org/2000/svg class="w-6 h-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">'),nn=p('<span class="absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full">');function sn(){const{cart:e,toggleCartVisibility:t}=Qe();return(()=>{var r=rn();return r.firstChild,we(r,"click",t),c(r,(()=>{var n=M(()=>e.items.length>0);return()=>n()&&(()=>{var s=nn();return c(s,()=>e.items.length),s})()})(),null),r})()}oe(["click"]);var ln=p('<ul class="divide-y divide-gray-200 dark:divide-gray-700">'),an=p('<div class="mt-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Installation Command</h3><pre class="bg-gray-800 text-white p-3 rounded overflow-x-auto">'),on=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-8m-10 0v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 0h6">'),cn=p('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl"><div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Installation Cart (<!> <!>)</h2><button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-4 overflow-y-auto flex-grow"></div><div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-between"><button class="px-4 py-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-medium">Clear Cart</button><div class="flex space-x-2"><button class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">Close</button><button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center">'),dn=p('<div class="text-center py-8 text-gray-500 dark:text-gray-400">Your cart is empty. Add packages to generate installation commands.'),un=p('<li class="py-3 flex justify-between items-center"><div class="flex items-center space-x-3"><span class="font-medium text-gray-900 dark:text-white"></span><span class="text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs"></span></div><button class="text-red-500 hover:text-red-700"aria-label="Remove from cart"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),fn=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');function hn(){const{cart:e,removeFromCart:t,clearCart:r,closeCart:n}=Qe(),[s,l]=F(!1);let a;const i=u=>{u.key==="Escape"&&e.visible&&n()},o=u=>{a&&!a.contains(u.target)&&e.visible&&n()};Ke(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Be(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)});const d=()=>{const u=e.items.filter(h=>!h.isCask).map(h=>h.formula),g=e.items.filter(h=>h.isCask).map(h=>h.formula);let m="";return u.length>0&&(m+=`brew install ${u.join(" ")}`),g.length>0&&(m&&(m+=`
`),m+=`brew install --cask ${g.join(" ")}`),m||"No packages selected"},f=async()=>{const u=d();try{await navigator.clipboard.writeText(u),l(!0),setTimeout(()=>l(!1),3e3)}catch(g){console.error("Failed to copy:",g)}};return b(xe,{get when(){return e.visible},get children(){var u=cn(),g=u.firstChild,m=g.firstChild,h=m.firstChild,v=h.firstChild,w=v.nextSibling,I=w.nextSibling,T=I.nextSibling;T.nextSibling;var N=h.nextSibling,y=m.nextSibling,x=y.nextSibling,A=x.firstChild,C=A.nextSibling,L=C.firstChild,D=L.nextSibling,V=a;return typeof V=="function"?ut(V,g):a=g,c(h,()=>e.items.length,w),c(h,()=>e.items.length===1?"package":"packages",T),we(N,"click",n),c(y,b(xe,{get when(){return e.items.length>0},get fallback(){return dn()},get children(){return[(()=>{var P=ln();return c(P,()=>e.items.map(_=>(()=>{var B=un(),G=B.firstChild,U=G.firstChild,$e=U.nextSibling,ce=G.nextSibling;return c(G,(()=>{var X=M(()=>!!_.isCask);return()=>X()?b(Je,{class:"w-5 h-5 text-purple-500"}):b(Ye,{class:"w-5 h-5 text-amber-500"})})(),U),c(U,()=>_.formula),c($e,()=>_.description),ce.$$click=()=>t(_),B})())),P})(),(()=>{var P=an(),_=P.firstChild,B=_.nextSibling;return c(B,d),P})()]}})),we(A,"click",r),we(L,"click",n),D.$$click=f,c(D,b(xe,{get when(){return!s()},get fallback(){return[fn(),"Copied!"]},get children(){return[on(),"Copy Command"]}})),S(P=>{var _=e.items.length===0,B=e.items.length===0;return _!==P.e&&(A.disabled=P.e=_),B!==P.t&&(D.disabled=P.t=B),P},{e:void 0,t:void 0}),u}})}oe(["click"]);var gn=p('<div class="flex flex-col h-screen"><header class="sticky top-0 z-10 bg-[#333333] text-white shadow-md"><div class="container mx-auto py-4 px-4"><div class="app-header flex items-center justify-between space-x-4"><div class="flex items-center shrink-0"><span class=mr-3></span><span class="text-3xl font-bold text-amber-50">Homebrew Trend Shop</span></div><div class="flex items-center gap-4 text-sm "></div><div class="flex items-center"></div></div></div></header><div class="sticky top-[72px] z-10 bg-white shadow-sm border-b border-gray-200"><div class="container mx-auto"><div class="flex md:flex-row justify-between items-center gap-4 p-3"><div class="flex items-end shrink-0"></div></div></div></div><main class="flex-1 overflow-hidden"><div class="container mx-auto h-full"><div class=table-container>'),mn=p('<div class="flex items-end"><div class="flex flex-col"><div>Period: </div><div>Formulae: <!> (<!>) · Casks: <!> (<!>)</div></div><div class="cursor-pointer shrink-0 ml-3"title="View detailed analytics and installation trends over time">'),pn=p('<div class=space-y-4><div class="flex items-center border-b border-gray-700 pb-3"><span class="cursor-pointer shrink-0 mr-3"title="View detailed analytics and installation trends over time"></span><div class="font-semibold text-lg text-amber-400">Homebrew Analytics Summary</div></div><div class=space-y-3><div class="flex items-center"><svg class="w-4 h-4 text-amber-500 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><div class=font-medium>Data Period</div></div><div class="ml-6 bg-gray-700 rounded p-2 text-gray-200"></div></div><div class="grid grid-cols-2 gap-3"><div class=space-y-2><div class="flex items-center"><div class=font-medium>Formulae</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div><div class=space-y-2><div class="flex items-center"><div class=font-medium>Casks</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div></div><div class="text-xs text-gray-400 italic mt-2 pt-2 border-t border-gray-700">Displaying data for the selected period: ');function bn(){const[e,t]=F(30),[r,n]=F(""),[s,l]=F("all"),[a,i]=F(!1),[o,d]=F(!1),[f,u]=ft([]),[g,m]=F(null),[h,v]=F(!1);Ke(async()=>{await hr()}),Pe(()=>{if(E.isLoading)return;const y=gr.filterItems(E.packages||[],r(),s(),a(),o(),e(),E.summary);u(y)});const w=()=>{const y=e(),x=new Date(E.summary[y]?.date?.start),A=new Date(E.summary[y]?.date?.end);return`${x.toLocaleDateString()} - ${A.toLocaleDateString()}`},I=y=>{m(y),v(!0)},{isDebugMode:T,debugData:N}=en(()=>tn({timeframe:e,searchQuery:r,searchMode:s,caseSensitive:a,wholeWord:o,filteredItems:f,store:E}));return b(xr,{get children(){var y=gn(),x=y.firstChild,A=x.firstChild,C=A.firstChild,L=C.firstChild,D=L.firstChild,V=L.nextSibling,P=V.nextSibling,_=x.nextSibling,B=_.firstChild,G=B.firstChild,U=G.firstChild,$e=_.nextSibling,ce=$e.firstChild,X=ce.firstChild;return c(D,b(pr,{class:"w-10 h-10 text-amber-500"})),c(V,(()=>{var Z=M(()=>!!(!E.isLoading&&E.summary));return()=>Z()&&b(Jr,{triggerClass:"text-stone-300 whitespace-nowrap cursor-help",get trigger(){return(()=>{var ee=mn(),te=ee.firstChild,re=te.firstChild;re.firstChild;var H=re.nextSibling,de=H.firstChild,ue=de.nextSibling,fe=ue.nextSibling,ne=fe.nextSibling,K=ne.nextSibling,he=K.nextSibling,ge=he.nextSibling,se=ge.nextSibling;se.nextSibling;var Ce=te.nextSibling;return c(re,w,null),c(H,()=>E.summary[e()].formula.items.toLocaleString(),ue),c(H,()=>E.summary[e()].formula.count.toLocaleString(),ne),c(H,()=>E.summary[e()].cask.items.toLocaleString(),he),c(H,()=>E.summary[e()].cask.count.toLocaleString(),se),c(Ce,b($t,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),ee})()},get content(){return(()=>{var ee=pn(),te=ee.firstChild,re=te.firstChild,H=te.nextSibling,de=H.firstChild,ue=de.nextSibling,fe=H.nextSibling,ne=fe.firstChild,K=ne.firstChild,he=K.firstChild,ge=K.nextSibling,se=ge.firstChild,Ce=se.nextSibling,Xe=ge.nextSibling,je=Xe.firstChild,Ze=je.nextSibling,et=ne.nextSibling,_e=et.firstChild,tt=_e.firstChild,ke=_e.nextSibling,le=ke.firstChild,Te=le.nextSibling,De=ke.nextSibling,rt=De.firstChild,nt=rt.nextSibling,me=fe.nextSibling;return me.firstChild,c(re,b($t,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),c(ue,w),c(K,b(Ye,{class:"w-5 h-5 text-amber-500 mr-2"}),he),c(Ce,()=>E.summary[e()].formula.items.toLocaleString()),c(Ze,()=>E.summary[e()].formula.count.toLocaleString()),c(_e,b(Je,{class:"w-5 h-5 text-amber-500 mr-2"}),tt),c(Te,()=>E.summary[e()].cask.items.toLocaleString()),c(nt,()=>E.summary[e()].cask.count.toLocaleString()),c(me,(()=>{var Oe=M(()=>e()===30);return()=>Oe()?"30 days":M(()=>e()===90)()?"90 days":e()===365?"365 days":"error"})(),null),ee})()}})})()),c(P,b(sn,{})),c(G,b(Rr,{get searchQuery(){return r()},onSearchChange:n,get searchMode(){return s()},onSearchModeChange:l,get caseSensitive(){return a()},onCaseSensitiveChange:i,get wholeWord(){return o()},onWholeWordChange:d,get isLoading(){return E.isLoading}}),U),c(U,b(Gr,{get timeframe(){return e()},setTimeframe:t})),c(ce,b(Wr,{get count(){return f.length},get query(){return r()}}),X),c(X,(()=>{var Z=M(()=>!!E.isLoading);return()=>Z()?b(vr,{}):b(Br,{items:f,searchQuery:r,searchMode:s,caseSensitive:a,wholeWord:o,onPackageClick:I})})()),c(y,b(Ar,{get isOpen(){return h()},get package(){return g()},onClose:()=>v(!1)}),null),c(y,b(hn,{}),null),c(y,(()=>{var Z=M(()=>!!T());return()=>Z()&&b(Zr,{get data(){return N()}})})(),null),y}})}rr(()=>b(bn,{}),document.getElementById("root"));
