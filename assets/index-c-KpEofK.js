(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const Rt=!1,Ut=(e,t)=>e===t,ie=Symbol("solid-proxy"),bt=Symbol("solid-track"),Fe={equals:Ut};let Ct=Lt;const X=1,Ne=2,_t={owned:null,cleanups:null,context:null,owner:null};var w=null;let nt=null,Wt=null,_=null,F=null,G=null,Ge=0;function St(e,t){const r=_,s=w,n=e.length===0,l=t===void 0?s:t,a=n?_t:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=n?e:()=>e(()=>Y(()=>Se(a)));w=a,_=null;try{return oe(i,!0)}finally{_=r,w=s}}function I(e,t){t=t?Object.assign({},Fe,t):Fe;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),At(r,n));return[Mt.bind(r),s]}function S(e,t,r){const s=ct(e,t,!1,X);Pe(s)}function Le(e,t,r){Ct=Zt;const s=ct(e,t,!1,X);(!r||!r.render)&&(s.user=!0),G?G.push(s):Pe(s)}function M(e,t,r){r=r?Object.assign({},Fe,r):Fe;const s=ct(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,Pe(s),Mt.bind(s)}function zt(e){return oe(e,!1)}function Y(e){if(_===null)return e();const t=_;_=null;try{return e()}finally{_=t}}function Ke(e){Le(()=>Y(e))}function Ve(e){return w===null||(w.cleanups===null?w.cleanups=[e]:w.cleanups.push(e)),e}function lt(){return _}function qt(){return w}function Gt(e,t){const r=w,s=_;w=e,_=null;try{return oe(t,!0)}catch(n){dt(n)}finally{w=r,_=s}}function Kt(e,t){const r=Symbol("context");return{id:r,Provider:tr(r),defaultValue:e}}function Qt(e){let t;return w&&w.context&&(t=w.context[e.id])!==void 0?t:e.defaultValue}function Yt(e){const t=M(e),r=M(()=>at(t()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function Mt(){if(this.sources&&this.state)if(this.state===X)Pe(this);else{const e=F;F=null,oe(()=>He(this),!1),F=e}if(_){const e=this.observers?this.observers.length:0;_.sources?(_.sources.push(this),_.sourceSlots.push(e)):(_.sources=[this],_.sourceSlots=[e]),this.observers?(this.observers.push(_),this.observerSlots.push(_.sources.length-1)):(this.observers=[_],this.observerSlots=[_.sources.length-1])}return this.value}function At(e,t,r){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&oe(()=>{for(let n=0;n<e.observers.length;n+=1){const l=e.observers[n],a=nt&&nt.running;a&&nt.disposed.has(l),(a?!l.tState:!l.state)&&(l.pure?F.push(l):G.push(l),l.observers&&Pt(l)),a||(l.state=X)}if(F.length>1e6)throw F=[],new Error},!1)),t}function Pe(e){if(!e.fn)return;Se(e);const t=Ge;Jt(e,e.value,t)}function Jt(e,t,r){let s;const n=w,l=_;_=w=e;try{s=e.fn(t)}catch(a){return e.pure&&(e.state=X,e.owned&&e.owned.forEach(Se),e.owned=null),e.updatedAt=r+1,dt(a)}finally{_=l,w=n}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?At(e,s):e.value=s,e.updatedAt=r)}function ct(e,t,r,s=X,n){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:w?w.context:null,pure:r};return w===null||w!==_t&&(w.owned?w.owned.push(l):w.owned=[l]),l}function Be(e){if(e.state===0)return;if(e.state===Ne)return He(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ge);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===X)Pe(e);else if(e.state===Ne){const s=F;F=null,oe(()=>He(e,t[0]),!1),F=s}}function oe(e,t){if(F)return e();let r=!1;t||(F=[]),G?r=!0:G=[],Ge++;try{const s=e();return Xt(r),s}catch(s){r||(G=null),F=null,dt(s)}}function Xt(e){if(F&&(Lt(F),F=null),e)return;const t=G;G=null,t.length&&oe(()=>Ct(t),!1)}function Lt(e){for(let t=0;t<e.length;t++)Be(e[t])}function Zt(e){let t,r=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[r++]=s:Be(s)}for(t=0;t<r;t++)Be(e[t])}function He(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const n=s.state;n===X?s!==t&&(!s.updatedAt||s.updatedAt<Ge)&&Be(s):n===Ne&&He(s,t)}}}function Pt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Ne,r.pure?F.push(r):G.push(r),r.observers&&Pt(r))}}function Se(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),s=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){const l=n.pop(),a=r.observerSlots.pop();s<n.length&&(l.sourceSlots[a]=s,n[s]=l,r.observerSlots[s]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Se(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Se(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function er(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function dt(e,t=w){throw er(e)}function at(e){if(typeof e=="function"&&!e.length)return at(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const s=at(e[r]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function tr(e,t){return function(s){let n;return S(()=>n=Y(()=>(w.context={...w.context,[e]:s.value},Yt(()=>s.children))),void 0),n}}function b(e,t){return Y(()=>e(t||{}))}const rr=e=>`Stale read from <${e}>.`;function xe(e){const t=e.keyed,r=M(()=>e.when,void 0,void 0),s=t?r:M(r,void 0,{equals:(n,l)=>!n==!l});return M(()=>{const n=s();if(n){const l=e.children;return typeof l=="function"&&l.length>0?Y(()=>l(t?n:()=>{if(!Y(s))throw rr("Show");return r()})):l}return e.fallback},void 0,void 0)}function sr(e,t,r){let s=r.length,n=t.length,l=s,a=0,i=0,o=t[n-1].nextSibling,d=null;for(;a<n||i<l;){if(t[a]===r[i]){a++,i++;continue}for(;t[n-1]===r[l-1];)n--,l--;if(n===a){const f=l<s?i?r[i-1].nextSibling:r[l-i]:o;for(;i<l;)e.insertBefore(r[i++],f)}else if(l===i)for(;a<n;)(!d||!d.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[l-1]&&r[i]===t[n-1]){const f=t[--n].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--l],f),t[n]=r[l]}else{if(!d){d=new Map;let u=i;for(;u<l;)d.set(r[u],u++)}const f=d.get(t[a]);if(f!=null)if(i<f&&f<l){let u=a,h=1,x;for(;++u<n&&u<l&&!((x=d.get(t[u]))==null||x!==f+h);)h++;if(h>f-i){const g=t[a];for(;i<f;)e.insertBefore(r[i++],g)}else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}}const vt="_$DX_DELEGATE";function nr(e,t,r,s={}){let n;return St(l=>{n=l,t===document?e():c(t,e(),t.firstChild?null:void 0,r)},s.owner),()=>{n(),t.textContent=""}}function m(e,t,r,s){let n;const l=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},a=()=>(n||(n=l())).cloneNode(!0);return a.cloneNode=a,a}function ce(e,t=window.document){const r=t[vt]||(t[vt]=new Set);for(let s=0,n=e.length;s<n;s++){const l=e[s];r.has(l)||(r.add(l),t.addEventListener(l,lr))}}function W(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function J(e,t){t==null?e.removeAttribute("class"):e.className=t}function ye(e,t,r,s){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function ut(e,t,r){return Y(()=>e(t,r))}function c(e,t,r,s){if(r!==void 0&&!s&&(s=[]),typeof t!="function")return Re(e,t,s,r);S(n=>Re(e,t(),n,r),s)}function lr(e){let t=e.target;const r=`$$${e.type}`,s=e.target,n=e.currentTarget,l=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),a=()=>{const o=t[r];if(o&&!t.disabled){const d=t[`${r}Data`];if(d!==void 0?o.call(t,d,e):o.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},i=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const o=e.composedPath();l(o[0]);for(let d=0;d<o.length-2&&(t=o[d],!!a());d++){if(t._$host){t=t._$host,i();break}if(t.parentNode===n)break}}else i();l(s)}function Re(e,t,r,s,n){for(;typeof r=="function";)r=r();if(t===r)return r;const l=typeof t,a=s!==void 0;if(e=a&&r[0]&&r[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===r))return r;if(a){let i=r[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),r=ve(e,r,s,i)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||l==="boolean")r=ve(e,r,s);else{if(l==="function")return S(()=>{let i=t();for(;typeof i=="function";)i=i();r=Re(e,i,r,s)}),()=>r;if(Array.isArray(t)){const i=[],o=r&&Array.isArray(r);if(it(i,t,r,n))return S(()=>r=Re(e,i,r,s,!0)),()=>r;if(i.length===0){if(r=ve(e,r,s),a)return r}else o?r.length===0?xt(e,i,s):sr(e,r,i):(r&&ve(e),xt(e,i));r=i}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=ve(e,r,s,t);ve(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function it(e,t,r,s){let n=!1;for(let l=0,a=t.length;l<a;l++){let i=t[l],o=r&&r[e.length],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))n=it(e,i,o)||n;else if(d==="function")if(s){for(;typeof i=="function";)i=i();n=it(e,Array.isArray(i)?i:[i],Array.isArray(o)?o:[o])||n}else e.push(i),n=!0;else{const f=String(i);o&&o.nodeType===3&&o.data===f?e.push(o):e.push(document.createTextNode(f))}}return n}function xt(e,t,r=null){for(let s=0,n=t.length;s<n;s++)e.insertBefore(t[s],r)}function ve(e,t,r,s){if(r===void 0)return e.textContent="";const n=s||document.createTextNode("");if(t.length){let l=!1;for(let a=t.length-1;a>=0;a--){const i=t[a];if(n!==i){const o=i.parentNode===e;!l&&!a?o?e.replaceChild(n,i):e.insertBefore(n,r):o&&i.remove()}else l=!0}}else e.insertBefore(n,r);return[n]}const ar="http://www.w3.org/2000/svg";function ir(e,t=!1){return t?document.createElementNS(ar,e):document.createElement(e)}function or(e){const{useShadow:t}=e,r=document.createTextNode(""),s=()=>e.mount||document.body,n=qt();let l;return Le(()=>{l||(l=Gt(n,()=>M(()=>e.children)));const a=s();if(a instanceof HTMLHeadElement){const[i,o]=I(!1),d=()=>o(!0);St(f=>c(a,()=>i()?f():l(),null)),Ve(d)}else{const i=ir(e.isSVG?"g":"div",e.isSVG),o=t&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return r.parentNode},configurable:!0}),c(o,l),a.appendChild(i),e.ref&&e.ref(i),Ve(()=>a.removeChild(i))}},void 0,{render:!0}),r}const ot=Symbol("store-raw"),we=Symbol("store-node"),q=Symbol("store-has"),Et=Symbol("store-self");function jt(e){let t=e[ie];if(!t&&(Object.defineProperty(e,ie,{value:t=new Proxy(e,ur)}),!Array.isArray(e))){const r=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let n=0,l=r.length;n<l;n++){const a=r[n];s[a].get&&Object.defineProperty(e,a,{enumerable:s[a].enumerable,get:s[a].get.bind(t)})}}return t}function Ue(e){let t;return e!=null&&typeof e=="object"&&(e[ie]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Me(e,t=new Set){let r,s,n,l;if(r=e!=null&&e[ot])return r;if(!Ue(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,i=e.length;a<i;a++)n=e[a],(s=Me(n,t))!==n&&(e[a]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,d=a.length;o<d;o++)l=a[o],!i[l].get&&(n=e[l],(s=Me(n,t))!==n&&(e[l]=s))}return e}function We(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Ae(e,t,r){if(e[t])return e[t];const[s,n]=I(r,{equals:!1,internal:!0});return s.$=n,e[t]=s}function cr(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===ie||t===we||(delete r.value,delete r.writable,r.get=()=>e[ie][t]),r}function Tt(e){lt()&&Ae(We(e,we),Et)()}function dr(e){return Tt(e),Reflect.ownKeys(e)}const ur={get(e,t,r){if(t===ot)return e;if(t===ie)return r;if(t===bt)return Tt(e),r;const s=We(e,we),n=s[t];let l=n?n():e[t];if(t===we||t===q||t==="__proto__")return l;if(!n){const a=Object.getOwnPropertyDescriptor(e,t);lt()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(l=Ae(s,t,l)())}return Ue(l)?jt(l):l},has(e,t){return t===ot||t===ie||t===bt||t===we||t===q||t==="__proto__"?!0:(lt()&&Ae(We(e,q),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:dr,getOwnPropertyDescriptor:cr};function ze(e,t,r,s=!1){if(!s&&e[t]===r)return;const n=e[t],l=e.length;r===void 0?(delete e[t],e[q]&&e[q][t]&&n!==void 0&&e[q][t].$()):(e[t]=r,e[q]&&e[q][t]&&n===void 0&&e[q][t].$());let a=We(e,we),i;if((i=Ae(a,t,n))&&i.$(()=>r),Array.isArray(e)&&e.length!==l){for(let o=e.length;o<l;o++)(i=a[o])&&i.$();(i=Ae(a,"length",l))&&i.$(e.length)}(i=a[Et])&&i.$()}function Dt(e,t){const r=Object.keys(t);for(let s=0;s<r.length;s+=1){const n=r[s];ze(e,n,t[n])}}function fr(e,t){if(typeof t=="function"&&(t=t(e)),t=Me(t),Array.isArray(t)){if(e===t)return;let r=0,s=t.length;for(;r<s;r++){const n=t[r];e[r]!==n&&ze(e,r,n)}ze(e,"length",s)}else Dt(e,t)}function _e(e,t,r=[]){let s,n=e;if(t.length>1){s=t.shift();const a=typeof s,i=Array.isArray(e);if(Array.isArray(s)){for(let o=0;o<s.length;o++)_e(e,[s[o]].concat(t),r);return}else if(i&&a==="function"){for(let o=0;o<e.length;o++)s(e[o],o)&&_e(e,[o].concat(t),r);return}else if(i&&a==="object"){const{from:o=0,to:d=e.length-1,by:f=1}=s;for(let u=o;u<=d;u+=f)_e(e,[u].concat(t),r);return}else if(t.length>1){_e(e[s],t,[s].concat(r));return}n=e[s],r=[s].concat(r)}let l=t[0];typeof l=="function"&&(l=l(n,r),l===n)||s===void 0&&l==null||(l=Me(l),s===void 0||Ue(n)&&Ue(l)&&!Array.isArray(l)?Dt(n,l):ze(e,s,l))}function ft(...[e,t]){const r=Me(e||{}),s=Array.isArray(r),n=jt(r);function l(...a){zt(()=>{s&&a.length===1?fr(r,a[0]):_e(r,a)})}return[n,l]}function yt(e,t,r,s=100,n=.15){const l=e/30,a=(t-e)/60,i=(r-t)/275,o=(r-e)/335,d=Math.log10(i*a*l)*s,f=(-o+l)*n,u=d+f;return Math.round(u)}class hr{constructor(){this.baseUrl="https://formulae.brew.sh/api"}async fetchAllFormulaMetadata(){try{const t=await fetch(`${this.baseUrl}/formula.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(s=>[s.name,{version:s.versions?.stable||null,license:s.license||null,desc:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/core"}]))}catch(t){return console.error("Error fetching formula metadata:",t),new Map}}async fetchAllCaskMetadata(){try{const t=await fetch(`${this.baseUrl}/cask.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(s=>[s.token,{version:s.version||null,desc:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/cask"}]))}catch(t){return console.error("Error fetching cask metadata:",t),new Map}}async fetchAnalyticsData(t,r="install-on-request"){try{const s=await fetch(`${this.baseUrl}/analytics/${r}/${t}.json`);if(!s.ok)throw new Error(`Failed to fetch analytics data for ${r}/${t}`);return await s.json()}catch(s){throw console.error(`Error fetching analytics data for ${r}/${t}:`,s),s}}async fetchAllData(t=!0,r=!0){try{const s={30:"30d",90:"90d",365:"365d"},n=[];t?(n.push(this.fetchAllFormulaMetadata()),Object.values(s).forEach(g=>{n.push(this.fetchAnalyticsData(g,"install-on-request"))})):(n.push(Promise.resolve(new Map)),Object.values(s).forEach(()=>{n.push(Promise.resolve({items:[]}))})),r?(n.push(this.fetchAllCaskMetadata()),Object.values(s).forEach(g=>{n.push(this.fetchAnalyticsData(g,"cask-install"))})):(n.push(Promise.resolve(new Map)),Object.values(s).forEach(()=>{n.push(Promise.resolve({items:[]}))}));const l=await Promise.all(n),a=l[0],i={30:l[1],90:l[2],365:l[3]},o=l[4],d={30:l[5],90:l[6],365:l[7]},f=t?this.processFormulaData(a,i):[],u=r?this.processCaskData(o,d):[],h=[...f,...u];return{summary:Object.fromEntries([30,90,365].map(g=>[g,{date:{start:i[g]?.start_date||d[g]?.start_date||"",end:i[g]?.end_date||d[g]?.end_date||""},formula:{items:i[g]?.total_items||0,count:i[g]?.total_count||0},cask:{items:d[g]?.total_items||0,count:d[g]?.total_count||0}}])),items:h}}catch(s){throw console.error("Error fetching all data:",s),s}}processFormulaData(t,r){return r[365].items.map(s=>{const n=t.get(s.formula)||{},l=parseInt(s.count.replace(/,/g,"")),a=parseInt(r[90].items.find(d=>d.formula===s.formula)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(d=>d.formula===s.formula)?.count.replace(/,/g,"")||"0"),o=yt(i,a,l);return{formula:s.formula,name:s.formula,count:{365:l,90:a,30:i},percent:{365:parseFloat(s.percent),90:parseFloat(r[90].items.find(d=>d.formula===s.formula)?.percent||"0"),30:parseFloat(r[30].items.find(d=>d.formula===s.formula)?.percent||"0")},score:o,version:n.version||null,license:n.license||null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/core",brewUrl:this.generateBrewUrl(s.formula,n.tap||"homebrew/core",!1),isCask:!1}})}processCaskData(t,r){return r[365].items.map(s=>{const n=t.get(s.cask)||{},l=parseInt(s.count.replace(/,/g,"")),a=parseInt(r[90].items.find(d=>d.cask===s.cask)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(d=>d.cask===s.cask)?.count.replace(/,/g,"")||"0"),o=yt(i,a,l);return{formula:s.cask,name:s.cask,count:{365:l,90:a,30:i},percent:{365:parseFloat(s.percent),90:parseFloat(r[90].items.find(d=>d.cask===s.cask)?.percent||"0"),30:parseFloat(r[30].items.find(d=>d.cask===s.cask)?.percent||"0")},score:o,version:n.version||null,license:null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/cask",brewUrl:this.generateBrewUrl(s.cask,n.tap||"homebrew/cask",!0),isCask:!0}})}generateBrewUrl(t,r,s){const n=s?"cask":"formula";if(r==="homebrew/core"||r==="homebrew/cask")return`https://formulae.brew.sh/${n}/${t}`;const l=r.split("/");if(l.length!==2)return`https://formulae.brew.sh/${n}/${t}`;const[a,i]=l;return`https://formulae.brew.sh/${n}/${a}/${i}/${t}`}}class gr{constructor(){this.repository=new hr,[this.store,this.setStore]=ft({period:30,search:"",isLoading:!1,error:null,summary:{30:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},90:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},365:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}}},items:[]})}async initialize(){this.setStore("isLoading",!0);try{const t=await this.repository.fetchAllData();return this.setStore("summary",t.summary),this.setStore("packages",t.items),await this.fetchPackageDetails(),t.items}catch(t){return this.setStore("error",t?.message||"Failed to load data"),[]}finally{this.setStore("isLoading",!1)}}async fetchPackageDetails(){const[t,r]=await Promise.all([fetch("https://formulae.brew.sh/api/formula.json"),fetch("https://formulae.brew.sh/api/cask.json")]),[s,n]=await Promise.all([t.json(),r.json()]),l=s.reduce((i,o)=>(i[o.name]={desc:o.desc,license:o.license,dependencies:o.dependencies,requirements:o.requirements,conflicts_with:o.conflicts_with,tap:o.tap,url:o.url,version:o.versions.stable,homepage:o.homepage,caveats:o.caveats},i),{}),a=n.reduce((i,o)=>(i[o.token]={desc:o.desc,license:o.license,version:o.version,homepage:o.homepage,caveats:o.caveats,dependencies:o.depends_on?.formula,tap:o.tap,url:o.url},i),{});this.setStore("packages",this.store.packages.map(i=>({...i,...(i.type==="formula"?l[i.formula]:a[i.formula])||{}})))}}const ht=new gr,L=ht.store;ht.setStore;const mr=()=>ht.initialize();class qe{static matchesTerm(t,r,s,n){return s?new RegExp(`\\b${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,n?"":"i").test(t):t.includes(r)}static processSearchTerms(t,r){const s=t.trim().split(/\s+/).filter(n=>n.length>0);return r?s:s.map(n=>n.toLowerCase())}static packageMatchesSearch(t,r,s,n,l){if(r.length===0)return!0;const a=t.formula,i=t.description||"",o=n?a:a.toLowerCase(),d=n?i:i.toLowerCase();switch(s){case"name":return r.every(f=>this.matchesTerm(o,f,l,n));case"description":return r.every(f=>this.matchesTerm(d,f,l,n));case"all":default:return r.every(f=>this.matchesTerm(o,f,l,n)||this.matchesTerm(d,f,l,n))}}}class pr{static filterItems(t,r,s,n,l,a,i,o=!1){if(!t||t.length===0)return[];const d=u=>u.isCask?i?.[a]?.cask?.total_count||0:i?.[a]?.formula?.total_count||0,f=qe.processSearchTerms(r,n);return t.filter(u=>qe.packageMatchesSearch(u,f,s,n,l)).sort((u,h)=>o?h.score-u.score:h.count[a]-u.count[a]).map(u=>({...u,displayCount:u.count[a]||0,percent:this.calculatePercent(u.count[a],d(u))})).slice(0,250)}static calculatePercent(t,r){return!r||!t?"0.00":(t/r*100).toFixed(2)}}var br=m("<img src=https://upload.wikimedia.org/wikipedia/commons/9/95/Homebrew_logo.svg alt=Homebrew>");function vr(e){return(()=>{var t=br();return S(()=>J(t,`w-12 h-12 ${e.class||""}`)),t})()}var xr=m('<div class="flex flex-col justify-center items-center h-64 space-y-4"><div class="loading-spinner animate-spin rounded-full h-12 w-12 border-t-2 border-b-2"></div><div class=text-gray-500>Loading Homebrew analytics data...');function yr(){return xr()}const Ot=Kt();function wr(e){const[t,r]=ft({items:[],visible:!1});Ke(()=>{try{const u=localStorage.getItem("brewTrendCart");if(u){const h=JSON.parse(u);r("items",h)}}catch(u){console.error("Failed to load cart from localStorage:",u)}});const s=u=>{try{localStorage.setItem("brewTrendCart",JSON.stringify(u))}catch(h){console.error("Failed to save cart to localStorage:",h)}},f={cart:t,addToCart:u=>{if(!t.items.some(h=>h.formula===u.formula)){const h=[...t.items,u];r("items",h),s(h)}},removeFromCart:u=>{const h=t.items.filter(x=>x.formula!==u.formula);r("items",h),s(h)},clearCart:()=>{r("items",[]),s([])},toggleCartVisibility:()=>{r("visible",!t.visible)},closeCart:()=>{r("visible",!1)},isInCart:u=>t.items.some(h=>h.formula===u.formula)};return b(Ot.Provider,{value:f,get children(){return e.children}})}function Qe(){const e=Qt(Ot);if(!e)throw new Error("useCart must be used within a CartProvider");return e}var $r=m('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><path d="M5,6V16C5,18 6.5,19 8,19H14C15.5,19 17,18 17,16V6"stroke=currentColor fill="rgba(245, 158, 11, 0.3)"></path><path d="M17,6H5C5,4 6.5,3 8,3H14C15.5,3 17,4 17,6Z"stroke=currentColor fill=white></path><path d="M17,6V3C19,3 20,4.5 20,6V8C20,9.5 19,11 17,11"stroke=currentColor></path><path d="M7,8.5C9,8 11,10 13,9.5C15,9 16,8 16,8"stroke=currentColor stroke-linecap=round></path><path d=M7,12.5H15 stroke=currentColor stroke-linecap=round></path><path d=M7,15.5H15 stroke=currentColor stroke-linecap=round>');function Ye(e){return(()=>{var t=$r();return S(()=>W(t,"class",e.class)),t})()}var kr=m('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><ellipse cx=12 cy=6 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=6 rx=6 ry=2 stroke=currentColor></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 stroke=currentColor></ellipse><line x1=6 y1=6 x2=6 y2=18 stroke=currentColor></line><line x1=18 y1=6 x2=18 y2=18 stroke=currentColor></line><line x1=8 y1=9 x2=8 y2=15 stroke=currentColor></line><line x1=12 y1=8 x2=12 y2=16 stroke=currentColor></line><line x1=16 y1=9 x2=16 y2=15 stroke=currentColor>');function Je(e){return(()=>{var t=kr();return S(()=>W(t,"class",e.class)),t})()}var Cr=m("<svg width=73 height=25><path stroke=#F9A03C fill=none stroke-width=2>");function It(e){const t=M(()=>{const r=e.count,s=(r[365]-r[90])/275,n=(r[90]-r[30])/60,l=r[30]/30,a=Math.max(s,n,l,.001),i=73,o=25,d=o-s/a*o,f=o-n/a*o,u=o-l/a*o;return`M0,${d}L55,${d}L55,${f}L67,${f}L67,${u}L${i},${u}`});return(()=>{var r=Cr(),s=r.firstChild;return S(()=>W(s,"d",t())),r})()}var _r=m('<div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Dependencies</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4"><div class="flex flex-wrap gap-2">'),Sr=m('<div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Caveats</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4"><p class="text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap">'),Mr=m('<div class="fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center"><div class="bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full mx-4 relative shadow-xl"><button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"aria-label="Close modal">✕</button><div class="flex items-center border-b border-gray-200 dark:border-gray-700 p-4 pb-4 mb-4"><div class=mr-3></div><div><h2 class="text-2xl font-bold text-gray-900 dark:text-white"></h2><p class="text-gray-600 dark:text-gray-300"></p></div></div><div class="p-4 overflow-y-auto max-h-[60vh]"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class=space-y-6><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Package Details</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2"><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Version</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">License</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Category</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Created</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Last Update</span><span class="font-medium text-gray-900 dark:text-white"></span></div></div></div></div><div class=space-y-6><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Installation Statistics</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2"><div class="flex justify-between items-center"><span class="text-gray-600 dark:text-gray-400">30 Day Installs</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between items-center"><span class="text-gray-600 dark:text-gray-400">90 Day Installs</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between items-center"><span class="text-gray-600 dark:text-gray-400">365 Day Installs</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between items-center pt-2"><span class="text-gray-600 dark:text-gray-400">Install Trend</span><div class="flex items-center gap-2"><span> <!>%</span></div></div></div></div></div></div></div><div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 p-4"><div class="flex justify-between"><div class="flex space-x-4"><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Brew.sh</a></div><div class="flex space-x-2"><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200">Close</button><button><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><span>'),Ar=m('<span class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-sm text-gray-800 dark:text-gray-200">'),Lr=m('<a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Homepage');function Pr(e){const[t,r]=I(null),{addToCart:s,removeFromCart:n,isInCart:l}=Qe();let a;Le(()=>{e.package&&d()});const i=h=>{h.key==="Escape"&&e.isOpen&&e.onClose()},o=h=>{a&&!a.contains(h.target)&&e.isOpen&&e.onClose()};Ke(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Ve(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)});const d=()=>{if(!e.package)return;const h=e.package.count[30],g=(e.package.count[365]-h)*30/335,p=(h-g)/g*100;r({isPositive:p>=0,value:Math.abs(p).toFixed(1)})},f=h=>h?new Date(h).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown",u=()=>{l(e.package)?n(e.package):s(e.package)};return b(xe,{get when(){return e.isOpen},get children(){var h=Mr(),x=h.firstChild,g=x.firstChild,p=g.nextSibling,$=p.firstChild,T=$.nextSibling,N=T.firstChild,D=N.nextSibling,k=p.nextSibling,A=k.firstChild,y=A.firstChild,v=y.firstChild,P=v.firstChild,V=P.nextSibling,E=V.firstChild,B=E.firstChild,C=B.nextSibling,O=E.nextSibling,H=O.firstChild,K=H.nextSibling,Q=O.nextSibling,de=Q.firstChild,ue=de.nextSibling,R=Q.nextSibling,Z=R.firstChild,ee=Z.nextSibling,te=R.nextSibling,U=te.firstChild,$e=U.nextSibling,re=y.nextSibling,fe=re.firstChild,se=fe.firstChild,ne=se.nextSibling,le=ne.firstChild,he=le.firstChild,ge=he.nextSibling,me=le.nextSibling,Xe=me.firstChild,Ze=Xe.nextSibling,Ee=me.nextSibling,et=Ee.firstChild,ke=et.nextSibling,tt=Ee.nextSibling,je=tt.firstChild,Te=je.nextSibling,ae=Te.firstChild,De=ae.firstChild,Oe=De.nextSibling;Oe.nextSibling;var rt=k.nextSibling,Ie=rt.firstChild,Ce=Ie.firstChild,Ft=Ce.firstChild,Nt=Ce.nextSibling,gt=Nt.firstChild,st=gt.nextSibling,Vt=st.firstChild,Bt=Vt.nextSibling,mt=a;return typeof mt=="function"?ut(mt,x):a=x,ye(g,"click",e.onClose),c($,(()=>{var j=M(()=>e.package?.type==="formula");return()=>j()?b(Ye,{class:"w-8 h-8 text-amber-500"}):b(Je,{class:"w-8 h-8 text-purple-500"})})()),c(N,()=>e.package?.formula),c(D,()=>e.package?.desc),c(C,()=>e.package?.version||"N/A"),c(K,()=>e.package?.license||"N/A"),c(ue,()=>e.package?.category||"N/A"),c(ee,()=>f(e.package?.created_at)),c($e,()=>f(e.package?.updated_at)),c(y,b(xe,{get when(){return e.package?.dependencies?.length},get children(){var j=_r(),z=j.firstChild,pe=z.nextSibling,be=pe.firstChild;return c(be,()=>e.package?.dependencies.map(Ht=>(()=>{var pt=Ar();return c(pt,Ht),pt})())),j}}),null),c(ge,()=>e.package?.count[30].toLocaleString()),c(Ze,()=>e.package?.count[90].toLocaleString()),c(ke,()=>e.package?.count[365].toLocaleString()),c(Te,b(It,{get count(){return e.package?.count}}),ae),c(ae,()=>t()?.isPositive?"↑":"↓",De),c(ae,()=>Math.abs(t()?.value),Oe),c(re,b(xe,{get when(){return e.package?.caveats},get children(){var j=Sr(),z=j.firstChild,pe=z.nextSibling,be=pe.firstChild;return c(be,()=>e.package?.caveats),j}}),null),c(Ce,(()=>{var j=M(()=>!!e.package?.homepage);return()=>j()&&(()=>{var z=Lr();return S(()=>W(z,"href",e.package.homepage)),z})()})(),null),ye(gt,"click",e.onClose),st.$$click=u,c(Bt,()=>l(e.package)?"Remove from Cart":"Add to Cart"),S(j=>{var z=`text-sm ${t()?.isPositive?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,pe=e.package?.brewUrl,be=`px-3 py-1 rounded-md flex items-center ${l(e.package)?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`;return z!==j.e&&J(ae,j.e=z),pe!==j.t&&W(Ft,"href",j.t=pe),be!==j.a&&J(st,j.a=be),j},{e:void 0,t:void 0,a:void 0}),h}})}ce(["click"]);var Er=m("<span class=search-results-highlight>");function wt(e){const{text:t,query:r,context:s,searchMode:n,caseSensitive:l,wholeWord:a}=e;return M(()=>{if(n!=="all"&&n!==s)return t;if(!r||!t)return t||"-";const o=qe.processSearchTerms(r,l);if(o.length===0)return t;const d=l?t:t.toLowerCase();if(!o.some(g=>qe.matchesTerm(d,g,a,l)))return t;const f=[];o.forEach(g=>{if(a){const p=new RegExp(`\\b${g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,l?"g":"gi");let $;const T=l?t:t.toLowerCase();for(;($=p.exec(T))!==null;)f.push([$.index,$.index+g.length])}else{let p=0;const $=l?t:t.toLowerCase();for(;(p=$.indexOf(g,p))!==-1;)f.push([p,p+g.length]),p+=1}}),f.sort((g,p)=>g[0]-p[0]);const u=[];if(f.length>0){let g=f[0];for(let p=1;p<f.length;p++)f[p][0]<=g[1]?g[1]=Math.max(g[1],f[p][1]):(u.push(g),g=f[p]);u.push(g)}const h=[];let x=0;return u.forEach(([g,p])=>{g>x&&h.push(t.substring(x,g)),h.push((()=>{var $=Er();return $.style.setProperty("background-color","yellow"),$.style.setProperty("color","black"),c($,()=>t.substring(g,p)),$})()),x=p}),x<t.length&&h.push(t.substring(x)),h})()}var jr=m('<tr class="table-row cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50"><td class="w-8 table-cell"></td><td class="w-8 table-cell text-center"></td><td class="w-48 table-cell font-medium"></td><td class="w-32 table-cell"></td><td class="w-full table-cell text-gray-600 max-w-md truncate"></td><td class="w-24 table-cell text-right font-medium"title="Popularity Score"></td><td class="w-32 table-cell text-right"></td><td class="w-10 table-cell px-2"><button>'),Tr=m('<div title="Cask - GUI application or binary package distributed as macOS native installer">'),Dr=m('<div title="Formula - Command-line software package managed by Homebrew">'),Or=m('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Ir=m('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">');function Fr(e){const{item:t,index:r,searchQuery:s,searchMode:n,caseSensitive:l,wholeWord:a,onClick:i}=e,{addToCart:o,removeFromCart:d,isInCart:f}=Qe(),u=h=>{h.stopPropagation(),f(t)?d(t):o(t)};return(()=>{var h=jr(),x=h.firstChild,g=x.nextSibling,p=g.nextSibling,$=p.nextSibling,T=$.nextSibling,N=T.nextSibling,D=N.nextSibling,k=D.nextSibling,A=k.firstChild;return h.$$click=()=>i(t),c(x,r+1),c(g,(()=>{var y=M(()=>!!t.isCask);return()=>y()?(()=>{var v=Tr();return c(v,b(Je,{class:"w-5 h-5 text-purple-500 inline-block"})),v})():(()=>{var v=Dr();return c(v,b(Ye,{class:"w-5 h-5 text-amber-500 inline-block"})),v})()})()),c(p,b(wt,{get text(){return t.formula},get query(){return s()},context:"name",get searchMode(){return n()},get caseSensitive(){return l()},get wholeWord(){return a()}})),c($,b(It,{get count(){return t.count}})),c(T,b(wt,{get text(){return t.description},get query(){return s()},context:"description",get searchMode(){return n()},get caseSensitive(){return l()},get wholeWord(){return a()}})),c(N,()=>t.score),c(D,()=>t.displayCount.toLocaleString()),A.$$click=u,c(A,(()=>{var y=M(()=>!!f(t));return()=>y()?Or():Ir()})()),S(y=>{var v=t.formula,P=t.description,V=`p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 ${f(t)?"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600":"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-600"}`,E=f(t)?"Remove from cart":"Add to cart";return v!==y.e&&W(p,"title",y.e=v),P!==y.t&&W(T,"title",y.t=P),V!==y.a&&J(A,y.a=V),E!==y.o&&W(A,"title",y.o=E),y},{e:void 0,t:void 0,a:void 0,o:void 0}),h})()}ce(["click"]);var Nr=m('<img src=svg/components/sort-indicator.svg alt="Sort indicator">');function $t(e){return(()=>{var t=Nr();return S(()=>J(t,e.class)),t})()}var Vr=m('<div class=data-table><table><thead class=table-header><tr class=table-header><th class="p-3 w-8 text-left border-b">#</th><th class="p-3 w-8 text-center border-b"></th><th class="p-3 w-48 text-left border-b">Package</th><th class="p-3 w-32 text-center border-b">Trend</th><th class="p-3 w-full text-left border-b">Description</th><th class="p-3 w-24 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Score</span></div></th><th class="p-3 w-32 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Installs</span></div></th><th class="p-3 w-10 border-b">Cart</th></tr></thead></table><div class=table-body><table><tbody>'),Br=m('<tr><td colspan=8 class="py-8 text-center text-gray-500">No packages found matching your search.');const Hr=({items:e,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,onPackageClick:l})=>{const[a,i]=I("score"),o=()=>a()?[...e].sort((f,u)=>{const h=a();return h==="score"?u.score-f.score:h==="installs"?u.displayCount-f.displayCount:0}):e,d=f=>{i(f)};return(()=>{var f=Vr(),u=f.firstChild,h=u.firstChild,x=h.firstChild,g=x.firstChild,p=g.nextSibling,$=p.nextSibling,T=$.nextSibling,N=T.nextSibling,D=N.nextSibling,k=D.firstChild,A=k.firstChild,y=D.nextSibling,v=y.firstChild,P=v.firstChild,V=u.nextSibling,E=V.firstChild,B=E.firstChild;return D.$$click=()=>d("score"),c(k,(()=>{var C=M(()=>a()==="score");return()=>C()&&b($t,{})})(),A),y.$$click=()=>d("installs"),c(v,(()=>{var C=M(()=>a()==="installs");return()=>C()&&b($t,{})})(),P),c(B,()=>o().map((C,O)=>b(Fr,{get key(){return C.name},item:C,index:O,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,onClick:l})),null),c(B,(()=>{var C=M(()=>e.length===0);return()=>C()&&Br()})(),null),f})()};ce(["click"]);var Rr=m('<div class="relative w-full md:w-2/3 search-container"><div class="relative flex items-center"><input type=text class="search-input w-full pr-8"aria-label="Search packages"></div><div class="search-options mt-2 flex flex-wrap gap-x-4 gap-y-2 text-sm"><div class="search-mode flex space-x-2"><label class="flex items-center"title="Search in names and descriptions"><input type=radio name=searchMode value=all><span class=ml-1>🔍 All</span></label><label class="flex items-center"title="Search in package names only"><input type=radio name=searchMode value=name><span class=ml-1>📦 Name</span></label><label class="flex items-center"title="Search in descriptions only"><input type=radio name=searchMode value=description><span class=ml-1>📄 Desc</span></label></div><div class="search-options flex space-x-3 items-center"><label class="flex items-center"title="Match case (Aa ≠ aa)"><input type=checkbox><span class=ml-1>Aa</span></label><label class="flex items-center"title="Match whole words only"><input type=checkbox><span class=ml-1>[w]</span></label><button title="Reset search options"aria-label="Reset search options">✕'),Ur=m('<button class="absolute right-2 flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-600 transition-colors"aria-label="Clear search"title="Clear search"><span class="text-sm font-bold">✕');function Wr(e){const[t,r]=I(""),s=()=>e.searchMode!=="all"||e.caseSensitive||e.wholeWord,n=()=>{r(""),e.onSearchChange("")},l=()=>{e.onSearchModeChange("all"),e.onCaseSensitiveChange(!1),e.onWholeWordChange(!1)};return(()=>{var a=Rr(),i=a.firstChild,o=i.firstChild,d=i.nextSibling,f=d.firstChild,u=f.firstChild,h=u.firstChild,x=u.nextSibling,g=x.firstChild,p=x.nextSibling,$=p.firstChild,T=f.nextSibling,N=T.firstChild,D=N.firstChild,k=N.nextSibling,A=k.firstChild,y=k.nextSibling;return o.$$input=v=>e.onSearchChange(v.target.value),c(i,(()=>{var v=M(()=>!!e.searchQuery);return()=>v()&&(()=>{var P=Ur();return P.$$click=n,P})()})(),null),h.addEventListener("change",()=>e.onSearchModeChange("all")),g.addEventListener("change",()=>e.onSearchModeChange("name")),$.addEventListener("change",()=>e.onSearchModeChange("description")),D.addEventListener("change",v=>e.onCaseSensitiveChange(v.target.checked)),A.addEventListener("change",v=>e.onWholeWordChange(v.target.checked)),y.$$click=l,S(v=>{var P=e.isLoading?"Loading...":"Search packages...",V=e.isLoading,E=!s(),B=`ml-1 flex items-center justify-center h-5 w-5 rounded text-xs transition-colors ${s()?"text-gray-500 hover:text-gray-700 hover:bg-gray-200 cursor-pointer":"text-gray-300 cursor-default"}`;return P!==v.e&&W(o,"placeholder",v.e=P),V!==v.t&&(o.disabled=v.t=V),E!==v.a&&(y.disabled=v.a=E),B!==v.o&&J(y,v.o=B),v},{e:void 0,t:void 0,a:void 0,o:void 0}),S(()=>o.value=e.searchQuery),S(()=>h.checked=e.searchMode==="all"),S(()=>g.checked=e.searchMode==="name"),S(()=>$.checked=e.searchMode==="description"),S(()=>D.checked=e.caseSensitive),S(()=>A.checked=e.wholeWord),a})()}ce(["input","click"]);var zr=m('<div class="px-4 md:px-6 pt-4 text-sm text-gray-500"> results found for "<!>"');function qr(e){const{count:t,query:r}=e;return r?(()=>{var s=zr(),n=s.firstChild,l=n.nextSibling;return l.nextSibling,c(s,t,n),c(s,r,l),s})():null}var Gr=m('<div class="flex space-x-2">'),Kr=m("<button>");function Qr(e){return(()=>{var t=Gr();return c(t,()=>[{id:30,label:"Last 30 Days"},{id:90,label:"Last 90 Days"},{id:365,label:"Last Year"}].map(({id:r,label:s})=>(()=>{var n=Kr();return n.$$click=()=>e.setPeriod(r),c(n,s),S(()=>J(n,`px-4 py-2 rounded border text-sm font-medium transition-colors duration-200
            ${e.period===r?"bg-amber-600 text-white border-amber-600 hover:bg-amber-700":"bg-white text-stone-800 border-stone-200 hover:bg-stone-50"}`)),n})())),t})()}ce(["click"]);var Yr=m('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor strokeWidth=2 strokeLinecap=round strokeLinejoin=round><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12">');function kt(e){return(()=>{var t=Yr();return S(()=>W(t,"class",e.class||"")),t})()}var Jr=m("<div>"),Xr=m('<div class="fixed bg-gray-800 text-white p-4 rounded-lg shadow-xl w-[480px] z-[100] border border-gray-700"><div class="absolute -top-2 right-10 transform w-4 h-4 rotate-45 bg-gray-800 border-t border-l border-gray-700">');function Zr(e){const[t,r]=I(!1),[s,n]=I({top:0,left:0});let l;const a=o=>{const d=l.getBoundingClientRect();n({top:d.bottom+window.scrollY+10,left:d.right+window.scrollX-450}),r(!0)},i=()=>{r(!1)};return[(()=>{var o=Jr();o.addEventListener("mouseleave",i),o.addEventListener("mouseenter",a);var d=l;return typeof d=="function"?ut(d,o):l=o,c(o,()=>e.trigger),S(()=>J(o,e.triggerClass||"")),o})(),b(or,{get children(){return M(()=>!!t())()&&(()=>{var o=Xr(),d=o.firstChild;return c(o,()=>e.content,d),S(f=>{var u=`${s().top}px`,h=`${s().left}px`;return u!==f.e&&((f.e=u)!=null?o.style.setProperty("top",u):o.style.removeProperty("top")),h!==f.t&&((f.t=h)!=null?o.style.setProperty("left",h):o.style.removeProperty("left")),f},{e:void 0,t:void 0}),o})()}})]}var es=m('<div class="fixed bottom-0 left-0 right-0 bg-gray-900 text-white p-4 text-sm font-mono overflow-auto max-h-[50vh]"><pre>');function ts(e){return(()=>{var t=es(),r=t.firstChild;return c(r,()=>JSON.stringify(e.data,null,2)),t})()}function rs(e){const[t,r]=I(!1);return Le(()=>{const s=new URLSearchParams(window.location.search).has("debug"),n=new URLSearchParams(window.location.search).has("inspect");r(s||n)}),{isDebugMode:t,debugData:e}}function ss({period:e,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,filteredItems:l,store:a}){return{period:e(),searchState:{query:t(),mode:r(),caseSensitive:s(),wholeWord:n()},filteredItemsCount:l.length,storeState:{isLoading:a.isLoading,summary:a.summary}}}var ns=m('<button class="relative p-2 text-gray-200 hover:text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"aria-label="Shopping cart"title="View installation cart"><svg xmlns=http://www.w3.org/2000/svg class="w-6 h-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">'),ls=m('<span class="absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full">');function as(){const{cart:e,toggleCartVisibility:t}=Qe();return(()=>{var r=ns();return r.firstChild,ye(r,"click",t),c(r,(()=>{var s=M(()=>e.items.length>0);return()=>s()&&(()=>{var n=ls();return c(n,()=>e.items.length),n})()})(),null),r})()}ce(["click"]);var is=m('<ul class="divide-y divide-gray-200 dark:divide-gray-700">'),os=m('<div class="mt-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Installation Command</h3><pre class="bg-gray-800 text-white p-3 rounded overflow-x-auto">'),cs=m('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-8m-10 0v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 0h6">'),ds=m('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full mx-4 relative shadow-xl"><button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"aria-label="Close modal">✕</button><div class="flex items-center border-b border-gray-200 dark:border-gray-700 p-4 pb-4 mb-4"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Installation Cart (<!> <!>)</h2></div><div class="p-4 overflow-y-auto max-h-[60vh]"></div><div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 p-4"><div class="flex justify-between"><button class="px-3 py-1 rounded-md text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-medium flex items-center"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear Cart</button><div class="flex space-x-2"><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200">Close</button><button class="px-3 py-1 rounded-md bg-blue-500 hover:bg-blue-600 text-white flex items-center">'),us=m('<div class="text-center py-8 text-gray-500 dark:text-gray-400">Your cart is empty. Add packages to generate installation commands.'),fs=m('<li class="py-3 flex justify-between items-center"><div class="flex items-center space-x-3"><span class="font-medium text-gray-900 dark:text-white"></span><span class="text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs"></span></div><button class="text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300"aria-label="Remove from cart"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),hs=m('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');function gs(){const{cart:e,removeFromCart:t,clearCart:r,closeCart:s}=Qe(),[n,l]=I(!1);let a;const i=u=>{u.key==="Escape"&&e.visible&&s()},o=u=>{a&&!a.contains(u.target)&&e.visible&&s()};Ke(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Ve(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)});const d=()=>{const u=e.items.filter(g=>!g.isCask).map(g=>g.formula),h=e.items.filter(g=>g.isCask).map(g=>g.formula);let x="";return u.length>0&&(x+=`brew install ${u.join(" ")}`),h.length>0&&(x&&(x+=`
`),x+=`brew install --cask ${h.join(" ")}`),x||"No packages selected"},f=async()=>{const u=d();try{await navigator.clipboard.writeText(u),l(!0),setTimeout(()=>l(!1),3e3)}catch(h){console.error("Failed to copy:",h)}};return b(xe,{get when(){return e.visible},get children(){var u=ds(),h=u.firstChild,x=h.firstChild,g=x.nextSibling,p=g.firstChild,$=p.firstChild,T=$.nextSibling,N=T.nextSibling,D=N.nextSibling;D.nextSibling;var k=g.nextSibling,A=k.nextSibling,y=A.firstChild,v=y.firstChild,P=v.nextSibling,V=P.firstChild,E=V.nextSibling,B=a;return typeof B=="function"?ut(B,h):a=h,ye(x,"click",s),c(p,()=>e.items.length,T),c(p,()=>e.items.length===1?"package":"packages",D),c(k,b(xe,{get when(){return e.items.length>0},get fallback(){return us()},get children(){return[(()=>{var C=is();return c(C,()=>e.items.map(O=>(()=>{var H=fs(),K=H.firstChild,Q=K.firstChild,de=Q.nextSibling,ue=K.nextSibling;return c(K,(()=>{var R=M(()=>!!O.isCask);return()=>R()?b(Je,{class:"w-5 h-5 text-purple-500"}):b(Ye,{class:"w-5 h-5 text-amber-500"})})(),Q),c(Q,()=>O.formula),c(de,()=>O.description),ue.$$click=()=>t(O),H})())),C})(),(()=>{var C=os(),O=C.firstChild,H=O.nextSibling;return c(H,d),C})()]}})),ye(v,"click",r),ye(V,"click",s),E.$$click=f,c(E,b(xe,{get when(){return!n()},get fallback(){return[hs(),"Copied!"]},get children(){return[cs(),"Copy Command"]}})),S(C=>{var O=e.items.length===0,H=e.items.length===0;return O!==C.e&&(v.disabled=C.e=O),H!==C.t&&(E.disabled=C.t=H),C},{e:void 0,t:void 0}),u}})}ce(["click"]);var ms=m('<div class="flex flex-col h-screen"><header class="sticky top-0 z-10 bg-[#333333] text-white shadow-md"><div class="container mx-auto py-4 px-4"><div class="app-header flex items-center justify-between space-x-4"><div class="flex items-center shrink-0"><span class=mr-3></span><span class="text-3xl font-bold text-amber-50">Homebrew Trend Shop</span></div><div class="flex items-center gap-4 text-sm "></div><div class="flex items-center"></div></div></div></header><div class="sticky top-[72px] z-10 bg-white shadow-sm border-b border-gray-200"><div class="container mx-auto"><div class="flex md:flex-row justify-between items-center gap-4 p-3"><div class="flex items-end shrink-0"></div></div></div></div><main class="flex-1 overflow-hidden"><div class="container mx-auto h-full"><div class=table-container>'),ps=m('<div class="flex items-end"><div class="flex flex-col"><div>Period: </div><div>Formulae: <!> (<!>) · Casks: <!> (<!>)</div></div><div class="cursor-pointer shrink-0 ml-3"title="View detailed analytics and installation trends over time">'),bs=m('<div class=space-y-4><div class="flex items-center border-b border-gray-700 pb-3"><span class="cursor-pointer shrink-0 mr-3"title="View detailed analytics and installation trends over time"></span><div class="font-semibold text-lg text-amber-400">Homebrew Analytics Summary</div></div><div class=space-y-3><div class="flex items-center"><svg class="w-4 h-4 text-amber-500 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><div class=font-medium>Data Period</div></div><div class="ml-6 bg-gray-700 rounded p-2 text-gray-200"></div></div><div class="grid grid-cols-2 gap-3"><div class=space-y-2><div class="flex items-center"><div class=font-medium>Formulae</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div><div class=space-y-2><div class="flex items-center"><div class=font-medium>Casks</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div></div><div class="text-xs text-gray-400 italic mt-2 pt-2 border-t border-gray-700">Displaying data for the selected period: ');function vs(){const[e,t]=I(30),[r,s]=I(""),[n,l]=I("all"),[a,i]=I(!1),[o,d]=I(!1),[f,u]=ft([]),[h,x]=I(null),[g,p]=I(!1);Ke(async()=>{await mr()}),Le(()=>{if(L.isLoading)return;const k=pr.filterItems(L.packages||[],r(),n(),a(),o(),e(),L.summary);u(k)});const $=()=>{const k=e(),A=new Date(L.summary[k]?.date?.start),y=new Date(L.summary[k]?.date?.end);return`${A.toLocaleDateString()} - ${y.toLocaleDateString()}`},T=k=>{x(k),p(!0)},{isDebugMode:N,debugData:D}=rs(()=>ss({period:e,searchQuery:r,searchMode:n,caseSensitive:a,wholeWord:o,filteredItems:f,store:L}));return b(wr,{get children(){var k=ms(),A=k.firstChild,y=A.firstChild,v=y.firstChild,P=v.firstChild,V=P.firstChild,E=P.nextSibling,B=E.nextSibling,C=A.nextSibling,O=C.firstChild,H=O.firstChild,K=H.firstChild,Q=C.nextSibling,de=Q.firstChild,ue=de.firstChild;return c(V,b(vr,{class:"w-10 h-10 text-amber-500"})),c(E,(()=>{var R=M(()=>!!(!L.isLoading&&L.summary));return()=>R()&&b(Zr,{triggerClass:"text-stone-300 whitespace-nowrap cursor-help",get trigger(){return(()=>{var Z=ps(),ee=Z.firstChild,te=ee.firstChild;te.firstChild;var U=te.nextSibling,$e=U.firstChild,re=$e.nextSibling,fe=re.nextSibling,se=fe.nextSibling,ne=se.nextSibling,le=ne.nextSibling,he=le.nextSibling,ge=he.nextSibling;ge.nextSibling;var me=ee.nextSibling;return c(te,$,null),c(U,()=>L.summary[e()].formula.items.toLocaleString(),re),c(U,()=>L.summary[e()].formula.count.toLocaleString(),se),c(U,()=>L.summary[e()].cask.items.toLocaleString(),le),c(U,()=>L.summary[e()].cask.count.toLocaleString(),ge),c(me,b(kt,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),Z})()},get content(){return(()=>{var Z=bs(),ee=Z.firstChild,te=ee.firstChild,U=ee.nextSibling,$e=U.firstChild,re=$e.nextSibling,fe=U.nextSibling,se=fe.firstChild,ne=se.firstChild,le=ne.firstChild,he=ne.nextSibling,ge=he.firstChild,me=ge.nextSibling,Xe=he.nextSibling,Ze=Xe.firstChild,Ee=Ze.nextSibling,et=se.nextSibling,ke=et.firstChild,tt=ke.firstChild,je=ke.nextSibling,Te=je.firstChild,ae=Te.nextSibling,De=je.nextSibling,Oe=De.firstChild,rt=Oe.nextSibling,Ie=fe.nextSibling;return Ie.firstChild,c(te,b(kt,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),c(re,$),c(ne,b(Ye,{class:"w-5 h-5 text-amber-500 mr-2"}),le),c(me,()=>L.summary[e()].formula.items.toLocaleString()),c(Ee,()=>L.summary[e()].formula.count.toLocaleString()),c(ke,b(Je,{class:"w-5 h-5 text-amber-500 mr-2"}),tt),c(ae,()=>L.summary[e()].cask.items.toLocaleString()),c(rt,()=>L.summary[e()].cask.count.toLocaleString()),c(Ie,(()=>{var Ce=M(()=>e()===30);return()=>Ce()?"30 days":M(()=>e()===90)()?"90 days":e()===365?"365 days":"error"})(),null),Z})()}})})()),c(B,b(as,{})),c(H,b(Wr,{get searchQuery(){return r()},onSearchChange:s,get searchMode(){return n()},onSearchModeChange:l,get caseSensitive(){return a()},onCaseSensitiveChange:i,get wholeWord(){return o()},onWholeWordChange:d,get isLoading(){return L.isLoading}}),K),c(K,b(Qr,{get period(){return e()},setPeriod:t})),c(de,b(qr,{get count(){return f.length},get query(){return r()}}),ue),c(ue,(()=>{var R=M(()=>!!L.isLoading);return()=>R()?b(yr,{}):b(Hr,{items:f,searchQuery:r,searchMode:n,caseSensitive:a,wholeWord:o,onPackageClick:T})})()),c(k,b(Pr,{get isOpen(){return g()},get package(){return h()},onClose:()=>p(!1)}),null),c(k,b(gs,{}),null),c(k,(()=>{var R=M(()=>!!N());return()=>R()&&b(ts,{get data(){return D()}})})(),null),k}})}nr(()=>b(vs,{}),document.getElementById("root"));
