import{c as e,a as t,u as r,b as a,r as s,d as n,o,e as l,g as i,$ as c,f as d,h as u,i as g,j as h,k as p,l as f,m,F as b,S as v}from"./vendor-Bc0VH6q0.js";const y="_$DX_DELEGATE";function k(t,r,a,s={}){let n;return e((e=>{n=e,r===document?t():M(r,t(),r.firstChild?null:void 0,a)}),s.owner),()=>{n(),r.textContent=""}}function x(e,t,a,s){let n;const o=()=>{const t=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return t.innerHTML=e,a?t.content.firstChild.firstChild:s?t.firstChild:t.content.firstChild},l=t?()=>r((()=>document.importNode(n||(n=o()),!0))):()=>(n||(n=o())).cloneNode(!0);return l.cloneNode=l,l}function w(e,t=window.document){const r=t[y]||(t[y]=new Set);for(let a=0,s=e.length;a<s;a++){const s=e[a];r.has(s)||(r.add(s),t.addEventListener(s,$))}}function C(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function S(e,t){null==t?e.removeAttribute("class"):e.className=t}function _(e,t,r,a){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function A(e,t,a){return r((()=>e(t,a)))}function M(e,r,a,s){if(void 0===a||s||(s=[]),"function"!=typeof r)return j(e,r,s,a);t((t=>j(e,r(),t,a)),s)}function $(e){let t=e.target;const r=`$$${e.type}`,a=e.target,s=e.currentTarget,n=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),o=()=>{const a=t[r];if(a&&!t.disabled){const s=t[`${r}Data`];if(void 0!==s?a.call(t,s,e):a.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&n(t.host),!0},l=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){const r=e.composedPath();n(r[0]);for(let e=0;e<r.length-2&&(t=r[e],o());e++){if(t._$host){t=t._$host,l();break}if(t.parentNode===s)break}}else l();n(a)}function j(e,r,a,s,n){for(;"function"==typeof a;)a=a();if(r===a)return a;const o=typeof r,l=void 0!==s;if(e=l&&a[0]&&a[0].parentNode||e,"string"===o||"number"===o){if("number"===o&&(r=r.toString())===a)return a;if(l){let t=a[0];t&&3===t.nodeType?t.data!==r&&(t.data=r):t=document.createTextNode(r),a=P(e,a,s,t)}else a=""!==a&&"string"==typeof a?e.firstChild.data=r:e.textContent=r}else if(null==r||"boolean"===o)a=P(e,a,s);else{if("function"===o)return t((()=>{let t=r();for(;"function"==typeof t;)t=t();a=j(e,t,a,s)})),()=>a;if(Array.isArray(r)){const o=[],i=a&&Array.isArray(a);if(D(o,r,a,n))return t((()=>a=j(e,o,a,s,!0))),()=>a;if(0===o.length){if(a=P(e,a,s),l)return a}else i?0===a.length?O(e,o,s):function(e,t,r){let a=r.length,s=t.length,n=a,o=0,l=0,i=t[s-1].nextSibling,c=null;for(;o<s||l<n;)if(t[o]!==r[l]){for(;t[s-1]===r[n-1];)s--,n--;if(s===o){const t=n<a?l?r[l-1].nextSibling:r[n-l]:i;for(;l<n;)e.insertBefore(r[l++],t)}else if(n===l)for(;o<s;)c&&c.has(t[o])||t[o].remove(),o++;else if(t[o]===r[n-1]&&r[l]===t[s-1]){const a=t[--s].nextSibling;e.insertBefore(r[l++],t[o++].nextSibling),e.insertBefore(r[--n],a),t[s]=r[n]}else{if(!c){c=new Map;let e=l;for(;e<n;)c.set(r[e],e++)}const a=c.get(t[o]);if(null!=a)if(l<a&&a<n){let i,d=o,u=1;for(;++d<s&&d<n&&null!=(i=c.get(t[d]))&&i===a+u;)u++;if(u>a-l){const s=t[o];for(;l<a;)e.insertBefore(r[l++],s)}else e.replaceChild(r[l++],t[o++])}else o++;else t[o++].remove()}}else o++,l++}(e,a,o):(a&&P(e),O(e,o));a=o}else if(r.nodeType){if(Array.isArray(a)){if(l)return a=P(e,a,s,r);P(e,a,null,r)}else null!=a&&""!==a&&e.firstChild?e.replaceChild(r,e.firstChild):e.appendChild(r);a=r}}return a}function D(e,t,r,a){let s=!1;for(let n=0,o=t.length;n<o;n++){let o,l=t[n],i=r&&r[e.length];if(null==l||!0===l||!1===l);else if("object"==(o=typeof l)&&l.nodeType)e.push(l);else if(Array.isArray(l))s=D(e,l,i)||s;else if("function"===o)if(a){for(;"function"==typeof l;)l=l();s=D(e,Array.isArray(l)?l:[l],Array.isArray(i)?i:[i])||s}else e.push(l),s=!0;else{const t=String(l);i&&3===i.nodeType&&i.data===t?e.push(i):e.push(document.createTextNode(t))}}return s}function O(e,t,r=null){for(let a=0,s=t.length;a<s;a++)e.insertBefore(t[a],r)}function P(e,t,r,a){if(void 0===r)return e.textContent="";const s=a||document.createTextNode("");if(t.length){let a=!1;for(let n=t.length-1;n>=0;n--){const o=t[n];if(s!==o){const t=o.parentNode===e;a||n?t&&o.remove():t?e.replaceChild(s,o):e.insertBefore(s,r)}else a=!0}}else e.insertBefore(s,r);return[s]}function T(t){const{useShadow:r}=t,c=document.createTextNode(""),d=i();let u;return a((()=>{u||(u=s(d,(()=>l((()=>t.children)))));const a=t.mount||document.body;if(a instanceof HTMLHeadElement){const[t,r]=n(!1),s=()=>r(!0);e((e=>M(a,(()=>t()?e():u()),null))),o(s)}else{const e=function(e,t=!1){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(t.isSVG?"g":"div",t.isSVG),s=r&&e.attachShadow?e.attachShadow({mode:"open"}):e;Object.defineProperty(e,"_$host",{get:()=>c.parentNode,configurable:!0}),M(s,u),a.appendChild(e),t.ref&&t.ref(e),o((()=>a.removeChild(e)))}}),void 0,{render:!0}),c}const I=Symbol("store-raw"),N=Symbol("store-node"),B=Symbol("store-has"),E=Symbol("store-self");function L(e){let t=e[c];if(!t&&(Object.defineProperty(e,c,{value:t=new Proxy(e,q)}),!Array.isArray(e))){const r=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let s=0,n=r.length;s<n;s++){const n=r[s];a[n].get&&Object.defineProperty(e,n,{enumerable:a[n].enumerable,get:a[n].get.bind(t)})}}return t}function F(e){let t;return null!=e&&"object"==typeof e&&(e[c]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function H(e,t=new Set){let r,a,s,n;if(r=null!=e&&e[I])return r;if(!F(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,n=e.length;r<n;r++)s=e[r],(a=H(s,t))!==s&&(e[r]=a)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const r=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,i=r.length;l<i;l++)n=r[l],o[n].get||(s=e[n],(a=H(s,t))!==s&&(e[n]=a))}return e}function V(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function U(e,t,r){if(e[t])return e[t];const[a,s]=n(r,{equals:!1,internal:!0});return a.$=s,e[t]=a}function R(e){g()&&U(V(e,N),E)()}const q={get(e,t,r){if(t===I)return e;if(t===c)return r;if(t===u)return R(e),r;const a=V(e,N),s=a[t];let n=s?s():e[t];if(t===N||t===B||"__proto__"===t)return n;if(!s){const r=Object.getOwnPropertyDescriptor(e,t);!g()||"function"==typeof n&&!e.hasOwnProperty(t)||r&&r.get||(n=U(a,t,n)())}return F(n)?L(n):n},has:(e,t)=>t===I||t===c||t===u||t===N||t===B||"__proto__"===t||(g()&&U(V(e,B),t)(),t in e),set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){return R(e),Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return r&&!r.get&&r.configurable&&t!==c&&t!==N?(delete r.value,delete r.writable,r.get=()=>e[c][t],r):r}};function z(e,t,r,a=!1){if(!a&&e[t]===r)return;const s=e[t],n=e.length;void 0===r?(delete e[t],e[B]&&e[B][t]&&void 0!==s&&e[B][t].$()):(e[t]=r,e[B]&&e[B][t]&&void 0===s&&e[B][t].$());let o,l=V(e,N);if((o=U(l,t,s))&&o.$((()=>r)),Array.isArray(e)&&e.length!==n){for(let t=e.length;t<n;t++)(o=l[t])&&o.$();(o=U(l,"length",n))&&o.$(e.length)}(o=l[E])&&o.$()}function Y(e,t){const r=Object.keys(t);for(let a=0;a<r.length;a+=1){const s=r[a];z(e,s,t[s])}}function G(e,t,r=[]){let a,s=e;if(t.length>1){a=t.shift();const n=typeof a,o=Array.isArray(e);if(Array.isArray(a)){for(let s=0;s<a.length;s++)G(e,[a[s]].concat(t),r);return}if(o&&"function"===n){for(let s=0;s<e.length;s++)a(e[s],s)&&G(e,[s].concat(t),r);return}if(o&&"object"===n){const{from:s=0,to:n=e.length-1,by:o=1}=a;for(let a=s;a<=n;a+=o)G(e,[a].concat(t),r);return}if(t.length>1)return void G(e[a],t,[a].concat(r));s=e[a],r=[a].concat(r)}let n=t[0];"function"==typeof n&&(n=n(s,r),n===s)||void 0===a&&null==n||(n=H(n),void 0===a||F(s)&&F(n)&&!Array.isArray(n)?Y(s,n):z(e,a,n))}function W(...[e,t]){const r=H(e||{}),a=Array.isArray(r);return[L(r),function(...e){d((()=>{a&&1===e.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=H(t),Array.isArray(t)){if(e===t)return;let r=0,a=t.length;for(;r<a;r++){const a=t[r];e[r]!==a&&z(e,r,a)}z(e,"length",a)}else Y(e,t)}(r,e[0]):G(r,e)}))}]}class J{constructor(){this.baseUrl="https://formulae.brew.sh/api"}generatePackageId(e,t){return`${t}/${e}`}async fetchAllFormulaMetadata(){try{const e=await fetch(`${this.baseUrl}/formula.json`);if(!e.ok)return new Map;const t=await e.json();return new Map(t.map((e=>{const t=this.generatePackageId(e.name,e.tap||"homebrew/core");return[t,{id:t,name:e.name,version:e.versions?.stable||null,desc:e.desc||null,homepage:e.homepage||null,license:e.license||null,tap:e.tap||"homebrew/core",brewUrl:this.generateBrewUrl(e.name,e.tap||"homebrew/core",!1),isCask:!1,dependencies:e.dependencies||[],conflicts_with:e.conflicts_with||[],caveats:e.caveats||null,url:e.urls?.stable?.url||null,requirements:e.requirements||[],uses_from_macos:e.uses_from_macos||[],keg_only:e.keg_only||!1,bottle_disabled:e.bottle_disabled||!1,options:e.options||[]}]})))}catch(e){return new Map}}async fetchAllCaskMetadata(){try{const e=await fetch(`${this.baseUrl}/cask.json`);if(!e.ok)return new Map;const t=await e.json();return new Map(t.map((e=>{const t=this.generatePackageId(e.token,e.tap||"homebrew/cask");return[t,{id:t,name:e.name,token:e.token,version:e.version||null,desc:e.desc||null,homepage:e.homepage||null,tap:e.tap||"homebrew/cask",url:e.url||null,brewUrl:this.generateBrewUrl(e.token,e.tap||"homebrew/cask",!0),isCask:!0,auto_updates:e.auto_updates||!1,deprecated:e.deprecated||!1,deprecation_date:e.deprecation_date||null,deprecation_reason:e.deprecation_reason||null,disabled:e.disabled||!1,disable_date:e.disable_date||null,disable_reason:e.disable_reason||null,variations:e.variations||null,caveats:e.caveats||null,rosetta_required:e.caveats?.includes("requires Rosetta 2")||!1,macos_requirement:e.depends_on?.macos?`${e.depends_on.macos[">="]} or later`:"Not specified",dependencies:e.depends_on?.formula||[],conflicts_with:e.conflicts_with?.cask||[]}]})))}catch(e){return new Map}}async fetchAnalyticsData(e,t="install-on-request"){try{const r=await fetch(`${this.baseUrl}/analytics/${t}/${e}.json`);if(!r.ok)throw new Error(`Failed to fetch analytics data for ${t}/${e}`);return await r.json()}catch(r){throw r}}generateBrewUrl(e,t,r){const a=r?"cask":"formula";if("homebrew/core"===t||"homebrew/cask"===t)return`https://formulae.brew.sh/${a}/${e}`;const s=t.split("/");if(2!==s.length)return`https://formulae.brew.sh/${a}/${e}`;const[n,o]=s;return`https://formulae.brew.sh/${a}/${n}/${o}/${e}`}}class K{constructor(){this.repository=new J}calculateTrend(e,t,r){if(r<=2*t)return NaN;const a=e/30/((r-e)/335)*100-100;return Math.round(10*a)/10}async fetchAllData(e=!0,t=!0){try{const r={30:"30d",90:"90d",365:"365d"},a=[];e?(a.push(this.repository.fetchAllFormulaMetadata()),Object.values(r).forEach((e=>{a.push(this.repository.fetchAnalyticsData(e,"install-on-request"))}))):(a.push(Promise.resolve(new Map)),Object.values(r).forEach((()=>{a.push(Promise.resolve({items:[]}))}))),t?(a.push(this.repository.fetchAllCaskMetadata()),Object.values(r).forEach((e=>{a.push(this.repository.fetchAnalyticsData(e,"cask-install"))}))):(a.push(Promise.resolve(new Map)),Object.values(r).forEach((()=>{a.push(Promise.resolve({items:[]}))})));const s=await Promise.all(a),n=s[0],o={30:s[1],90:s[2],365:s[3]},l=s[4],i={30:s[5],90:s[6],365:s[7]},c=e?this.processFormulaData(n,o):[],d=t?this.processCaskData(l,i):[],u=c.filter((e=>e.count[30]>=(Z.thresholds?.[30]?.formula||0)&&e.count[90]>=(Z.thresholds?.[90]?.formula||0)&&e.count[365]>=(Z.thresholds?.[365]?.formula||0))),g=d.filter((e=>e.count[30]>=(Z.thresholds?.[30]?.cask||0)&&e.count[90]>=(Z.thresholds?.[90]?.cask||0)&&e.count[365]>=(Z.thresholds?.[365]?.cask||0))),h=[...u,...g];return{summary:Object.fromEntries([30,90,365].map((e=>[e,{date:{start:o[e]?.start_date||i[e]?.start_date||"",end:o[e]?.end_date||i[e]?.end_date||""},formula:{items:o[e]?.total_items||0,count:o[e]?.total_count||0},cask:{items:i[e]?.total_items||0,count:i[e]?.total_count||0}}]))),items:h}}catch(r){throw r}}ensureCountConsistency(e,t,r){return e=Math.max(0,e),t=Math.max(0,t),r=Math.max(0,r),{count365:e,count90:t=Math.min(t,e),count30:r=Math.min(r,t)}}processData(e,t,r){const a=r?"cask":"formula",s=new Map(t[90].items.filter((e=>e[a])).map((e=>[e[a],e]))),n=new Map(t[30].items.filter((e=>e[a])).map((e=>[e[a],e])));return t[365].items.map((t=>{const o=e.get(t[a])||{},l=parseInt(t.count.replace(/,/g,"")),i=s.get(t[a]),c=parseInt(i?.count.replace(/,/g,"")||"0"),d=n.get(t[a]),u=parseInt(d?.count.replace(/,/g,"")||"0"),{count365:g,count90:h,count30:p}=this.ensureCountConsistency(l,c,u),f=function(e,t,r){const a=e/30,s=(r-t)/275;let n=100;r>=1.2*t&&(n+=10-10*s/a);const o=12*a+(t-e)/60*5+s,l=Math.log2(o)*n;return Math.round(l)}(p,h,g),m=this.calculateTrend(p,h,g);return{formula:t[a],name:t[a],count:{365:g,90:h,30:p},percent:{365:parseFloat(t.percent),90:parseFloat(i?.percent||"0"),30:parseFloat(d?.percent||"0")},score:f,trend:m,version:o.version||null,license:r?null:o.license||null,desc:o.desc||null,homepage:o.homepage||null,tap:o.tap||(r?"homebrew/cask":"homebrew/core"),brewUrl:this.repository.generateBrewUrl(t[a],o.tap||(r?"homebrew/cask":"homebrew/core"),r),isCask:r}}))}processFormulaData(e,t){return this.processData(e,t,!1)}processCaskData(e,t){return this.processData(e,t,!0)}}const X=new class{constructor(){this.stateManager=new K,[this.store,this.setStore]=W({period:30,search:"",isLoading:!1,error:null,thresholds:{30:{formula:50,cask:20},90:{formula:125,cask:50},365:{formula:250,cask:100}},summary:{30:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},90:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},365:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}}},items:[],selectedPackage:null,packagesById:new Map,formulaData:new Map,caskData:new Map})}async initialize(){this.setStore("isLoading",!0);try{const e=new J,t=await e.fetchAllFormulaMetadata(),r=await e.fetchAllCaskMetadata();this.setStore("formulaData",t),this.setStore("caskData",r);const a=await this.stateManager.fetchAllData(!0,!0);this.setStore("summary",a.summary);const s=new Map,n=a.items.map((a=>{a.id||(a.id=e.generatePackageId(a.isCask&&a.token||a.name,a.tap||(a.isCask?"homebrew/cask":"homebrew/core"),a.isCask));const n=a.isCask?r.get(a.id):t.get(a.id),o={...a,...n||{}};return s.set(o.id,o),o}));return this.setStore("items",n),this.setStore("packagesById",s),n}catch(e){return this.setStore("error",e?.message||"Failed to load data"),[]}finally{this.setStore("isLoading",!1)}}async setSelectedPackage(e){if(!e)return void this.setStore("selectedPackage",null);const t=new J;e.id||(e.id=t.generatePackageId(e.isCask&&e.token||e.name,e.tap||(e.isCask?"homebrew/cask":"homebrew/core"),e.isCask));const r=e.isCask?this.store.caskData.get(e.id):this.store.formulaData.get(e.id),a={...e,...r||{}};this.setStore("selectedPackage",a),a.id&&(this.setStore("packagesById",(e=>(e.set(a.id,a),e))),this.setStore("items",(e=>e.map((e=>e.id===a.id?a:e)))))}getPackageById(e){return this.store.packagesById.get(e)||null}},Z=X.store;X.setStore;const Q=()=>X.initialize(),ee=m({cart:{items:[],visible:!1},addToCart:()=>{},removeFromCart:()=>{},clearCart:()=>{},toggleCartVisibility:()=>{},closeCart:()=>{},isInCart:()=>!1});function te(e){const[t,r]=W({items:[],visible:!1}),[a,s]=n(!1);p((()=>{s(!0);try{const e=localStorage.getItem("brewTrendCart");if(e){const t=JSON.parse(e);r("items",t)}}catch(e){}})),o((()=>{s(!1)}));const l=e=>{if(a())try{localStorage.setItem("brewTrendCart",JSON.stringify(e))}catch(t){}},i={cart:t,addToCart:e=>{if(!t.items.some((t=>t.id===e.id))){const a=[...t.items,e];r("items",a),l(a)}},removeFromCart:e=>{const a=t.items.filter((t=>t.id!==e.id));r("items",a),l(a)},clearCart:()=>{r("items",[]),l([])},toggleCartVisibility:()=>{a()&&r("visible",!t.visible)},closeCart:()=>{a()&&r("visible",!1)},isInCart:e=>!!e&&t.items.some((t=>t&&t.id===e.id))};return f(ee.Provider,{value:i,get children(){return e.children}})}function re(){return h(ee)}var ae=x('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><path d="M5,6V16C5,18 6.5,19 8,19H14C15.5,19 17,18 17,16V6"stroke=currentColor fill="rgba(245, 158, 11, 0.3)"></path><path d="M17,6H5C5,4 6.5,3 8,3H14C15.5,3 17,4 17,6Z"stroke=currentColor fill=white></path><path d="M17,6V3C19,3 20,4.5 20,6V8C20,9.5 19,11 17,11"stroke=currentColor></path><path d="M7,8.5C9,8 11,10 13,9.5C15,9 16,8 16,8"stroke=currentColor stroke-linecap=round></path><path d=M7,12.5H15 stroke=currentColor stroke-linecap=round></path><path d=M7,15.5H15 stroke=currentColor stroke-linecap=round>');function se(e){return r=ae(),t((()=>C(r,"class",e.class))),r;var r}var ne=x('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><ellipse cx=12 cy=6 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=6 rx=6 ry=2 stroke=currentColor></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 stroke=currentColor></ellipse><line x1=6 y1=6 x2=6 y2=18 stroke=currentColor></line><line x1=18 y1=6 x2=18 y2=18 stroke=currentColor></line><line x1=8 y1=9 x2=8 y2=15 stroke=currentColor></line><line x1=12 y1=8 x2=12 y2=16 stroke=currentColor></line><line x1=16 y1=9 x2=16 y2=15 stroke=currentColor>');function oe(e){return r=ne(),t((()=>C(r,"class",e.class))),r;var r}const le=(e,t)=>{let r;return(...a)=>{clearTimeout(r),r=setTimeout((()=>e(...a)),t)}},ie=(e,t)=>{let r;return(...a)=>{r||(e(...a),r=!0,setTimeout((()=>r=!1),t))}};var ce=x('<div class="flex items-center gap-2"><canvas width=73 height=25>'),de=x("<span>%");function ue(e){let r;const s=new K,n=l((()=>{const t=e.count;if(!t)return null;const r=(t[365]-t[90])/275,a=(t[90]-t[30])/60,s=t[30]/30,n=Math.max(r,a,s,.001),o=25;return{y1:o-r/n*o,y2:o-a/n*o,y3:o-s/n*o,w:73,h:o}})),i=ie((()=>{if(!r)return;const e=r.getContext("2d"),{y1:t,y2:a,y3:s,w:o,h:l}=n();e.clearRect(0,0,o,l),e.beginPath(),e.moveTo(0,t),e.lineTo(55,t),e.lineTo(55,a),e.lineTo(67,a),e.lineTo(67,s),e.lineTo(o,s),e.strokeStyle="#F9A03C",e.lineWidth=2,e.stroke()}),16);a((()=>{n(),i();const e=new ResizeObserver(ie((()=>{i()}),100));e.observe(r.parentElement),o((()=>e.disconnect()))}));const c=l((()=>e.trend??(e.withTrend?s.calculateTrend(e.count?.[30]||0,e.count?.[90]||0,e.count?.[365]||0):null))),d=l((()=>c()<0?"↓":c()>0?"↑":""));return g=ce(),h=g.firstChild,"function"==typeof r?A(r,h):r=h,h.style.setProperty("maxWidth","100%"),M(g,(u=l((()=>!(null==c()||!Number.isFinite(parseFloat(c()))))),()=>{return u()&&(e=de(),r=e.firstChild,M(e,d,r),M(e,(()=>Math.abs(c())),r),t((()=>S(e,"text-sm "+(c()>0?"text-green-600 dark:text-green-400":c()<0?"text-red-600 dark:text-red-400":"")))),e);var e,r}),null),g;var u,g,h}var ge=x("<div><div>"),he=x('<div class="flex justify-between items-center mb-2"><h3 class="text-lg font-semibold">Brew Commands:</h3><button title="Copy commands to clipboard"class="px-3 py-1 bg-blue-500 hover:bg-blue-600 rounded text-sm flex items-center gap-2 transition-colors">'),pe=x('<pre class="font-mono text-sm overflow-x-auto rounded bg-[#1e1f29] p-4">'),fe=x("<div><span class=text-[#fe4a56]><i><b>"),me=x("<div><span class=text-[#50fa7b]>brew</span> <span class=text-[#ff79c6]></span> <span class=text-[#f1fa8c]></span> <span class=text-[#fe4a56]><i><b>"),be=x("<div><span class=text-[#50fa7b]>brew</span> <span class=text-[#ff79c6]></span> <span class=text-[#f1fa8c]>");function ve(e){const[r,a]=n(""),s=()=>function(e,t,r){const a=[],s=t.filter((e=>r.some((t=>t.name===e.name))));s.length>0&&(a.push("# Update outdated packages"),s.forEach((e=>{a.push(`brew upgrade ${e.name}`)})));const n=t.filter((e=>"Formula"===e.category&&!r.some((t=>t.name===e.name)))),o=t.filter((e=>"Cask"===e.category&&!r.some((t=>t.name===e.name))));if(n.length>0){a.push("# Install Formula packages");const e=n.map((e=>e.name)).join(" ");a.push(`brew install ${e}`)}if(o.length>0){a.push("# Install Cask packages");const e=o.map((e=>e.name)).join(" ");a.push(`brew install --cask ${e}`)}return 0===a.length&&a.push("# No packages selected for installation or upgrade"),a}(e.categories,e.selectedPackages,e.outdatedPackages),o=async()=>{const e=s().join("\n");try{await navigator.clipboard.writeText(e),l("Copied!")}catch(t){l("Failed to copy")}},l=e=>{a(e),setTimeout((()=>a("")),2e3)};return i=ge(),M(c=i.firstChild,f(ye,{copyToClipboard:o,copySuccess:r}),null),M(c,f(ke,{get commands(){return s()}}),null),t((t=>{var r=(e.isEmbedded?"":"fixed bottom-0 left-0 right-0")+" bg-[#282a36] text-[#f8f8f2] shadow-lg z-10 rounded-md",a=(e.isEmbedded?"":"max-w-[1800px] min-w-[1200px]")+" mx-auto px-4 py-4";return r!==t.e&&S(i,t.e=r),a!==t.t&&S(c,t.t=a),t}),{e:void 0,t:void 0}),i;var i,c}function ye(e){return t=he(),_(r=t.firstChild.nextSibling,"click",e.copyToClipboard),M(r,(()=>e.copySuccess()||"Copy")),t;var t,r}function ke(e){return M(t=pe(),f(b,{get each(){return e.commands},children:(e,t)=>e.startsWith("#")?f(xe,{text:e}):e.includes("#")?f(we,{cmd:e}):f(Ce,{cmd:e})})),t;var t}function xe(e){return M((t=fe()).firstChild.firstChild.firstChild,(()=>e.text)),t;var t}function we(e){const[t,r]=e.cmd.split("#",2),a=t.trim().split(" ");return s=me(),n=s.firstChild.nextSibling.nextSibling,o=n.nextSibling.nextSibling,l=o.nextSibling.nextSibling.firstChild.firstChild,M(n,(()=>a[1])),M(o,(()=>a.slice(2).join(" "))),M(l,`#${r}`),s;var s,n,o,l}function Ce(e){const t=e.cmd.split(" ");return r=be(),a=r.firstChild.nextSibling.nextSibling,s=a.nextSibling.nextSibling,M(a,(()=>t[1])),M(s,(()=>t.slice(2).join(" "))),r;var r,a,s}w(["click"]);var Se=x("<div><div><div>"),_e=x('<button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"aria-label="Close modal">✕'),Ae=x('<div class="flex items-center border-b border-gray-200 dark:border-gray-700 p-4 pb-4"><h2 class="text-xl font-bold text-gray-900 dark:text-white">'),Me=x('<div class="border-t border-gray-200 dark:border-gray-700 p-4">');function $e(e){let r;const s=t=>{"Escape"===t.key&&e.isOpen&&e.onClose()},n=t=>{r&&!r.contains(t.target)&&e.isOpen&&e.onClose()};a((()=>{e.isOpen?(document.addEventListener("keydown",s),document.addEventListener("mousedown",n),document.body.classList.add("overflow-hidden")):i()}));const i=()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousedown",n),document.body.classList.remove("overflow-hidden")};return o(i),f(v,{get when(){return e.isOpen},get children(){var a,s,n,o=Se(),i=o.firstChild,c=i.firstChild;return"function"==typeof r?A(r,i):r=i,M(i,(a=l((()=>!1!==e.showCloseButton)),()=>{return a()&&(_(t=_e(),"click",e.onClose),t);var t}),c),M(i,(s=l((()=>!!e.title)),()=>{return s()&&(M((t=Ae()).firstChild,(()=>e.title)),t);var t}),c),M(c,(()=>e.children)),M(i,(n=l((()=>!!e.footer)),()=>{return n()&&(M(t=Me(),(()=>e.footer)),t);var t}),null),t((t=>{var r=`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 ${e.overlayClass||""}`,a=`bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full mx-4 relative shadow-xl \n                flex flex-col max-h-[calc(100vh-2rem)] ${e.modalClass||""}`,s=`p-4 overflow-y-auto flex-grow ${e.contentClass||""}`;return r!==t.e&&S(o,t.e=r),a!==t.t&&S(i,t.t=a),s!==t.a&&S(c,t.a=s),t}),{e:void 0,t:void 0,a:void 0}),o}})}w(["click"]);var je=x('<div class="flex justify-between"><button class="px-3 py-1 rounded-md text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-medium flex items-center"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear Cart</button><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200">Close'),De=x('<ul class="divide-y divide-gray-200 dark:divide-gray-700">'),Oe=x('<div class="border-t border-gray-200 dark:border-gray-700 pt-4 mt-4">'),Pe=x('<div class="text-center py-8 text-gray-500 dark:text-gray-400">Your cart is empty. Add packages to generate installation commands.'),Te=x('<li class="py-3 flex justify-between items-center"><div class="flex items-center space-x-3"><span class="font-medium text-gray-900 dark:text-white"></span><span class="text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs"></span></div><button class="text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300"aria-label="Remove from cart"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">');function Ie(){const{cart:e,removeFromCart:r,clearCart:a,closeCart:s}=re(),[o,i]=n(!1),c=(d=je(),u=d.firstChild,g=u.nextSibling,_(u,"click",a),_(g,"click",s),t((()=>u.disabled=0===e.items.length)),d);var d,u,g;return f($e,{get isOpen(){return e.visible},onClose:s,get title(){return`Installation Cart (${e.items.length} ${1===e.items.length?"package":"packages"})`},footer:c,modalClass:"max-w-2xl",contentClass:"overflow-y-auto",style:"max-height: calc(100vh - 40rem);",get children(){return[f(v,{get when(){return e.items.length>0},get fallback(){return Pe()},get children(){var t=De();return M(t,f(b,{get each(){return e.items},children:e=>{return a=Te(),s=a.firstChild,n=s.firstChild,o=n.nextSibling,i=s.nextSibling,M(s,(t=l((()=>!!e.isCask)),()=>t()?f(oe,{class:"w-5 h-5 text-purple-500"}):f(se,{class:"w-5 h-5 text-amber-500"})),n),M(n,(()=>e.formula)),M(o,(()=>e.desc)),i.$$click=()=>r(e),a;var t,a,s,n,o,i}})),t}}),(t=Oe(),M(t,f(ve,{get categories(){return(()=>{const t=[],r={name:"Formula",packages:[]},a={name:"Cask",packages:[]};return e.items.some((e=>!e.isCask))&&t.push(r),e.items.some((e=>e.isCask))&&t.push(a),t})()},get selectedPackages(){return e.items.map((e=>({name:e.formula,category:e.isCask?"Cask":"Formula",description:e.desc})))},get outdatedPackages(){return[]},isEmbedded:!0})),t)];var t}})}w(["click"]);var Ne=x('<div class="p-4 text-center text-gray-500">No package information available.'),Be=x('<div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400"></span><span class="font-medium text-gray-900 dark:text-white">'),Ee=x('<div class="flex items-center"><div class=mr-3></div><div><h2 class="text-2xl font-bold text-gray-900 dark:text-white"></h2><p class="text-gray-600 dark:text-gray-300">'),Le=x('<div class="flex justify-between"><div class="flex space-x-4"><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Brew.sh</a></div><div class="flex space-x-2"><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200">Close</button><button><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor></svg><span>'),Fe=x('<a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Homepage'),He=x('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></svg>',!1,!0,!1),Ve=x('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></svg>',!1,!0,!1),Ue=x('<div class=mt-4><h3 class="text-lg font-medium mb-2">Dependencies:</h3><ul class="list-disc pl-5 space-y-1">'),Re=x('<div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Caveats</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4"><p class="text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap">'),qe=x('<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class=space-y-6><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Package Details</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2"></div></div><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Cask Information</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2"></div></div></div><div class=space-y-6><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Installation Statistics</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2"><div class="flex justify-between items-center pt-2"><span class="text-gray-600 dark:text-gray-400">Install Trend</span></div></div></div><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">URLs</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3"><div class="flex flex-col"><span class="text-gray-600 dark:text-gray-400 mb-1">Homepage</span><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 break-all"></a></div><div class="flex flex-col"><span class="text-gray-600 dark:text-gray-400 mb-1">Download URL</span><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 break-all">'),ze=x("<li>");function Ye(e){const{addToCart:r,removeFromCart:a,isInCart:s}=re(),[o,i]=n({show:!1,message:"",type:"success"});if(e.isOpen&&!e.package)return f($e,{get isOpen(){return e.isOpen},get onClose(){return e.onClose},title:"Package Details",modalClass:"max-w-lg",get children(){return Ne()}});const c=e=>{if(!e)return"Unknown";return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},d=()=>{try{s(e.package)?(a(e.package),i({show:!0,message:"Removed from cart",type:"success"})):(r(e.package),i({show:!0,message:"Added to cart",type:"success"})),setTimeout((()=>i({show:!1,message:"",type:"success"})),2e3)}catch(t){i({show:!0,message:`Error: ${t.message||"Something went wrong"}`,type:"error"})}},u=e=>{return t=Be(),r=t.firstChild,a=r.nextSibling,M(r,(()=>e.label)),M(a,(()=>e.value||"N/A")),t;var t,r,a},g=(p=Ee(),m=p.firstChild,y=m.nextSibling.firstChild,k=y.nextSibling,M(m,(h=l((()=>!!e.package?.isCask)),()=>h()?f(oe,{class:"w-8 h-8 text-purple-500"}):f(se,{class:"w-8 h-8 text-amber-500"}))),M(y,(()=>{return(t=e.package)?t.isCask?t.name[0]:t.formula:"";var t})),M(k,(()=>e.package?.desc)),p);var h,p,m,y,k;const x=($=Le(),j=$.firstChild,D=j.firstChild,O=j.nextSibling.firstChild,P=O.nextSibling,T=P.firstChild,I=T.nextSibling,M(j,(w=l((()=>!!e.package?.homepage)),()=>{return w()&&(r=Fe(),t((()=>C(r,"href",e.package.homepage))),r);var r}),null),_(O,"click",e.onClose),P.$$click=d,M(T,(A=l((()=>!!s(e.package))),()=>A()?He():Ve())),M(I,(()=>s(e.package)?"Remove from Cart":"Add to Cart")),t((t=>{var r=e.package?.brewUrl,a="px-3 py-1 rounded-md flex items-center "+(s(e.package)?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),n=s(e.package)?"Remove from Cart":"Add to Cart";return r!==t.e&&C(D,"href",t.e=r),a!==t.t&&S(P,t.t=a),n!==t.a&&C(P,"aria-label",t.a=n),t}),{e:void 0,t:void 0,a:void 0}),$);var w,A,$,j,D,O,P,T,I;return f($e,{get isOpen(){return e.isOpen},get onClose(){return e.onClose},title:g,footer:x,modalClass:"max-w-3xl",contentClass:"overflow-y-auto max-h-[60vh]",get children(){var r=qe(),a=r.firstChild,s=a.firstChild,n=s.firstChild.nextSibling,o=s.nextSibling.firstChild.nextSibling,l=a.nextSibling.firstChild,i=l.firstChild.nextSibling,d=i.firstChild;d.firstChild;var g=l.nextSibling.firstChild.nextSibling.firstChild,h=g.firstChild.nextSibling,p=g.nextSibling.firstChild.nextSibling;return M(n,f(u,{label:"Version",get value(){return e.package?.version}})),M(o,f(u,{label:"Token",get value(){return e.package?.token}}),null),M(o,f(u,{label:"Tap",get value(){return e.package?.tap}}),null),M(o,f(u,{label:"Auto Updates",get value(){return e.package?.auto_updates?"Yes":"No"}}),null),M(o,f(u,{label:"Deprecated",get value(){return e.package?.deprecated?"Yes":"No"}}),null),M(o,f(v,{get when(){return e.package?.deprecated},get children(){return[f(u,{label:"Deprecation Date",get value(){return c(e.package?.deprecation_date)}}),f(u,{label:"Deprecation Reason",get value(){return e.package?.deprecation_reason}})]}}),null),M(o,f(u,{label:"Disabled",get value(){return e.package?.disabled?"Yes":"No"}}),null),M(o,f(v,{get when(){return e.package?.disabled},get children(){return[f(u,{label:"Disable Date",get value(){return c(e.package?.disable_date)}}),f(u,{label:"Disable Reason",get value(){return e.package?.disable_reason}})]}}),null),M(o,f(u,{label:"Architecture",get value(){return e.package?.variations?.sequoia?"Intel & ARM":e.package?.rosetta_required?"Intel (requires Rosetta)":"Native"}}),null),M(o,f(u,{label:"macOS Required",get value(){return e.package?.macos_requirement}}),null),M(a,f(v,{get when(){return e.package?.dependencies},get children(){var t=Ue();return M(t.firstChild.nextSibling,f(b,{get each(){return e.package?.dependencies},children:e=>{return M(t=ze(),e),t;var t}})),t}}),null),M(a,f(v,{get when(){return e.package?.caveats},get children(){var t=Re();return M(t.firstChild.nextSibling.firstChild,(()=>e.package?.caveats)),t}}),null),M(i,f(u,{label:"30 Day Installs",get value(){return e.package?.count[30]?.toLocaleString()}}),d),M(i,f(u,{label:"90 Day Installs",get value(){return e.package?.count[90]?.toLocaleString()}}),d),M(i,f(u,{label:"365 Day Installs",get value(){return e.package?.count[365]?.toLocaleString()}}),d),M(d,f(ue,{get count(){return e.package?.count},get trend(){return e.package?.trend}}),null),M(h,(()=>e.package?.homepage)),M(p,(()=>e.package?.url||"N/A")),t((t=>{var r=e.package?.homepage,a=e.package?.url;return r!==t.e&&C(h,"href",t.e=r),a!==t.t&&C(p,"href",t.t=a),t}),{e:void 0,t:void 0}),r}})}w(["click"]);export{oe as C,K as H,se as M,T as P,ue as T,_ as a,A as b,S as c,w as d,le as e,W as f,Z as g,Ye as h,M as i,Ie as j,te as k,Q as l,k as r,C as s,x as t,re as u};
