(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const Vt=!1,Ht=(e,t)=>e===t,ae=Symbol("solid-proxy"),pt=Symbol("solid-track"),Ne={equals:Ht};let Ct=Mt;const J=1,Fe=2,_t={owned:null,cleanups:null,context:null,owner:null};var w=null;let nt=null,Rt=null,C=null,O=null,q=null,Qe=0;function kt(e,t){const r=C,s=w,n=e.length===0,l=t===void 0?s:t,a=n?_t:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=n?e:()=>e(()=>K(()=>Ae(a)));w=a,C=null;try{return ie(i,!0)}finally{C=r,w=s}}function N(e,t){t=t?Object.assign({},Ne,t):Ne;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),At(r,n));return[St.bind(r),s]}function _(e,t,r){const s=ct(e,t,!1,J);je(s)}function Pe(e,t,r){Ct=Jt;const s=ct(e,t,!1,J);(!r||!r.render)&&(s.user=!0),q?q.push(s):je(s)}function S(e,t,r){r=r?Object.assign({},Ne,r):Ne;const s=ct(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,je(s),St.bind(s)}function Ut(e){return ie(e,!1)}function K(e){if(C===null)return e();const t=C;C=null;try{return e()}finally{C=t}}function Ge(e){Pe(()=>K(e))}function Be(e){return w===null||(w.cleanups===null?w.cleanups=[e]:w.cleanups.push(e)),e}function lt(){return C}function Wt(){return w}function zt(e,t){const r=w,s=C;w=e,C=null;try{return ie(t,!0)}catch(n){dt(n)}finally{w=r,C=s}}function qt(e,t){const r=Symbol("context");return{id:r,Provider:Zt(r),defaultValue:e}}function Qt(e){let t;return w&&w.context&&(t=w.context[e.id])!==void 0?t:e.defaultValue}function Gt(e){const t=S(e),r=S(()=>at(t()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function St(){if(this.sources&&this.state)if(this.state===J)je(this);else{const e=O;O=null,ie(()=>He(this),!1),O=e}if(C){const e=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(e)):(C.sources=[this],C.sourceSlots=[e]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function At(e,t,r){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&ie(()=>{for(let n=0;n<e.observers.length;n+=1){const l=e.observers[n],a=nt&&nt.running;a&&nt.disposed.has(l),(a?!l.tState:!l.state)&&(l.pure?O.push(l):q.push(l),l.observers&&Lt(l)),a||(l.state=J)}if(O.length>1e6)throw O=[],new Error},!1)),t}function je(e){if(!e.fn)return;Ae(e);const t=Qe;Kt(e,e.value,t)}function Kt(e,t,r){let s;const n=w,l=C;C=w=e;try{s=e.fn(t)}catch(a){return e.pure&&(e.state=J,e.owned&&e.owned.forEach(Ae),e.owned=null),e.updatedAt=r+1,dt(a)}finally{C=l,w=n}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?At(e,s):e.value=s,e.updatedAt=r)}function ct(e,t,r,s=J,n){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:w?w.context:null,pure:r};return w===null||w!==_t&&(w.owned?w.owned.push(l):w.owned=[l]),l}function Ve(e){if(e.state===0)return;if(e.state===Fe)return He(e);if(e.suspense&&K(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Qe);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===J)je(e);else if(e.state===Fe){const s=O;O=null,ie(()=>He(e,t[0]),!1),O=s}}function ie(e,t){if(O)return e();let r=!1;t||(O=[]),q?r=!0:q=[],Qe++;try{const s=e();return Yt(r),s}catch(s){r||(q=null),O=null,dt(s)}}function Yt(e){if(O&&(Mt(O),O=null),e)return;const t=q;q=null,t.length&&ie(()=>Ct(t),!1)}function Mt(e){for(let t=0;t<e.length;t++)Ve(e[t])}function Jt(e){let t,r=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[r++]=s:Ve(s)}for(t=0;t<r;t++)Ve(e[t])}function He(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const n=s.state;n===J?s!==t&&(!s.updatedAt||s.updatedAt<Qe)&&Ve(s):n===Fe&&He(s,t)}}}function Lt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Fe,r.pure?O.push(r):q.push(r),r.observers&&Lt(r))}}function Ae(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),s=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){const l=n.pop(),a=r.observerSlots.pop();s<n.length&&(l.sourceSlots[a]=s,n[s]=l,r.observerSlots[s]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Ae(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Xt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function dt(e,t=w){throw Xt(e)}function at(e){if(typeof e=="function"&&!e.length)return at(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const s=at(e[r]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function Zt(e,t){return function(s){let n;return _(()=>n=K(()=>(w.context={...w.context,[e]:s.value},Gt(()=>s.children))),void 0),n}}function b(e,t){return K(()=>e(t||{}))}const er=e=>`Stale read from <${e}>.`;function xe(e){const t=e.keyed,r=S(()=>e.when,void 0,void 0),s=t?r:S(r,void 0,{equals:(n,l)=>!n==!l});return S(()=>{const n=s();if(n){const l=e.children;return typeof l=="function"&&l.length>0?K(()=>l(t?n:()=>{if(!K(s))throw er("Show");return r()})):l}return e.fallback},void 0,void 0)}function tr(e,t,r){let s=r.length,n=t.length,l=s,a=0,i=0,o=t[n-1].nextSibling,c=null;for(;a<n||i<l;){if(t[a]===r[i]){a++,i++;continue}for(;t[n-1]===r[l-1];)n--,l--;if(n===a){const h=l<s?i?r[i-1].nextSibling:r[l-i]:o;for(;i<l;)e.insertBefore(r[i++],h)}else if(l===i)for(;a<n;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[l-1]&&r[i]===t[n-1]){const h=t[--n].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--l],h),t[n]=r[l]}else{if(!c){c=new Map;let u=i;for(;u<l;)c.set(r[u],u++)}const h=c.get(t[a]);if(h!=null)if(i<h&&h<l){let u=a,f=1,m;for(;++u<n&&u<l&&!((m=c.get(t[u]))==null||m!==h+f);)f++;if(f>h-i){const g=t[a];for(;i<h;)e.insertBefore(r[i++],g)}else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}}const bt="_$DX_DELEGATE";function rr(e,t,r,s={}){let n;return kt(l=>{n=l,t===document?e():d(t,e(),t.firstChild?null:void 0,r)},s.owner),()=>{n(),t.textContent=""}}function p(e,t,r,s){let n;const l=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},a=()=>(n||(n=l())).cloneNode(!0);return a.cloneNode=a,a}function oe(e,t=window.document){const r=t[bt]||(t[bt]=new Set);for(let s=0,n=e.length;s<n;s++){const l=e[s];r.has(l)||(r.add(l),t.addEventListener(l,sr))}}function R(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function Y(e,t){t==null?e.removeAttribute("class"):e.className=t}function we(e,t,r,s){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function ut(e,t,r){return K(()=>e(t,r))}function d(e,t,r,s){if(r!==void 0&&!s&&(s=[]),typeof t!="function")return Re(e,t,s,r);_(n=>Re(e,t(),n,r),s)}function sr(e){let t=e.target;const r=`$$${e.type}`,s=e.target,n=e.currentTarget,l=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),a=()=>{const o=t[r];if(o&&!t.disabled){const c=t[`${r}Data`];if(c!==void 0?o.call(t,c,e):o.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},i=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const o=e.composedPath();l(o[0]);for(let c=0;c<o.length-2&&(t=o[c],!!a());c++){if(t._$host){t=t._$host,i();break}if(t.parentNode===n)break}}else i();l(s)}function Re(e,t,r,s,n){for(;typeof r=="function";)r=r();if(t===r)return r;const l=typeof t,a=s!==void 0;if(e=a&&r[0]&&r[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===r))return r;if(a){let i=r[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),r=ve(e,r,s,i)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||l==="boolean")r=ve(e,r,s);else{if(l==="function")return _(()=>{let i=t();for(;typeof i=="function";)i=i();r=Re(e,i,r,s)}),()=>r;if(Array.isArray(t)){const i=[],o=r&&Array.isArray(r);if(it(i,t,r,n))return _(()=>r=Re(e,i,r,s,!0)),()=>r;if(i.length===0){if(r=ve(e,r,s),a)return r}else o?r.length===0?vt(e,i,s):tr(e,r,i):(r&&ve(e),vt(e,i));r=i}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=ve(e,r,s,t);ve(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function it(e,t,r,s){let n=!1;for(let l=0,a=t.length;l<a;l++){let i=t[l],o=r&&r[e.length],c;if(!(i==null||i===!0||i===!1))if((c=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))n=it(e,i,o)||n;else if(c==="function")if(s){for(;typeof i=="function";)i=i();n=it(e,Array.isArray(i)?i:[i],Array.isArray(o)?o:[o])||n}else e.push(i),n=!0;else{const h=String(i);o&&o.nodeType===3&&o.data===h?e.push(o):e.push(document.createTextNode(h))}}return n}function vt(e,t,r=null){for(let s=0,n=t.length;s<n;s++)e.insertBefore(t[s],r)}function ve(e,t,r,s){if(r===void 0)return e.textContent="";const n=s||document.createTextNode("");if(t.length){let l=!1;for(let a=t.length-1;a>=0;a--){const i=t[a];if(n!==i){const o=i.parentNode===e;!l&&!a?o?e.replaceChild(n,i):e.insertBefore(n,r):o&&i.remove()}else l=!0}}else e.insertBefore(n,r);return[n]}const nr="http://www.w3.org/2000/svg";function lr(e,t=!1){return t?document.createElementNS(nr,e):document.createElement(e)}function ar(e){const{useShadow:t}=e,r=document.createTextNode(""),s=()=>e.mount||document.body,n=Wt();let l;return Pe(()=>{l||(l=zt(n,()=>S(()=>e.children)));const a=s();if(a instanceof HTMLHeadElement){const[i,o]=N(!1),c=()=>o(!0);kt(h=>d(a,()=>i()?h():l(),null)),Be(c)}else{const i=lr(e.isSVG?"g":"div",e.isSVG),o=t&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return r.parentNode},configurable:!0}),d(o,l),a.appendChild(i),e.ref&&e.ref(i),Be(()=>a.removeChild(i))}},void 0,{render:!0}),r}const ot=Symbol("store-raw"),$e=Symbol("store-node"),z=Symbol("store-has"),Pt=Symbol("store-self");function jt(e){let t=e[ae];if(!t&&(Object.defineProperty(e,ae,{value:t=new Proxy(e,cr)}),!Array.isArray(e))){const r=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let n=0,l=r.length;n<l;n++){const a=r[n];s[a].get&&Object.defineProperty(e,a,{enumerable:s[a].enumerable,get:s[a].get.bind(t)})}}return t}function Ue(e){let t;return e!=null&&typeof e=="object"&&(e[ae]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Me(e,t=new Set){let r,s,n,l;if(r=e!=null&&e[ot])return r;if(!Ue(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,i=e.length;a<i;a++)n=e[a],(s=Me(n,t))!==n&&(e[a]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,c=a.length;o<c;o++)l=a[o],!i[l].get&&(n=e[l],(s=Me(n,t))!==n&&(e[l]=s))}return e}function We(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Le(e,t,r){if(e[t])return e[t];const[s,n]=N(r,{equals:!1,internal:!0});return s.$=n,e[t]=s}function ir(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===ae||t===$e||(delete r.value,delete r.writable,r.get=()=>e[ae][t]),r}function Et(e){lt()&&Le(We(e,$e),Pt)()}function or(e){return Et(e),Reflect.ownKeys(e)}const cr={get(e,t,r){if(t===ot)return e;if(t===ae)return r;if(t===pt)return Et(e),r;const s=We(e,$e),n=s[t];let l=n?n():e[t];if(t===$e||t===z||t==="__proto__")return l;if(!n){const a=Object.getOwnPropertyDescriptor(e,t);lt()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(l=Le(s,t,l)())}return Ue(l)?jt(l):l},has(e,t){return t===ot||t===ae||t===pt||t===$e||t===z||t==="__proto__"?!0:(lt()&&Le(We(e,z),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:or,getOwnPropertyDescriptor:ir};function ze(e,t,r,s=!1){if(!s&&e[t]===r)return;const n=e[t],l=e.length;r===void 0?(delete e[t],e[z]&&e[z][t]&&n!==void 0&&e[z][t].$()):(e[t]=r,e[z]&&e[z][t]&&n===void 0&&e[z][t].$());let a=We(e,$e),i;if((i=Le(a,t,n))&&i.$(()=>r),Array.isArray(e)&&e.length!==l){for(let o=e.length;o<l;o++)(i=a[o])&&i.$();(i=Le(a,"length",l))&&i.$(e.length)}(i=a[Pt])&&i.$()}function Tt(e,t){const r=Object.keys(t);for(let s=0;s<r.length;s+=1){const n=r[s];ze(e,n,t[n])}}function dr(e,t){if(typeof t=="function"&&(t=t(e)),t=Me(t),Array.isArray(t)){if(e===t)return;let r=0,s=t.length;for(;r<s;r++){const n=t[r];e[r]!==n&&ze(e,r,n)}ze(e,"length",s)}else Tt(e,t)}function Se(e,t,r=[]){let s,n=e;if(t.length>1){s=t.shift();const a=typeof s,i=Array.isArray(e);if(Array.isArray(s)){for(let o=0;o<s.length;o++)Se(e,[s[o]].concat(t),r);return}else if(i&&a==="function"){for(let o=0;o<e.length;o++)s(e[o],o)&&Se(e,[o].concat(t),r);return}else if(i&&a==="object"){const{from:o=0,to:c=e.length-1,by:h=1}=s;for(let u=o;u<=c;u+=h)Se(e,[u].concat(t),r);return}else if(t.length>1){Se(e[s],t,[s].concat(r));return}n=e[s],r=[s].concat(r)}let l=t[0];typeof l=="function"&&(l=l(n,r),l===n)||s===void 0&&l==null||(l=Me(l),s===void 0||Ue(n)&&Ue(l)&&!Array.isArray(l)?Tt(n,l):ze(e,s,l))}function ft(...[e,t]){const r=Me(e||{}),s=Array.isArray(r),n=jt(r);function l(...a){Ut(()=>{s&&a.length===1?dr(r,a[0]):Se(r,a)})}return[n,l]}function xt(e,t,r,s=100,n=.15){const l=e/30,a=(t-e)/60,i=(r-t)/275,o=(r-e)/335,c=Math.log10(i*a*l)*s,h=(-o+l)*n,u=c+h;return Math.round(u)}class ur{constructor(){this.baseUrl="https://formulae.brew.sh/api"}async fetchAllFormulaMetadata(){try{const t=await fetch(`${this.baseUrl}/formula.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(s=>[s.name,{version:s.versions?.stable||null,license:s.license||null,desc:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/core"}]))}catch(t){return console.error("Error fetching formula metadata:",t),new Map}}async fetchAllCaskMetadata(){try{const t=await fetch(`${this.baseUrl}/cask.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(s=>[s.token,{version:s.version||null,desc:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/cask"}]))}catch(t){return console.error("Error fetching cask metadata:",t),new Map}}async fetchAnalyticsData(t,r="install-on-request"){try{const s=await fetch(`${this.baseUrl}/analytics/${r}/${t}.json`);if(!s.ok)throw new Error(`Failed to fetch analytics data for ${r}/${t}`);return await s.json()}catch(s){throw console.error(`Error fetching analytics data for ${r}/${t}:`,s),s}}async fetchAllData(t=!0,r=!0){try{const s={30:"30d",90:"90d",365:"365d"},n=[];t?(n.push(this.fetchAllFormulaMetadata()),Object.values(s).forEach(g=>{n.push(this.fetchAnalyticsData(g,"install-on-request"))})):(n.push(Promise.resolve(new Map)),Object.values(s).forEach(()=>{n.push(Promise.resolve({items:[]}))})),r?(n.push(this.fetchAllCaskMetadata()),Object.values(s).forEach(g=>{n.push(this.fetchAnalyticsData(g,"cask-install"))})):(n.push(Promise.resolve(new Map)),Object.values(s).forEach(()=>{n.push(Promise.resolve({items:[]}))}));const l=await Promise.all(n),a=l[0],i={30:l[1],90:l[2],365:l[3]},o=l[4],c={30:l[5],90:l[6],365:l[7]},h=t?this.processFormulaData(a,i):[],u=r?this.processCaskData(o,c):[],f=[...h,...u];return{summary:Object.fromEntries([30,90,365].map(g=>[g,{date:{start:i[g]?.start_date||c[g]?.start_date||"",end:i[g]?.end_date||c[g]?.end_date||""},formula:{items:i[g]?.total_items||0,count:i[g]?.total_count||0},cask:{items:c[g]?.total_items||0,count:c[g]?.total_count||0}}])),items:f}}catch(s){throw console.error("Error fetching all data:",s),s}}processFormulaData(t,r){return r[365].items.map(s=>{const n=t.get(s.formula)||{},l=parseInt(s.count.replace(/,/g,"")),a=parseInt(r[90].items.find(c=>c.formula===s.formula)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(c=>c.formula===s.formula)?.count.replace(/,/g,"")||"0"),o=xt(i,a,l);return{formula:s.formula,name:s.formula,count:{365:l,90:a,30:i},percent:{365:parseFloat(s.percent),90:parseFloat(r[90].items.find(c=>c.formula===s.formula)?.percent||"0"),30:parseFloat(r[30].items.find(c=>c.formula===s.formula)?.percent||"0")},score:o,version:n.version||null,license:n.license||null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/core",brewUrl:this.generateBrewUrl(s.formula,n.tap||"homebrew/core",!1),isCask:!1}})}processCaskData(t,r){return r[365].items.map(s=>{const n=t.get(s.cask)||{},l=parseInt(s.count.replace(/,/g,"")),a=parseInt(r[90].items.find(c=>c.cask===s.cask)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(c=>c.cask===s.cask)?.count.replace(/,/g,"")||"0"),o=xt(i,a,l);return{formula:s.cask,name:s.cask,count:{365:l,90:a,30:i},percent:{365:parseFloat(s.percent),90:parseFloat(r[90].items.find(c=>c.cask===s.cask)?.percent||"0"),30:parseFloat(r[30].items.find(c=>c.cask===s.cask)?.percent||"0")},score:o,version:n.version||null,license:null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/cask",brewUrl:this.generateBrewUrl(s.cask,n.tap||"homebrew/cask",!0),isCask:!0}})}generateBrewUrl(t,r,s){const n=s?"cask":"formula";if(r==="homebrew/core"||r==="homebrew/cask")return`https://formulae.brew.sh/${n}/${t}`;const l=r.split("/");if(l.length!==2)return`https://formulae.brew.sh/${n}/${t}`;const[a,i]=l;return`https://formulae.brew.sh/${n}/${a}/${i}/${t}`}}class fr{constructor(){this.repository=new ur,[this.store,this.setStore]=ft({timeframe:30,search:"",isLoading:!1,error:null,summary:{30:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},90:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},365:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}}},items:[]})}async initialize(){this.setStore("isLoading",!0);try{const t=await this.repository.fetchAllData();return this.setStore("summary",t.summary),this.setStore("packages",t.items),await this.fetchPackageDetails(),t.items}catch(t){return this.setStore("error",t?.message||"Failed to load data"),[]}finally{this.setStore("isLoading",!1)}}async fetchPackageDetails(){const[t,r]=await Promise.all([fetch("https://formulae.brew.sh/api/formula.json"),fetch("https://formulae.brew.sh/api/cask.json")]),[s,n]=await Promise.all([t.json(),r.json()]),l=s.reduce((i,o)=>(i[o.name]={desc:o.desc,license:o.license,dependencies:o.dependencies,requirements:o.requirements,conflicts_with:o.conflicts_with,tap:o.tap,url:o.url,version:o.versions.stable,homepage:o.homepage,caveats:o.caveats},i),{}),a=n.reduce((i,o)=>(i[o.token]={desc:o.desc,license:o.license,version:o.version,homepage:o.homepage,caveats:o.caveats,dependencies:o.depends_on?.formula,tap:o.tap,url:o.url},i),{});this.setStore("packages",this.store.packages.map(i=>({...i,...(i.type==="formula"?l[i.formula]:a[i.formula])||{}})))}}const ht=new fr,P=ht.store;ht.setStore;const hr=()=>ht.initialize();class qe{static matchesTerm(t,r,s,n){return s?new RegExp(`\\b${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,n?"":"i").test(t):t.includes(r)}static processSearchTerms(t,r){const s=t.trim().split(/\s+/).filter(n=>n.length>0);return r?s:s.map(n=>n.toLowerCase())}static packageMatchesSearch(t,r,s,n,l){if(r.length===0)return!0;const a=t.formula,i=t.description||"",o=n?a:a.toLowerCase(),c=n?i:i.toLowerCase();switch(s){case"name":return r.every(h=>this.matchesTerm(o,h,l,n));case"description":return r.every(h=>this.matchesTerm(c,h,l,n));case"all":default:return r.every(h=>this.matchesTerm(o,h,l,n)||this.matchesTerm(c,h,l,n))}}}class gr{static filterItems(t,r,s,n,l,a,i,o=!1){if(!t||t.length===0)return[];const c=u=>u.isCask?i?.[a]?.cask?.total_count||0:i?.[a]?.formula?.total_count||0,h=qe.processSearchTerms(r,n);return t.filter(u=>qe.packageMatchesSearch(u,h,s,n,l)).sort((u,f)=>o?f.score-u.score:f.count[a]-u.count[a]).map(u=>({...u,displayCount:u.count[a]||0,percent:this.calculatePercent(u.count[a],c(u))})).slice(0,250)}static calculatePercent(t,r){return!r||!t?"0.00":(t/r*100).toFixed(2)}}var mr=p("<img src=https://upload.wikimedia.org/wikipedia/commons/9/95/Homebrew_logo.svg alt=Homebrew>");function pr(e){return(()=>{var t=mr();return _(()=>Y(t,`w-12 h-12 ${e.class||""}`)),t})()}var br=p('<div class="flex flex-col justify-center items-center h-64 space-y-4"><div class="loading-spinner animate-spin rounded-full h-12 w-12 border-t-2 border-b-2"></div><div class=text-gray-500>Loading Homebrew analytics data...');function vr(){return br()}const Dt=qt();function xr(e){const[t,r]=ft({items:[],visible:!1});Ge(()=>{try{const u=localStorage.getItem("brewTrendCart");if(u){const f=JSON.parse(u);r("items",f)}}catch(u){console.error("Failed to load cart from localStorage:",u)}});const s=u=>{try{localStorage.setItem("brewTrendCart",JSON.stringify(u))}catch(f){console.error("Failed to save cart to localStorage:",f)}},h={cart:t,addToCart:u=>{if(!t.items.some(f=>f.formula===u.formula)){const f=[...t.items,u];r("items",f),s(f)}},removeFromCart:u=>{const f=t.items.filter(m=>m.formula!==u.formula);r("items",f),s(f)},clearCart:()=>{r("items",[]),s([])},toggleCartVisibility:()=>{r("visible",!t.visible)},closeCart:()=>{r("visible",!1)},isInCart:u=>t.items.some(f=>f.formula===u.formula)};return b(Dt.Provider,{value:h,get children(){return e.children}})}function Ke(){const e=Qt(Dt);if(!e)throw new Error("useCart must be used within a CartProvider");return e}var wr=p('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><path d="M5,6V16C5,18 6.5,19 8,19H14C15.5,19 17,18 17,16V6"stroke=currentColor fill="rgba(245, 158, 11, 0.3)"></path><path d="M17,6H5C5,4 6.5,3 8,3H14C15.5,3 17,4 17,6Z"stroke=currentColor fill=white></path><path d="M17,6V3C19,3 20,4.5 20,6V8C20,9.5 19,11 17,11"stroke=currentColor></path><path d="M7,8.5C9,8 11,10 13,9.5C15,9 16,8 16,8"stroke=currentColor stroke-linecap=round></path><path d=M7,12.5H15 stroke=currentColor stroke-linecap=round></path><path d=M7,15.5H15 stroke=currentColor stroke-linecap=round>');function Ye(e){return(()=>{var t=wr();return _(()=>R(t,"class",e.class)),t})()}var $r=p('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><ellipse cx=12 cy=6 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=6 rx=6 ry=2 stroke=currentColor></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 stroke=currentColor></ellipse><line x1=6 y1=6 x2=6 y2=18 stroke=currentColor></line><line x1=18 y1=6 x2=18 y2=18 stroke=currentColor></line><line x1=8 y1=9 x2=8 y2=15 stroke=currentColor></line><line x1=12 y1=8 x2=12 y2=16 stroke=currentColor></line><line x1=16 y1=9 x2=16 y2=15 stroke=currentColor>');function Je(e){return(()=>{var t=$r();return _(()=>R(t,"class",e.class)),t})()}var yr=p("<svg width=73 height=25><path stroke=#F9A03C fill=none stroke-width=2>");function Ot(e){const t=S(()=>{const r=e.count,s=(r[365]-r[90])/275,n=(r[90]-r[30])/60,l=r[30]/30,a=Math.max(s,n,l,.001),i=73,o=25,c=o-s/a*o,h=o-n/a*o,u=o-l/a*o;return`M0,${c}L55,${c}L55,${h}L67,${h}L67,${u}L${i},${u}`});return(()=>{var r=yr(),s=r.firstChild;return _(()=>R(s,"d",t())),r})()}var Cr=p('<div><h3 class="font-semibold text-gray-600 mb-2">Dependencies</h3><div class="bg-gray-50 rounded-lg p-4"><div class="flex flex-wrap gap-2">'),_r=p('<div><h3 class="font-semibold text-gray-600 mb-2">Caveats</h3><div class="bg-gray-50 rounded-lg p-4"><p class="text-sm text-gray-600 whitespace-pre-wrap">'),kr=p('<div class="fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center"><div class="bg-white rounded-lg p-6 max-w-3xl w-full mx-4 relative"><button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700"aria-label="Close modal">✕</button><div class="flex items-center border-b border-gray-200 pb-4 mb-4"><div class=mr-3></div><div><h2 class="text-2xl font-bold"></h2><p class=text-gray-600></p></div></div><div class="grid grid-cols-2 gap-6"><div class=space-y-6><div><h3 class="font-semibold text-gray-600 mb-2">Package Details</h3><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div class="flex justify-between"><span class=text-gray-600>Version</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>License</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Category</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Created</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Last Update</span><span class=font-medium></span></div></div></div></div><div class=space-y-6><div><h3 class="font-semibold text-gray-600 mb-2">Installation Statistics</h3><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div class="flex justify-between items-center"><span class=text-gray-600>30 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center"><span class=text-gray-600>90 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center"><span class=text-gray-600>365 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center pt-2"><span class=text-gray-600>Install Trend</span><div class="flex items-center gap-2"><span> <!>%</span></div></div></div></div></div></div><div class="mt-6 pt-4 border-t border-gray-200"><div class="flex justify-between"><div class="flex space-x-4"><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Brew.sh</a><button><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><span></span></button></div><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-800">Cancel'),Sr=p('<span class="px-2 py-1 bg-gray-200 rounded text-sm">'),Ar=p('<a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Homepage');function Mr(e){const[t,r]=N(null),{addToCart:s,removeFromCart:n,isInCart:l}=Ke();let a;Pe(()=>{e.package&&c()});const i=f=>{f.key==="Escape"&&e.isOpen&&e.onClose()},o=f=>{a&&!a.contains(f.target)&&e.isOpen&&e.onClose()};Ge(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Be(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)});const c=()=>{if(!e.package)return;const f=e.package.count[30],g=(e.package.count[365]-f)*30/335,L=(f-g)/g*100;r({isPositive:L>=0,value:Math.abs(L).toFixed(1)})},h=f=>f?new Date(f).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown",u=()=>{l(e.package)?n(e.package):s(e.package)};return b(xe,{get when(){return e.isOpen},get children(){var f=kr(),m=f.firstChild,g=m.firstChild,L=g.nextSibling,j=L.firstChild,F=j.nextSibling,T=F.firstChild,I=T.nextSibling,x=L.nextSibling,v=x.firstChild,k=v.firstChild,$=k.firstChild,A=$.nextSibling,D=A.firstChild,V=D.firstChild,M=V.nextSibling,y=D.nextSibling,B=y.firstChild,Q=B.nextSibling,U=y.nextSibling,ye=U.firstChild,ce=ye.nextSibling,X=U.nextSibling,Z=X.firstChild,ee=Z.nextSibling,te=X.nextSibling,re=te.firstChild,H=re.nextSibling,de=v.nextSibling,ue=de.firstChild,fe=ue.firstChild,se=fe.nextSibling,G=se.firstChild,he=G.firstChild,ge=he.nextSibling,ne=G.nextSibling,Ce=ne.firstChild,Xe=Ce.nextSibling,Ee=ne.nextSibling,Ze=Ee.firstChild,et=Ze.nextSibling,_e=Ee.nextSibling,tt=_e.firstChild,ke=tt.nextSibling,le=ke.firstChild,Te=le.firstChild,De=Te.nextSibling;De.nextSibling;var rt=x.nextSibling,st=rt.firstChild,me=st.firstChild,Oe=me.firstChild,Ie=Oe.nextSibling,It=Ie.firstChild,Nt=It.nextSibling,Ft=me.nextSibling,gt=a;return typeof gt=="function"?ut(gt,m):a=m,we(g,"click",e.onClose),d(j,(()=>{var E=S(()=>e.package?.type==="formula");return()=>E()?b(Ye,{class:"w-8 h-8 text-amber-500"}):b(Je,{class:"w-8 h-8 text-amber-500"})})()),d(T,()=>e.package?.formula),d(I,()=>e.package?.desc),d(M,()=>e.package?.version||"N/A"),d(Q,()=>e.package?.license||"N/A"),d(ce,()=>e.package?.category||"N/A"),d(ee,()=>h(e.package?.created_at)),d(H,()=>h(e.package?.updated_at)),d(v,b(xe,{get when(){return e.package?.dependencies?.length},get children(){var E=Cr(),W=E.firstChild,pe=W.nextSibling,be=pe.firstChild;return d(be,()=>e.package?.dependencies.map(Bt=>(()=>{var mt=Sr();return d(mt,Bt),mt})())),E}}),null),d(ge,()=>e.package?.count[30].toLocaleString()),d(Xe,()=>e.package?.count[90].toLocaleString()),d(et,()=>e.package?.count[365].toLocaleString()),d(ke,b(Ot,{get count(){return e.package?.count}}),le),d(le,()=>t()?.isPositive?"↑":"↓",Te),d(le,()=>Math.abs(t()?.value),De),d(de,b(xe,{get when(){return e.package?.caveats},get children(){var E=_r(),W=E.firstChild,pe=W.nextSibling,be=pe.firstChild;return d(be,()=>e.package?.caveats),E}}),null),d(me,(()=>{var E=S(()=>!!e.package?.homepage);return()=>E()&&(()=>{var W=Ar();return _(()=>R(W,"href",e.package.homepage)),W})()})(),Ie),Ie.$$click=u,d(Nt,()=>l(e.package)?"Remove from Cart":"Add to Cart"),we(Ft,"click",e.onClose),_(E=>{var W=`text-sm ${t()?.isPositive?"text-green-600":"text-red-600"}`,pe=e.package?.brewUrl,be=`px-3 py-1 rounded-md flex items-center space-x-1 ${l(e.package)?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`;return W!==E.e&&Y(le,E.e=W),pe!==E.t&&R(Oe,"href",E.t=pe),be!==E.a&&Y(Ie,E.a=be),E},{e:void 0,t:void 0,a:void 0}),f}})}oe(["click"]);var Lr=p("<span class=search-results-highlight>");function wt(e){const{text:t,query:r,searchMode:s,caseSensitive:n,wholeWord:l}=e;if(!r||!t)return t||"-";if(s==="name")return t;const a=qe.processSearchTerms(r,n);if(a.length===0)return t;const i=n?t:t.toLowerCase();if(!a.some(f=>qe.matchesTerm(i,f,l,n)))return t;const o=[];a.forEach(f=>{if(l){const m=new RegExp(`\\b${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,n?"g":"gi");let g;const L=n?t:t.toLowerCase();for(;(g=m.exec(L))!==null;)o.push([g.index,g.index+f.length])}else{let m=0;const g=n?t:t.toLowerCase();for(;(m=g.indexOf(f,m))!==-1;)o.push([m,m+f.length]),m+=1}}),o.sort((f,m)=>f[0]-m[0]);const c=[];if(o.length>0){let f=o[0];for(let m=1;m<o.length;m++)o[m][0]<=f[1]?f[1]=Math.max(f[1],o[m][1]):(c.push(f),f=o[m]);c.push(f)}const h=[];let u=0;return c.forEach(([f,m])=>{f>u&&h.push(t.substring(u,f)),h.push((()=>{var g=Lr();return d(g,()=>t.substring(f,m)),g})()),u=m}),u<t.length&&h.push(t.substring(u)),h}var Pr=p('<tr class="table-row cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50"><td class="w-8 table-cell"></td><td class="w-8 table-cell text-center"></td><td class="w-32 table-cell font-medium"></td><td class="w-32 table-cell"></td><td class="w-full table-cell text-gray-600 max-w-md truncate"></td><td class="w-24 table-cell text-right font-medium"title="Popularity Score"></td><td class="w-32 table-cell text-right"></td><td class="w-10 table-cell px-2"><button>'),jr=p('<div title="Cask - GUI application or binary package distributed as macOS native installer">'),Er=p('<div title="Formula - Command-line software package managed by Homebrew">'),Tr=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Dr=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">');function Or(e){const{item:t,index:r,searchQuery:s,searchMode:n,caseSensitive:l,wholeWord:a,onClick:i}=e,{addToCart:o,removeFromCart:c,isInCart:h}=Ke(),u=(m,g=32)=>m.length<=g?m:m.substring(0,g-3)+"...",f=m=>{m.stopPropagation(),h(t)?c(t):o(t)};return(()=>{var m=Pr(),g=m.firstChild,L=g.nextSibling,j=L.nextSibling,F=j.nextSibling,T=F.nextSibling,I=T.nextSibling,x=I.nextSibling,v=x.nextSibling,k=v.firstChild;return m.$$click=()=>i(t),d(g,r+1),d(L,(()=>{var $=S(()=>!!t.isCask);return()=>$()?(()=>{var A=jr();return d(A,b(Je,{class:"w-5 h-5 text-purple-500 inline-block"})),A})():(()=>{var A=Er();return d(A,b(Ye,{class:"w-5 h-5 text-amber-500 inline-block"})),A})()})()),d(j,b(wt,{get text(){return u(t.formula)},get query(){return s()},searchMode:n,caseSensitive:l,wholeWord:a})),d(F,b(Ot,{get count(){return t.count}})),d(T,b(wt,{get text(){return t.description},get query(){return s()},searchMode:n,caseSensitive:l,wholeWord:a})),d(I,()=>t.score),d(x,()=>t.displayCount.toLocaleString()),k.$$click=f,d(k,(()=>{var $=S(()=>!!h(t));return()=>$()?Tr():Dr()})()),_($=>{var A=t.formula,D=t.description,V=`p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 ${h(t)?"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600":"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-600"}`,M=h(t)?"Remove from cart":"Add to cart";return A!==$.e&&R(j,"title",$.e=A),D!==$.t&&R(T,"title",$.t=D),V!==$.a&&Y(k,$.a=V),M!==$.o&&R(k,"title",$.o=M),$},{e:void 0,t:void 0,a:void 0,o:void 0}),m})()}oe(["click"]);var Ir=p('<img src=svg/components/sort-indicator.svg alt="Sort indicator">');function $t(e){return(()=>{var t=Ir();return _(()=>Y(t,e.class)),t})()}var Nr=p('<div class=data-table><table><thead class=table-header><tr class=table-header><th class="p-3 w-8 text-left border-b">#</th><th class="p-3 w-8 text-center border-b"></th><th class="p-3 w-32 text-left border-b">Name</th><th class="p-3 w-32 text-center border-b">Trend</th><th class="p-3 w-full text-left border-b">Description</th><th class="p-3 w-24 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Score</span></div></th><th class="p-3 w-32 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Installs</span></div></th><th class="p-3 w-10 border-b">Cart</th></tr></thead></table><div class=table-body><table><tbody>'),Fr=p('<tr><td colspan=8 class="py-8 text-center text-gray-500">No packages found matching your search.');function Br(e){const{searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,onPackageClick:l}=e,[a,i]=N("score"),o=()=>a()?[...e.items].sort((h,u)=>{const f=a();return f==="score"?u.score-h.score:f==="installs"?u.displayCount-h.displayCount:0}):e.items,c=h=>{i(h)};return(()=>{var h=Nr(),u=h.firstChild,f=u.firstChild,m=f.firstChild,g=m.firstChild,L=g.nextSibling,j=L.nextSibling,F=j.nextSibling,T=F.nextSibling,I=T.nextSibling,x=I.firstChild,v=x.firstChild,k=I.nextSibling,$=k.firstChild,A=$.firstChild,D=u.nextSibling,V=D.firstChild,M=V.firstChild;return I.$$click=()=>c("score"),d(x,(()=>{var y=S(()=>a()==="score");return()=>y()&&b($t,{})})(),v),k.$$click=()=>c("installs"),d($,(()=>{var y=S(()=>a()==="installs");return()=>y()&&b($t,{})})(),A),d(M,()=>o().map((y,B)=>b(Or,{get key(){return y.name},item:y,index:B,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,onClick:l})),null),d(M,(()=>{var y=S(()=>e.items.length===0);return()=>y()&&Fr()})(),null),h})()}oe(["click"]);var Vr=p('<div class="relative w-full md:w-2/3 search-container"><div class="relative flex items-center"><input type=text class="search-input w-full pr-8"aria-label="Search packages"></div><div class="search-options mt-2 flex flex-wrap gap-x-4 gap-y-2 text-sm"><div class="search-mode flex space-x-2"><label class="flex items-center"title="Search in names and descriptions"><input type=radio name=searchMode value=all><span class=ml-1>🔍 All</span></label><label class="flex items-center"title="Search in package names only"><input type=radio name=searchMode value=name><span class=ml-1>📦 Name</span></label><label class="flex items-center"title="Search in descriptions only"><input type=radio name=searchMode value=description><span class=ml-1>📄 Desc</span></label></div><div class="search-options flex space-x-3 items-center"><label class="flex items-center"title="Match case (Aa ≠ aa)"><input type=checkbox><span class=ml-1>Aa</span></label><label class="flex items-center"title="Match whole words only"><input type=checkbox><span class=ml-1>[w]</span></label><button title="Reset search options"aria-label="Reset search options">✕'),Hr=p('<button class="absolute right-2 flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-600 transition-colors"aria-label="Clear search"title="Clear search"><span class="text-sm font-bold">✕');function Rr(e){const t=()=>e.searchMode!=="all"||e.caseSensitive||e.wholeWord,r=()=>{e.onSearchChange("")},s=()=>{e.onSearchModeChange("all"),e.onCaseSensitiveChange(!1),e.onWholeWordChange(!1)};return(()=>{var n=Vr(),l=n.firstChild,a=l.firstChild,i=l.nextSibling,o=i.firstChild,c=o.firstChild,h=c.firstChild,u=c.nextSibling,f=u.firstChild,m=u.nextSibling,g=m.firstChild,L=o.nextSibling,j=L.firstChild,F=j.firstChild,T=j.nextSibling,I=T.firstChild,x=T.nextSibling;return a.$$input=v=>e.onSearchChange(v.target.value),d(l,(()=>{var v=S(()=>!!e.searchQuery);return()=>v()&&(()=>{var k=Hr();return k.$$click=r,k})()})(),null),h.addEventListener("change",()=>e.onSearchModeChange("all")),f.addEventListener("change",()=>e.onSearchModeChange("name")),g.addEventListener("change",()=>e.onSearchModeChange("description")),F.addEventListener("change",v=>e.onCaseSensitiveChange(v.target.checked)),I.addEventListener("change",v=>e.onWholeWordChange(v.target.checked)),x.$$click=s,_(v=>{var k=e.isLoading?"Loading...":"Search packages...",$=e.isLoading,A=!t(),D=`ml-1 flex items-center justify-center h-5 w-5 rounded text-xs transition-colors ${t()?"text-gray-500 hover:text-gray-700 hover:bg-gray-200 cursor-pointer":"text-gray-300 cursor-default"}`;return k!==v.e&&R(a,"placeholder",v.e=k),$!==v.t&&(a.disabled=v.t=$),A!==v.a&&(x.disabled=v.a=A),D!==v.o&&Y(x,v.o=D),v},{e:void 0,t:void 0,a:void 0,o:void 0}),_(()=>a.value=e.searchQuery),_(()=>h.checked=e.searchMode==="all"),_(()=>f.checked=e.searchMode==="name"),_(()=>g.checked=e.searchMode==="description"),_(()=>F.checked=e.caseSensitive),_(()=>I.checked=e.wholeWord),n})()}oe(["input","click"]);var Ur=p('<div class="px-4 md:px-6 pt-4 text-sm text-gray-500"> results found for "<!>"');function Wr(e){const{count:t,query:r}=e;return r?(()=>{var s=Ur(),n=s.firstChild,l=n.nextSibling;return l.nextSibling,d(s,t,n),d(s,r,l),s})():null}var zr=p('<div class="flex space-x-2">'),qr=p("<button>");function Qr(e){return(()=>{var t=zr();return d(t,()=>[{id:30,label:"Last 30 Days"},{id:90,label:"Last 90 Days"},{id:365,label:"Last Year"}].map(({id:r,label:s})=>(()=>{var n=qr();return n.$$click=()=>e.setTimeframe(r),d(n,s),_(()=>Y(n,`px-4 py-2 rounded border text-sm font-medium transition-colors duration-200
            ${e.timeframe===r?"bg-amber-600 text-white border-amber-600 hover:bg-amber-700":"bg-white text-stone-800 border-stone-200 hover:bg-stone-50"}`)),n})())),t})()}oe(["click"]);var Gr=p('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor strokeWidth=2 strokeLinecap=round strokeLinejoin=round><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12">');function yt(e){return(()=>{var t=Gr();return _(()=>R(t,"class",e.class||"")),t})()}var Kr=p("<div>"),Yr=p('<div class="fixed bg-gray-800 text-white p-4 rounded-lg shadow-xl w-[480px] z-[100] border border-gray-700"><div class="absolute -top-2 right-10 transform w-4 h-4 rotate-45 bg-gray-800 border-t border-l border-gray-700">');function Jr(e){const[t,r]=N(!1),[s,n]=N({top:0,left:0});let l;const a=o=>{const c=l.getBoundingClientRect();n({top:c.bottom+window.scrollY+10,left:c.right+window.scrollX-450}),r(!0)},i=()=>{r(!1)};return[(()=>{var o=Kr();o.addEventListener("mouseleave",i),o.addEventListener("mouseenter",a);var c=l;return typeof c=="function"?ut(c,o):l=o,d(o,()=>e.trigger),_(()=>Y(o,e.triggerClass||"")),o})(),b(ar,{get children(){return S(()=>!!t())()&&(()=>{var o=Yr(),c=o.firstChild;return d(o,()=>e.content,c),_(h=>{var u=`${s().top}px`,f=`${s().left}px`;return u!==h.e&&((h.e=u)!=null?o.style.setProperty("top",u):o.style.removeProperty("top")),f!==h.t&&((h.t=f)!=null?o.style.setProperty("left",f):o.style.removeProperty("left")),h},{e:void 0,t:void 0}),o})()}})]}var Xr=p('<div class="fixed bottom-0 left-0 right-0 bg-gray-900 text-white p-4 text-sm font-mono overflow-auto max-h-[50vh]"><pre>');function Zr(e){return(()=>{var t=Xr(),r=t.firstChild;return d(r,()=>JSON.stringify(e.data,null,2)),t})()}function es(e){const[t,r]=N(!1);return Pe(()=>{const s=new URLSearchParams(window.location.search).has("debug"),n=new URLSearchParams(window.location.search).has("inspect");r(s||n)}),{isDebugMode:t,debugData:e}}function ts({timeframe:e,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,filteredItems:l,store:a}){return{timeframe:e(),searchState:{query:t(),mode:r(),caseSensitive:s(),wholeWord:n()},filteredItemsCount:l.length,storeState:{isLoading:a.isLoading,summary:a.summary}}}var rs=p('<button class="relative p-2 text-gray-200 hover:text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"aria-label="Shopping cart"title="View installation cart"><svg xmlns=http://www.w3.org/2000/svg class="w-6 h-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">'),ss=p('<span class="absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full">');function ns(){const{cart:e,toggleCartVisibility:t}=Ke();return(()=>{var r=rs();return r.firstChild,we(r,"click",t),d(r,(()=>{var s=S(()=>e.items.length>0);return()=>s()&&(()=>{var n=ss();return d(n,()=>e.items.length),n})()})(),null),r})()}oe(["click"]);var ls=p('<ul class="divide-y divide-gray-200 dark:divide-gray-700">'),as=p('<div class="mt-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Installation Command</h3><pre class="bg-gray-800 text-white p-3 rounded overflow-x-auto">'),is=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-8m-10 0v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 0h6">'),os=p('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl"><div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Installation Cart (<!> <!>)</h2><button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-4 overflow-y-auto flex-grow"></div><div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-between"><button class="px-4 py-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-medium">Clear Cart</button><div class="flex space-x-2"><button class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">Close</button><button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center">'),cs=p('<div class="text-center py-8 text-gray-500 dark:text-gray-400">Your cart is empty. Add packages to generate installation commands.'),ds=p('<li class="py-3 flex justify-between items-center"><div class="flex items-center space-x-3"><span class="font-medium text-gray-900 dark:text-white"></span><span class="text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs"></span></div><button class="text-red-500 hover:text-red-700"aria-label="Remove from cart"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),us=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');function fs(){const{cart:e,removeFromCart:t,clearCart:r,closeCart:s}=Ke(),[n,l]=N(!1);let a;const i=u=>{u.key==="Escape"&&e.visible&&s()},o=u=>{a&&!a.contains(u.target)&&e.visible&&s()};Ge(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Be(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)});const c=()=>{const u=e.items.filter(g=>!g.isCask).map(g=>g.formula),f=e.items.filter(g=>g.isCask).map(g=>g.formula);let m="";return u.length>0&&(m+=`brew install ${u.join(" ")}`),f.length>0&&(m&&(m+=`
`),m+=`brew install --cask ${f.join(" ")}`),m||"No packages selected"},h=async()=>{const u=c();try{await navigator.clipboard.writeText(u),l(!0),setTimeout(()=>l(!1),3e3)}catch(f){console.error("Failed to copy:",f)}};return b(xe,{get when(){return e.visible},get children(){var u=os(),f=u.firstChild,m=f.firstChild,g=m.firstChild,L=g.firstChild,j=L.nextSibling,F=j.nextSibling,T=F.nextSibling;T.nextSibling;var I=g.nextSibling,x=m.nextSibling,v=x.nextSibling,k=v.firstChild,$=k.nextSibling,A=$.firstChild,D=A.nextSibling,V=a;return typeof V=="function"?ut(V,f):a=f,d(g,()=>e.items.length,j),d(g,()=>e.items.length===1?"package":"packages",T),we(I,"click",s),d(x,b(xe,{get when(){return e.items.length>0},get fallback(){return cs()},get children(){return[(()=>{var M=ls();return d(M,()=>e.items.map(y=>(()=>{var B=ds(),Q=B.firstChild,U=Q.firstChild,ye=U.nextSibling,ce=Q.nextSibling;return d(Q,(()=>{var X=S(()=>!!y.isCask);return()=>X()?b(Je,{class:"w-5 h-5 text-purple-500"}):b(Ye,{class:"w-5 h-5 text-amber-500"})})(),U),d(U,()=>y.formula),d(ye,()=>y.description),ce.$$click=()=>t(y),B})())),M})(),(()=>{var M=as(),y=M.firstChild,B=y.nextSibling;return d(B,c),M})()]}})),we(k,"click",r),we(A,"click",s),D.$$click=h,d(D,b(xe,{get when(){return!n()},get fallback(){return[us(),"Copied!"]},get children(){return[is(),"Copy Command"]}})),_(M=>{var y=e.items.length===0,B=e.items.length===0;return y!==M.e&&(k.disabled=M.e=y),B!==M.t&&(D.disabled=M.t=B),M},{e:void 0,t:void 0}),u}})}oe(["click"]);var hs=p('<div class="flex flex-col h-screen"><header class="sticky top-0 z-10 bg-[#333333] text-white shadow-md"><div class="container mx-auto py-4 px-4"><div class="app-header flex items-center justify-between space-x-4"><div class="flex items-center shrink-0"><span class=mr-3></span><span class="text-3xl font-bold text-amber-50">Homebrew Trend Shop</span></div><div class="flex items-center gap-4 text-sm "></div><div class="flex items-center"></div></div></div></header><div class="sticky top-[72px] z-10 bg-white shadow-sm border-b border-gray-200"><div class="container mx-auto"><div class="flex md:flex-row justify-between items-center gap-4 p-3"><div class="flex items-end shrink-0"></div></div></div></div><main class="flex-1 overflow-hidden"><div class="container mx-auto h-full"><div class=table-container>'),gs=p('<div class="flex items-end"><div class="flex flex-col"><div>Period: </div><div>Formulae: <!> (<!>) · Casks: <!> (<!>)</div></div><div class="cursor-pointer shrink-0 ml-3"title="View detailed analytics and installation trends over time">'),ms=p('<div class=space-y-4><div class="flex items-center border-b border-gray-700 pb-3"><span class="cursor-pointer shrink-0 mr-3"title="View detailed analytics and installation trends over time"></span><div class="font-semibold text-lg text-amber-400">Homebrew Analytics Summary</div></div><div class=space-y-3><div class="flex items-center"><svg class="w-4 h-4 text-amber-500 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><div class=font-medium>Data Period</div></div><div class="ml-6 bg-gray-700 rounded p-2 text-gray-200"></div></div><div class="grid grid-cols-2 gap-3"><div class=space-y-2><div class="flex items-center"><div class=font-medium>Formulae</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div><div class=space-y-2><div class="flex items-center"><div class=font-medium>Casks</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div></div><div class="text-xs text-gray-400 italic mt-2 pt-2 border-t border-gray-700">Displaying data for the selected period: ');function ps(){const[e,t]=N(30),[r,s]=N(""),[n,l]=N("all"),[a,i]=N(!1),[o,c]=N(!1),[h,u]=ft([]),[f,m]=N(null),[g,L]=N(!1);Ge(async()=>{await hr()}),Pe(()=>{if(P.isLoading)return;const x=gr.filterItems(P.packages||[],r(),n(),a(),o(),e(),P.summary);u(x)});const j=()=>{const x=e(),v=new Date(P.summary[x]?.date?.start),k=new Date(P.summary[x]?.date?.end);return`${v.toLocaleDateString()} - ${k.toLocaleDateString()}`},F=x=>{m(x),L(!0)},{isDebugMode:T,debugData:I}=es(()=>ts({timeframe:e,searchQuery:r,searchMode:n,caseSensitive:a,wholeWord:o,filteredItems:h,store:P}));return b(xr,{get children(){var x=hs(),v=x.firstChild,k=v.firstChild,$=k.firstChild,A=$.firstChild,D=A.firstChild,V=A.nextSibling,M=V.nextSibling,y=v.nextSibling,B=y.firstChild,Q=B.firstChild,U=Q.firstChild,ye=y.nextSibling,ce=ye.firstChild,X=ce.firstChild;return d(D,b(pr,{class:"w-10 h-10 text-amber-500"})),d(V,(()=>{var Z=S(()=>!!(!P.isLoading&&P.summary));return()=>Z()&&b(Jr,{triggerClass:"text-stone-300 whitespace-nowrap cursor-help",get trigger(){return(()=>{var ee=gs(),te=ee.firstChild,re=te.firstChild;re.firstChild;var H=re.nextSibling,de=H.firstChild,ue=de.nextSibling,fe=ue.nextSibling,se=fe.nextSibling,G=se.nextSibling,he=G.nextSibling,ge=he.nextSibling,ne=ge.nextSibling;ne.nextSibling;var Ce=te.nextSibling;return d(re,j,null),d(H,()=>P.summary[e()].formula.items.toLocaleString(),ue),d(H,()=>P.summary[e()].formula.count.toLocaleString(),se),d(H,()=>P.summary[e()].cask.items.toLocaleString(),he),d(H,()=>P.summary[e()].cask.count.toLocaleString(),ne),d(Ce,b(yt,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),ee})()},get content(){return(()=>{var ee=ms(),te=ee.firstChild,re=te.firstChild,H=te.nextSibling,de=H.firstChild,ue=de.nextSibling,fe=H.nextSibling,se=fe.firstChild,G=se.firstChild,he=G.firstChild,ge=G.nextSibling,ne=ge.firstChild,Ce=ne.nextSibling,Xe=ge.nextSibling,Ee=Xe.firstChild,Ze=Ee.nextSibling,et=se.nextSibling,_e=et.firstChild,tt=_e.firstChild,ke=_e.nextSibling,le=ke.firstChild,Te=le.nextSibling,De=ke.nextSibling,rt=De.firstChild,st=rt.nextSibling,me=fe.nextSibling;return me.firstChild,d(re,b(yt,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),d(ue,j),d(G,b(Ye,{class:"w-5 h-5 text-amber-500 mr-2"}),he),d(Ce,()=>P.summary[e()].formula.items.toLocaleString()),d(Ze,()=>P.summary[e()].formula.count.toLocaleString()),d(_e,b(Je,{class:"w-5 h-5 text-amber-500 mr-2"}),tt),d(Te,()=>P.summary[e()].cask.items.toLocaleString()),d(st,()=>P.summary[e()].cask.count.toLocaleString()),d(me,(()=>{var Oe=S(()=>e()===30);return()=>Oe()?"30 days":S(()=>e()===90)()?"90 days":e()===365?"365 days":"error"})(),null),ee})()}})})()),d(M,b(ns,{})),d(Q,b(Rr,{get searchQuery(){return r()},onSearchChange:s,get searchMode(){return n()},onSearchModeChange:l,get caseSensitive(){return a()},onCaseSensitiveChange:i,get wholeWord(){return o()},onWholeWordChange:c,get isLoading(){return P.isLoading}}),U),d(U,b(Qr,{get timeframe(){return e()},setTimeframe:t})),d(ce,b(Wr,{get count(){return h.length},get query(){return r()}}),X),d(X,(()=>{var Z=S(()=>!!P.isLoading);return()=>Z()?b(vr,{}):b(Br,{items:h,searchQuery:r,get searchMode(){return n()},get caseSensitive(){return a()},get wholeWord(){return o()},onPackageClick:F})})()),d(x,b(Mr,{get isOpen(){return g()},get package(){return f()},onClose:()=>L(!1)}),null),d(x,b(fs,{}),null),d(x,(()=>{var Z=S(()=>!!T());return()=>Z()&&b(Zr,{get data(){return I()}})})(),null),x}})}rr(()=>b(ps,{}),document.getElementById("root"));
