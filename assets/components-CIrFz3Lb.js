import{c as e,a as t,b as r,r as a,d as n,o as s,u as i,e as o,g as l,$ as c,f as d,h as u,i as f,j as h,k as g,l as p,m,F as y,S as b}from"./vendor-Bc0VH6q0.js";const x="_$DX_DELEGATE";function v(t,r,a,n={}){let s;return e((e=>{s=e,r===document?t():M(r,t(),r.firstChild?null:void 0,a)}),n.owner),()=>{s(),r.textContent=""}}function k(e,t,r,a){let n;const s=()=>(n||(n=(()=>{const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild})())).cloneNode(!0);return s.cloneNode=s,s}function w(e,t=window.document){const r=t[x]||(t[x]=new Set);for(let a=0,n=e.length;a<n;a++){const n=e[a];r.has(n)||(r.add(n),t.addEventListener(n,$))}}function C(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function S(e,t){null==t?e.removeAttribute("class"):e.className=t}function j(e,t,r,a){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function A(e,t,r){return i((()=>e(t,r)))}function M(e,r,a,n){if(void 0===a||n||(n=[]),"function"!=typeof r)return T(e,r,n,a);t((t=>T(e,r(),t,a)),n)}function $(e){let t=e.target;const r=`$$${e.type}`,a=e.target,n=e.currentTarget,s=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),i=()=>{const a=t[r];if(a&&!t.disabled){const n=t[`${r}Data`];if(void 0!==n?a.call(t,n,e):a.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},o=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){const r=e.composedPath();s(r[0]);for(let e=0;e<r.length-2&&(t=r[e],i());e++){if(t._$host){t=t._$host,o();break}if(t.parentNode===n)break}}else o();s(a)}function T(e,r,a,n,s){for(;"function"==typeof a;)a=a();if(r===a)return a;const i=typeof r,o=void 0!==n;if(e=o&&a[0]&&a[0].parentNode||e,"string"===i||"number"===i){if("number"===i&&(r=r.toString())===a)return a;if(o){let t=a[0];t&&3===t.nodeType?t.data!==r&&(t.data=r):t=document.createTextNode(r),a=E(e,a,n,t)}else a=""!==a&&"string"==typeof a?e.firstChild.data=r:e.textContent=r}else if(null==r||"boolean"===i)a=E(e,a,n);else{if("function"===i)return t((()=>{let t=r();for(;"function"==typeof t;)t=t();a=T(e,t,a,n)})),()=>a;if(Array.isArray(r)){const i=[],l=a&&Array.isArray(a);if(O(i,r,a,s))return t((()=>a=T(e,i,a,n,!0))),()=>a;if(0===i.length){if(a=E(e,a,n),o)return a}else l?0===a.length?P(e,i,n):function(e,t,r){let a=r.length,n=t.length,s=a,i=0,o=0,l=t[n-1].nextSibling,c=null;for(;i<n||o<s;)if(t[i]!==r[o]){for(;t[n-1]===r[s-1];)n--,s--;if(n===i){const t=s<a?o?r[o-1].nextSibling:r[s-o]:l;for(;o<s;)e.insertBefore(r[o++],t)}else if(s===o)for(;i<n;)c&&c.has(t[i])||t[i].remove(),i++;else if(t[i]===r[s-1]&&r[o]===t[n-1]){const a=t[--n].nextSibling;e.insertBefore(r[o++],t[i++].nextSibling),e.insertBefore(r[--s],a),t[n]=r[s]}else{if(!c){c=new Map;let e=o;for(;e<s;)c.set(r[e],e++)}const a=c.get(t[i]);if(null!=a)if(o<a&&a<s){let l,d=i,u=1;for(;++d<n&&d<s&&null!=(l=c.get(t[d]))&&l===a+u;)u++;if(u>a-o){const n=t[i];for(;o<a;)e.insertBefore(r[o++],n)}else e.replaceChild(r[o++],t[i++])}else i++;else t[i++].remove()}}else i++,o++}(e,a,i):(a&&E(e),P(e,i));a=i}else if(r.nodeType){if(Array.isArray(a)){if(o)return a=E(e,a,n,r);E(e,a,null,r)}else null!=a&&""!==a&&e.firstChild?e.replaceChild(r,e.firstChild):e.appendChild(r);a=r}}return a}function O(e,t,r,a){let n=!1;for(let s=0,i=t.length;s<i;s++){let i,o=t[s],l=r&&r[e.length];if(null==o||!0===o||!1===o);else if("object"==(i=typeof o)&&o.nodeType)e.push(o);else if(Array.isArray(o))n=O(e,o,l)||n;else if("function"===i)if(a){for(;"function"==typeof o;)o=o();n=O(e,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||n}else e.push(o),n=!0;else{const t=String(o);l&&3===l.nodeType&&l.data===t?e.push(l):e.push(document.createTextNode(t))}}return n}function P(e,t,r=null){for(let a=0,n=t.length;a<n;a++)e.insertBefore(t[a],r)}function E(e,t,r,a){if(void 0===r)return e.textContent="";const n=a||document.createTextNode("");if(t.length){let a=!1;for(let s=t.length-1;s>=0;s--){const i=t[s];if(n!==i){const t=i.parentNode===e;a||s?t&&i.remove():t?e.replaceChild(n,i):e.insertBefore(n,r)}else a=!0}}else e.insertBefore(n,r);return[n]}function _(t){const{useShadow:i}=t,c=document.createTextNode(""),d=l();let u;return r((()=>{u||(u=a(d,(()=>o((()=>t.children)))));const r=t.mount||document.body;if(r instanceof HTMLHeadElement){const[t,a]=n(!1),i=()=>a(!0);e((e=>M(r,(()=>t()?e():u()),null))),s(i)}else{const e=function(e,t=!1){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(t.isSVG?"g":"div",t.isSVG),a=i&&e.attachShadow?e.attachShadow({mode:"open"}):e;Object.defineProperty(e,"_$host",{get:()=>c.parentNode,configurable:!0}),M(a,u),r.appendChild(e),t.ref&&t.ref(e),s((()=>r.removeChild(e)))}}),void 0,{render:!0}),c}const F=Symbol("store-raw"),L=Symbol("store-node"),D=Symbol("store-has"),N=Symbol("store-self");function B(e){let t=e[c];if(!t&&(Object.defineProperty(e,c,{value:t=new Proxy(e,R)}),!Array.isArray(e))){const r=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let n=0,s=r.length;n<s;n++){const s=r[n];a[s].get&&Object.defineProperty(e,s,{enumerable:a[s].enumerable,get:a[s].get.bind(t)})}}return t}function H(e){let t;return null!=e&&"object"==typeof e&&(e[c]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function I(e,t=new Set){let r,a,n,s;if(r=null!=e&&e[F])return r;if(!H(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,s=e.length;r<s;r++)n=e[r],(a=I(n,t))!==n&&(e[r]=a)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,l=r.length;o<l;o++)s=r[o],i[s].get||(n=e[s],(a=I(n,t))!==n&&(e[s]=a))}return e}function V(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function z(e,t,r){if(e[t])return e[t];const[a,s]=n(r,{equals:!1,internal:!0});return a.$=s,e[t]=a}function U(e){f()&&z(V(e,L),N)()}const R={get(e,t,r){if(t===F)return e;if(t===c)return r;if(t===u)return U(e),r;const a=V(e,L),n=a[t];let s=n?n():e[t];if(t===L||t===D||"__proto__"===t)return s;if(!n){const r=Object.getOwnPropertyDescriptor(e,t);!f()||"function"==typeof s&&!e.hasOwnProperty(t)||r&&r.get||(s=z(a,t,s)())}return H(s)?B(s):s},has:(e,t)=>t===F||t===c||t===u||t===L||t===D||"__proto__"===t||(f()&&z(V(e,D),t)(),t in e),set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){return U(e),Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return r&&!r.get&&r.configurable&&t!==c&&t!==L?(delete r.value,delete r.writable,r.get=()=>e[c][t],r):r}};function q(e,t,r,a=!1){if(!a&&e[t]===r)return;const n=e[t],s=e.length;void 0===r?(delete e[t],e[D]&&e[D][t]&&void 0!==n&&e[D][t].$()):(e[t]=r,e[D]&&e[D][t]&&void 0===n&&e[D][t].$());let i,o=V(e,L);if((i=z(o,t,n))&&i.$((()=>r)),Array.isArray(e)&&e.length!==s){for(let t=e.length;t<s;t++)(i=o[t])&&i.$();(i=z(o,"length",s))&&i.$(e.length)}(i=o[N])&&i.$()}function G(e,t){const r=Object.keys(t);for(let a=0;a<r.length;a+=1){const n=r[a];q(e,n,t[n])}}function W(e,t,r=[]){let a,n=e;if(t.length>1){a=t.shift();const s=typeof a,i=Array.isArray(e);if(Array.isArray(a)){for(let n=0;n<a.length;n++)W(e,[a[n]].concat(t),r);return}if(i&&"function"===s){for(let n=0;n<e.length;n++)a(e[n],n)&&W(e,[n].concat(t),r);return}if(i&&"object"===s){const{from:n=0,to:s=e.length-1,by:i=1}=a;for(let a=n;a<=s;a+=i)W(e,[a].concat(t),r);return}if(t.length>1)return void W(e[a],t,[a].concat(r));n=e[a],r=[a].concat(r)}let s=t[0];"function"==typeof s&&(s=s(n,r),s===n)||void 0===a&&null==s||(s=I(s),void 0===a||H(n)&&H(s)&&!Array.isArray(s)?G(n,s):q(e,a,s))}function J(...[e,t]){const r=I(e||{}),a=Array.isArray(r);return[B(r),function(...e){d((()=>{a&&1===e.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=I(t),Array.isArray(t)){if(e===t)return;let r=0,a=t.length;for(;r<a;r++){const a=t[r];e[r]!==a&&q(e,r,a)}q(e,"length",a)}else G(e,t)}(r,e[0]):W(r,e)}))}]}class K{constructor(){this.baseUrl="https://formulae.brew.sh/api"}async fetchAllFormulaMetadata(){try{const e=await fetch(`${this.baseUrl}/formula.json`);if(!e.ok)return new Map;const t=await e.json();return new Map(t.map((e=>[e.name,{version:e.versions?.stable||null,license:e.license||null,desc:e.desc||null,homepage:e.homepage||null,tap:e.tap||"homebrew/core"}])))}catch(e){return new Map}}async fetchAllCaskMetadata(){try{const e=await fetch(`${this.baseUrl}/cask.json`);if(!e.ok)return new Map;const t=await e.json();return new Map(t.map((e=>[e.token,{version:e.version||null,desc:e.desc||null,homepage:e.homepage||null,tap:e.tap||"homebrew/cask"}])))}catch(e){return new Map}}async fetchAnalyticsData(e,t="install-on-request"){try{const r=await fetch(`${this.baseUrl}/analytics/${t}/${e}.json`);if(!r.ok)throw new Error(`Failed to fetch analytics data for ${t}/${e}`);return await r.json()}catch(r){throw r}}generateBrewUrl(e,t,r){const a=r?"cask":"formula";if("homebrew/core"===t||"homebrew/cask"===t)return`https://formulae.brew.sh/${a}/${e}`;const n=t.split("/");if(2!==n.length)return`https://formulae.brew.sh/${a}/${e}`;const[s,i]=n;return`https://formulae.brew.sh/${a}/${s}/${i}/${e}`}}function X(e,t,r){const a=e/30,n=(r-t)/275;let s=0;r>=1.2*t&&(s=110-10*n/a);const i=12*a+5*((t-e)/60)+n,o=Math.log2(i)*s;return Math.round(o)}class Y{constructor(){this.repository=new K}calculateTrend(e,t,r){if(r-t<t/5)return NaN;const a=(r-e)/335;if(a<=0)return e>0?100:0;const n=e/30/a*100-100;return Math.round(10*n)/10}async fetchAllData(e=!0,t=!0){try{const r={30:"30d",90:"90d",365:"365d"},a=[];e?(a.push(this.repository.fetchAllFormulaMetadata()),Object.values(r).forEach((e=>{a.push(this.repository.fetchAnalyticsData(e,"install-on-request"))}))):(a.push(Promise.resolve(new Map)),Object.values(r).forEach((()=>{a.push(Promise.resolve({items:[]}))}))),t?(a.push(this.repository.fetchAllCaskMetadata()),Object.values(r).forEach((e=>{a.push(this.repository.fetchAnalyticsData(e,"cask-install"))}))):(a.push(Promise.resolve(new Map)),Object.values(r).forEach((()=>{a.push(Promise.resolve({items:[]}))})));const n=await Promise.all(a),s=n[0],i={30:n[1],90:n[2],365:n[3]},o=n[4],l={30:n[5],90:n[6],365:n[7]},c=e?this.processFormulaData(s,i):[],d=t?this.processCaskData(o,l):[],u=c.filter((e=>e.count[30]>=(Q.thresholds?.[30]?.formula||0)&&e.count[90]>=(Q.thresholds?.[90]?.formula||0)&&e.count[365]>=(Q.thresholds?.[365]?.formula||0))),f=d.filter((e=>e.count[30]>=(Q.thresholds?.[30]?.cask||0)&&e.count[90]>=(Q.thresholds?.[90]?.cask||0)&&e.count[365]>=(Q.thresholds?.[365]?.cask||0))),h=[...u,...f];return{summary:Object.fromEntries([30,90,365].map((e=>[e,{date:{start:i[e]?.start_date||l[e]?.start_date||"",end:i[e]?.end_date||l[e]?.end_date||""},formula:{items:i[e]?.total_items||0,count:i[e]?.total_count||0},cask:{items:l[e]?.total_items||0,count:l[e]?.total_count||0}}]))),items:h}}catch(r){throw r}}ensureCountConsistency(e,t,r){return e=Math.max(0,e),t=Math.max(0,t),r=Math.max(0,r),{count365:e,count90:t=Math.min(t,e),count30:r=Math.min(r,t)}}processFormulaData(e,t){const r=new Map(t[90].items.map((e=>[e.formula,e]))),a=new Map(t[30].items.map((e=>[e.formula,e])));return t[365].items.map((t=>{const n=e.get(t.formula)||{},s=parseInt(t.count.replace(/,/g,"")),i=r.get(t.formula),o=parseInt(i?.count.replace(/,/g,"")||"0"),l=a.get(t.formula),c=parseInt(l?.count.replace(/,/g,"")||"0"),{count365:d,count90:u,count30:f}=this.ensureCountConsistency(s,o,c),h=X(f,u,d),g=this.calculateTrend(f,u,d);return{formula:t.formula,name:t.formula,count:{365:d,90:u,30:f},percent:{365:parseFloat(t.percent),90:parseFloat(i?.percent||"0"),30:parseFloat(l?.percent||"0")},score:h,trend:g,version:n.version||null,license:n.license||null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/core",brewUrl:this.repository.generateBrewUrl(t.formula,n.tap||"homebrew/core",!1),isCask:!1}}))}processCaskData(e,t){const r=new Map(t[90].items.filter((e=>e.cask)).map((e=>[e.cask,e]))),a=new Map(t[30].items.filter((e=>e.cask)).map((e=>[e.cask,e])));return t[365].items.map((t=>{const n=e.get(t.cask)||{},s=parseInt(t.count.replace(/,/g,"")),i=r.get(t.cask),o=parseInt(i?.count.replace(/,/g,"")||"0"),l=a.get(t.cask),c=parseInt(l?.count.replace(/,/g,"")||"0"),{count365:d,count90:u,count30:f}=this.ensureCountConsistency(s,o,c),h=X(f,u,d),g=this.calculateTrend(f,u,d);return{formula:t.cask,name:t.cask,count:{365:d,90:u,30:f},percent:{365:parseFloat(t.percent),90:parseFloat(i?.percent||"0"),30:parseFloat(l?.percent||"0")},score:h,trend:g,version:n.version||null,license:null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/cask",brewUrl:this.repository.generateBrewUrl(t.cask,n.tap||"homebrew/cask",!0),isCask:!0}}))}}const Z=new class{constructor(){this.stateManager=new Y,[this.store,this.setStore]=J({period:30,search:"",isLoading:!1,error:null,thresholds:{30:{formula:50,cask:20},90:{formula:125,cask:50},365:{formula:250,cask:100}},summary:{30:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},90:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},365:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}}},items:[]})}async initialize(){this.setStore("isLoading",!0);try{const e=await this.stateManager.fetchAllData(!0,!0);return this.setStore("summary",e.summary),this.setStore("items",e.items),e.items}catch(e){return this.setStore("error",e?.message||"Failed to load data"),[]}finally{this.setStore("isLoading",!1)}}},Q=Z.store;Z.setStore;const ee=()=>Z.initialize(),te=m();function re(e){const[t,r]=J({items:[],visible:!1});g((()=>{try{const e=localStorage.getItem("brewTrendCart");if(e){const t=JSON.parse(e);r("items",t)}}catch(e){}}));const a=e=>{try{localStorage.setItem("brewTrendCart",JSON.stringify(e))}catch(t){}},n={cart:t,addToCart:e=>{if(!t.items.some((t=>t.formula===e.formula))){const n=[...t.items,e];r("items",n),a(n)}},removeFromCart:e=>{const n=t.items.filter((t=>t.formula!==e.formula));r("items",n),a(n)},clearCart:()=>{r("items",[]),a([])},toggleCartVisibility:()=>{r("visible",!t.visible)},closeCart:()=>{r("visible",!1)},isInCart:e=>t.items.some((t=>t.formula===e.formula))};return p(te.Provider,{value:n,get children(){return e.children}})}function ae(){const e=h(te);if(!e)throw new Error("useCart must be used within a CartProvider");return e}var ne=k('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><path d="M5,6V16C5,18 6.5,19 8,19H14C15.5,19 17,18 17,16V6"stroke=currentColor fill="rgba(245, 158, 11, 0.3)"></path><path d="M17,6H5C5,4 6.5,3 8,3H14C15.5,3 17,4 17,6Z"stroke=currentColor fill=white></path><path d="M17,6V3C19,3 20,4.5 20,6V8C20,9.5 19,11 17,11"stroke=currentColor></path><path d="M7,8.5C9,8 11,10 13,9.5C15,9 16,8 16,8"stroke=currentColor stroke-linecap=round></path><path d=M7,12.5H15 stroke=currentColor stroke-linecap=round></path><path d=M7,15.5H15 stroke=currentColor stroke-linecap=round>');function se(e){return r=ne(),t((()=>C(r,"class",e.class))),r;var r}var ie=k('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><ellipse cx=12 cy=6 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=6 rx=6 ry=2 stroke=currentColor></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 stroke=currentColor></ellipse><line x1=6 y1=6 x2=6 y2=18 stroke=currentColor></line><line x1=18 y1=6 x2=18 y2=18 stroke=currentColor></line><line x1=8 y1=9 x2=8 y2=15 stroke=currentColor></line><line x1=12 y1=8 x2=12 y2=16 stroke=currentColor></line><line x1=16 y1=9 x2=16 y2=15 stroke=currentColor>');function oe(e){return r=ie(),t((()=>C(r,"class",e.class))),r;var r}var le=k("<div><div>"),ce=k('<div class="flex justify-between items-center mb-2"><h3 class="text-lg font-semibold">Brew Commands:</h3><button title="Copy commands to clipboard"class="px-3 py-1 bg-blue-500 hover:bg-blue-600 rounded text-sm flex items-center gap-2 transition-colors">'),de=k('<pre class="font-mono text-sm overflow-x-auto rounded bg-[#1e1f29] p-4">'),ue=k("<div><span class=text-[#fe4a56]><i><b>"),fe=k("<div><span class=text-[#50fa7b]>brew</span> <span class=text-[#ff79c6]></span> <span class=text-[#f1fa8c]></span> <span class=text-[#fe4a56]><i><b>"),he=k("<div><span class=text-[#50fa7b]>brew</span> <span class=text-[#ff79c6]></span> <span class=text-[#f1fa8c]>");function ge(e){const[r,a]=n(""),s=()=>function(e,t,r){const a=[],n=t.filter((e=>r.some((t=>t.name===e.name))));n.length>0&&(a.push("# Update outdated packages"),n.forEach((e=>{a.push(`brew upgrade ${e.name}`)})));const s=t.filter((e=>"Formula"===e.category&&!r.some((t=>t.name===e.name)))),i=t.filter((e=>"Cask"===e.category&&!r.some((t=>t.name===e.name))));if(s.length>0){a.push("# Install Formula packages");const e=s.map((e=>e.name)).join(" ");a.push(`brew install ${e}`)}if(i.length>0){a.push("# Install Cask packages");const e=i.map((e=>e.name)).join(" ");a.push(`brew install --cask ${e}`)}return 0===a.length&&a.push("# No packages selected for installation or upgrade"),a}(e.categories,e.selectedPackages,e.outdatedPackages),i=async()=>{const e=s().join("\n");try{await navigator.clipboard.writeText(e),o("Copied!")}catch(t){o("Failed to copy")}},o=e=>{a(e),setTimeout((()=>a("")),2e3)};return l=le(),M(c=l.firstChild,p(pe,{copyToClipboard:i,copySuccess:r}),null),M(c,p(me,{get commands(){return s()}}),null),t((t=>{var r=(e.isEmbedded?"":"fixed bottom-0 left-0 right-0")+" bg-[#282a36] text-[#f8f8f2] shadow-lg z-10 rounded-md",a=(e.isEmbedded?"":"max-w-[1800px] min-w-[1200px]")+" mx-auto px-4 py-4";return r!==t.e&&S(l,t.e=r),a!==t.t&&S(c,t.t=a),t}),{e:void 0,t:void 0}),l;var l,c}function pe(e){return t=ce(),j(r=t.firstChild.nextSibling,"click",e.copyToClipboard),M(r,(()=>e.copySuccess()||"Copy")),t;var t,r}function me(e){return M(t=de(),p(y,{get each(){return e.commands},children:(e,t)=>e.startsWith("#")?p(ye,{text:e}):e.includes("#")?p(be,{cmd:e}):p(xe,{cmd:e})})),t;var t}function ye(e){return M((t=ue()).firstChild.firstChild.firstChild,(()=>e.text)),t;var t}function be(e){const[t,r]=e.cmd.split("#",2),a=t.trim().split(" ");return n=fe(),s=n.firstChild.nextSibling.nextSibling,i=s.nextSibling.nextSibling,o=i.nextSibling.nextSibling.firstChild.firstChild,M(s,(()=>a[1])),M(i,(()=>a.slice(2).join(" "))),M(o,`#${r}`),n;var n,s,i,o}function xe(e){const t=e.cmd.split(" ");return r=he(),a=r.firstChild.nextSibling.nextSibling,n=a.nextSibling.nextSibling,M(a,(()=>t[1])),M(n,(()=>t.slice(2).join(" "))),r;var r,a,n}w(["click"]);var ve=k('<ul class="divide-y divide-gray-200 dark:divide-gray-700">'),ke=k("<div class=mt-6>"),we=k('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full mx-4 relative shadow-xl"><button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"aria-label="Close modal">✕</button><div class="flex items-center border-b border-gray-200 dark:border-gray-700 p-4 pb-4 mb-4"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Installation Cart (<!> <!>)</h2></div><div class="p-4 overflow-y-auto max-h-[60vh]"></div><div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 p-4"><div class="flex justify-between"><button class="px-3 py-1 rounded-md text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-medium flex items-center"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear Cart</button><div class="flex space-x-2"><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200">Close'),Ce=k('<div class="text-center py-8 text-gray-500 dark:text-gray-400">Your cart is empty. Add packages to generate installation commands.'),Se=k('<li class="py-3 flex justify-between items-center"><div class="flex items-center space-x-3"><span class="font-medium text-gray-900 dark:text-white"></span><span class="text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs"></span></div><button class="text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300"aria-label="Remove from cart"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">');function je(){const{cart:e,removeFromCart:r,clearCart:a,closeCart:i}=ae(),[l,c]=n(!1);let d;const u=t=>{"Escape"===t.key&&e.visible&&i()},f=t=>{d&&!d.contains(t.target)&&e.visible&&i()};g((()=>{document.addEventListener("keydown",u),document.addEventListener("mousedown",f)})),s((()=>{document.removeEventListener("keydown",u),document.removeEventListener("mousedown",f)}));return p(b,{get when(){return e.visible},get children(){var n=we(),s=n.firstChild,l=s.firstChild,c=l.nextSibling,u=c.firstChild,f=u.firstChild.nextSibling,h=f.nextSibling.nextSibling;h.nextSibling;var g=c.nextSibling,m=g.nextSibling.firstChild.firstChild,x=m.nextSibling.firstChild;return"function"==typeof d?A(d,s):d=s,j(l,"click",i),M(u,(()=>e.items.length),f),M(u,(()=>1===e.items.length?"package":"packages"),h),M(g,p(b,{get when(){return e.items.length>0},get fallback(){return Ce()},get children(){return[(a=ve(),M(a,p(y,{get each(){return e.items},children:e=>{return a=Se(),n=a.firstChild,s=n.firstChild,i=s.nextSibling,l=n.nextSibling,M(n,(t=o((()=>!!e.isCask)),()=>t()?p(oe,{class:"w-5 h-5 text-purple-500"}):p(se,{class:"w-5 h-5 text-amber-500"})),s),M(s,(()=>e.formula)),M(i,(()=>e.description)),l.$$click=()=>r(e),a;var t,a,n,s,i,l}})),a),(t=ke(),M(t,p(ge,{get categories(){return(()=>{const t=[],r={name:"Formula",packages:[]},a={name:"Cask",packages:[]};return e.items.some((e=>!e.isCask))&&t.push(r),e.items.some((e=>e.isCask))&&t.push(a),t})()},get selectedPackages(){return e.items.map((e=>({name:e.formula,category:e.isCask?"Cask":"Formula",description:e.description||""})))},get outdatedPackages(){return[]},isEmbedded:!0})),t)];var t,a}})),j(m,"click",a),j(x,"click",i),t((()=>m.disabled=0===e.items.length)),n}})}w(["click"]);const Ae=(e,t)=>{let r;return(...a)=>{clearTimeout(r),r=setTimeout((()=>e(...a)),t)}},Me=(e,t)=>{let r;return(...a)=>{r||(e(...a),r=!0,setTimeout((()=>r=!1),t))}};var $e=k('<div class="flex items-center gap-2"><canvas width=73 height=25>'),Te=k("<span>%");function Oe(e){let a;const n=new Y,i=o((()=>{const t=e.count;if(!t)return null;const r=(t[365]-t[90])/275,a=(t[90]-t[30])/60,n=t[30]/30,s=Math.max(r,a,n,.001),i=25;return{y1:i-r/s*i,y2:i-a/s*i,y3:i-n/s*i,w:73,h:i}})),l=Me((()=>{if(!a)return;const e=a.getContext("2d"),{y1:t,y2:r,y3:n,w:s,h:o}=i();e.clearRect(0,0,s,o),e.beginPath(),e.moveTo(0,t),e.lineTo(55,t),e.lineTo(55,r),e.lineTo(67,r),e.lineTo(67,n),e.lineTo(s,n),e.strokeStyle="#F9A03C",e.lineWidth=2,e.stroke()}),16);r((()=>{i(),l();const e=new ResizeObserver(Me((()=>{l()}),100));e.observe(a.parentElement),s((()=>e.disconnect()))}));const c=o((()=>e.trend??(e.withTrend?n.calculateTrend(e.count?.[30]||0,e.count?.[90]||0,e.count?.[365]||0):null))),d=o((()=>c()<0?"↓":c()>0?"↑":""));return f=$e(),h=f.firstChild,"function"==typeof a?A(a,h):a=h,h.style.setProperty("maxWidth","100%"),M(f,(u=o((()=>!(null==c()||!Number.isFinite(parseFloat(c()))))),()=>{return u()&&(e=Te(),r=e.firstChild,M(e,d,r),M(e,(()=>Math.abs(c())),r),t((()=>S(e,"text-sm "+(c()>0?"text-green-600 dark:text-green-400":c()<0?"text-red-600 dark:text-red-400":"")))),e);var e,r}),null),f;var u,f,h}var Pe=k('<div class=mt-4><h3 class="text-lg font-medium mb-2">Dependencies:</h3><ul class="list-disc pl-5 space-y-1">'),Ee=k('<div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Caveats</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4"><p class="text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap">'),_e=k('<div class="fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center"><div class="bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full mx-4 relative shadow-xl"><button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"aria-label="Close modal">✕</button><div class="flex items-center border-b border-gray-200 dark:border-gray-700 p-4 pb-4 mb-4"><div class=mr-3></div><div><h2 class="text-2xl font-bold text-gray-900 dark:text-white"></h2><p class="text-gray-600 dark:text-gray-300"></p></div></div><div class="p-4 overflow-y-auto max-h-[60vh]"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class=space-y-6><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Package Details</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2"><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Version</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">License</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Category</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Created</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">Last Update</span><span class="font-medium text-gray-900 dark:text-white"></span></div></div></div></div><div class=space-y-6><div><h3 class="font-semibold text-gray-600 dark:text-gray-300 mb-2">Installation Statistics</h3><div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2"><div class="flex justify-between items-center"><span class="text-gray-600 dark:text-gray-400">30 Day Installs</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between items-center"><span class="text-gray-600 dark:text-gray-400">90 Day Installs</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between items-center"><span class="text-gray-600 dark:text-gray-400">365 Day Installs</span><span class="font-medium text-gray-900 dark:text-white"></span></div><div class="flex justify-between items-center pt-2"><span class="text-gray-600 dark:text-gray-400">Install Trend</span></div></div></div></div></div></div><div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 p-4"><div class="flex justify-between"><div class="flex space-x-4"><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Brew.sh</a></div><div class="flex space-x-2"><button class="px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200">Close</button><button><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><span>'),Fe=k("<li>"),Le=k('<a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Homepage');function De(e){const{addToCart:a,removeFromCart:n,isInCart:i}=ae();let l;r((()=>{e.package}));const c=t=>{"Escape"===t.key&&e.isOpen&&e.onClose()},d=t=>{l&&!l.contains(t.target)&&e.isOpen&&e.onClose()};g((()=>{document.addEventListener("keydown",c),document.addEventListener("mousedown",d)})),s((()=>{document.removeEventListener("keydown",c),document.removeEventListener("mousedown",d)}));const u=e=>{if(!e)return"Unknown";return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},f=()=>{i(e.package)?n(e.package):a(e.package)};return p(b,{get when(){return e.isOpen},get children(){var r=_e(),a=r.firstChild,n=a.firstChild,s=n.nextSibling,c=s.firstChild,d=c.nextSibling.firstChild,h=d.nextSibling,g=s.nextSibling,m=g.firstChild.firstChild,x=m.firstChild.firstChild.nextSibling.firstChild,v=x.firstChild.nextSibling,k=x.nextSibling,w=k.firstChild.nextSibling,$=k.nextSibling,T=$.firstChild.nextSibling,O=$.nextSibling,P=O.firstChild.nextSibling,E=O.nextSibling.firstChild.nextSibling,_=m.nextSibling,F=_.firstChild.firstChild.nextSibling.firstChild,L=F.firstChild.nextSibling,D=F.nextSibling,N=D.firstChild.nextSibling,B=D.nextSibling,H=B.firstChild.nextSibling,I=B.nextSibling;I.firstChild;var V,z,U=g.nextSibling.firstChild.firstChild,R=U.firstChild,q=U.nextSibling.firstChild,G=q.nextSibling,W=G.firstChild.nextSibling;return"function"==typeof l?A(l,a):l=a,j(n,"click",e.onClose),M(c,(V=o((()=>!!e.package?.isCask)),()=>V()?p(oe,{class:"w-8 h-8 text-purple-500"}):p(se,{class:"w-8 h-8 text-amber-500"}))),M(d,(()=>e.package?.formula)),M(h,(()=>e.package?.desc)),M(v,(()=>e.package?.version||"N/A")),M(w,(()=>e.package?.license||"N/A")),M(T,(()=>e.package?.category||"N/A")),M(P,(()=>u(e.package?.created_at))),M(E,(()=>u(e.package?.updated_at))),M(m,p(b,{get when(){return e.package?.dependencies?.length},get children(){var t=Pe();return M(t.firstChild.nextSibling,p(y,{get each(){return e.package?.dependencies},children:e=>{return M(t=Fe(),e),t;var t}})),t}}),null),M(L,(()=>e.package?.count[30].toLocaleString())),M(N,(()=>e.package?.count[90].toLocaleString())),M(H,(()=>e.package?.count[365].toLocaleString())),M(I,p(Oe,{get count(){return e.package?.count},get trend(){return e.package?.trend}}),null),M(_,p(b,{get when(){return e.package?.caveats},get children(){var t=Ee();return M(t.firstChild.nextSibling.firstChild,(()=>e.package?.caveats)),t}}),null),M(U,(z=o((()=>!!e.package?.homepage)),()=>{return z()&&(r=Le(),t((()=>C(r,"href",e.package.homepage))),r);var r}),null),j(q,"click",e.onClose),G.$$click=f,M(W,(()=>i(e.package)?"Remove from Cart":"Add to Cart")),t((t=>{var r=e.package?.brewUrl,a="px-3 py-1 rounded-md flex items-center "+(i(e.package)?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white");return r!==t.e&&C(R,"href",t.e=r),a!==t.t&&S(G,t.t=a),t}),{e:void 0,t:void 0}),r}})}w(["click"]);export{oe as C,Y as H,se as M,_ as P,Oe as T,j as a,Ae as b,S as c,w as d,A as e,J as f,Q as g,De as h,M as i,je as j,re as k,ee as l,v as r,C as s,k as t,ae as u};
