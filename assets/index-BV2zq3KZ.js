(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const Et=!1,Dt=(e,t)=>e===t,ne=Symbol("solid-proxy"),ut=Symbol("solid-track"),Oe={equals:Dt};let vt=Ct;const Y=1,Ie=2,xt={owned:null,cleanups:null,context:null,owner:null};var w=null;let et=null,Ot=null,C=null,D=null,z=null,We=0;function $t(e,t){const r=C,s=w,n=e.length===0,l=t===void 0?s:t,a=n?xt:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=n?e:()=>e(()=>G(()=>_e(a)));w=a,C=null;try{return le(i,!0)}finally{C=r,w=s}}function N(e,t){t=t?Object.assign({},Oe,t):Oe;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),_t(r,n));return[yt.bind(r),s]}function k(e,t,r){const s=lt(e,t,!1,Y);Ae(s)}function Se(e,t,r){vt=Wt;const s=lt(e,t,!1,Y);(!r||!r.render)&&(s.user=!0),z?z.push(s):Ae(s)}function S(e,t,r){r=r?Object.assign({},Oe,r):Oe;const s=lt(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,Ae(s),yt.bind(s)}function It(e){return le(e,!1)}function G(e){if(C===null)return e();const t=C;C=null;try{return e()}finally{C=t}}function wt(e){Se(()=>G(e))}function dt(e){return w===null||(w.cleanups===null?w.cleanups=[e]:w.cleanups.push(e)),e}function tt(){return C}function Nt(){return w}function Ft(e,t){const r=w,s=C;w=e,C=null;try{return le(t,!0)}catch(n){at(n)}finally{w=r,C=s}}function Bt(e,t){const r=Symbol("context");return{id:r,Provider:qt(r),defaultValue:e}}function Vt(e){let t;return w&&w.context&&(t=w.context[e.id])!==void 0?t:e.defaultValue}function Ht(e){const t=S(e),r=S(()=>rt(t()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function yt(){if(this.sources&&this.state)if(this.state===Y)Ae(this);else{const e=D;D=null,le(()=>Fe(this),!1),D=e}if(C){const e=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(e)):(C.sources=[this],C.sourceSlots=[e]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function _t(e,t,r){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&le(()=>{for(let n=0;n<e.observers.length;n+=1){const l=e.observers[n],a=et&&et.running;a&&et.disposed.has(l),(a?!l.tState:!l.state)&&(l.pure?D.push(l):z.push(l),l.observers&&kt(l)),a||(l.state=Y)}if(D.length>1e6)throw D=[],new Error},!1)),t}function Ae(e){if(!e.fn)return;_e(e);const t=We;Rt(e,e.value,t)}function Rt(e,t,r){let s;const n=w,l=C;C=w=e;try{s=e.fn(t)}catch(a){return e.pure&&(e.state=Y,e.owned&&e.owned.forEach(_e),e.owned=null),e.updatedAt=r+1,at(a)}finally{C=l,w=n}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?_t(e,s):e.value=s,e.updatedAt=r)}function lt(e,t,r,s=Y,n){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:w?w.context:null,pure:r};return w===null||w!==xt&&(w.owned?w.owned.push(l):w.owned=[l]),l}function Ne(e){if(e.state===0)return;if(e.state===Ie)return Fe(e);if(e.suspense&&G(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<We);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===Y)Ae(e);else if(e.state===Ie){const s=D;D=null,le(()=>Fe(e,t[0]),!1),D=s}}function le(e,t){if(D)return e();let r=!1;t||(D=[]),z?r=!0:z=[],We++;try{const s=e();return Ut(r),s}catch(s){r||(z=null),D=null,at(s)}}function Ut(e){if(D&&(Ct(D),D=null),e)return;const t=z;z=null,t.length&&le(()=>vt(t),!1)}function Ct(e){for(let t=0;t<e.length;t++)Ne(e[t])}function Wt(e){let t,r=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[r++]=s:Ne(s)}for(t=0;t<r;t++)Ne(e[t])}function Fe(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const n=s.state;n===Y?s!==t&&(!s.updatedAt||s.updatedAt<We)&&Ne(s):n===Ie&&Fe(s,t)}}}function kt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Ie,r.pure?D.push(r):z.push(r),r.observers&&kt(r))}}function _e(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),s=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){const l=n.pop(),a=r.observerSlots.pop();s<n.length&&(l.sourceSlots[a]=s,n[s]=l,r.observerSlots[s]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)_e(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)_e(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function zt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function at(e,t=w){throw zt(e)}function rt(e){if(typeof e=="function"&&!e.length)return rt(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const s=rt(e[r]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function qt(e,t){return function(s){let n;return k(()=>n=G(()=>(w.context={...w.context,[e]:s.value},Ht(()=>s.children))),void 0),n}}function b(e,t){return G(()=>e(t||{}))}const Qt=e=>`Stale read from <${e}>.`;function me(e){const t=e.keyed,r=S(()=>e.when,void 0,void 0),s=t?r:S(r,void 0,{equals:(n,l)=>!n==!l});return S(()=>{const n=s();if(n){const l=e.children;return typeof l=="function"&&l.length>0?G(()=>l(t?n:()=>{if(!G(s))throw Qt("Show");return r()})):l}return e.fallback},void 0,void 0)}function Gt(e,t,r){let s=r.length,n=t.length,l=s,a=0,i=0,o=t[n-1].nextSibling,c=null;for(;a<n||i<l;){if(t[a]===r[i]){a++,i++;continue}for(;t[n-1]===r[l-1];)n--,l--;if(n===a){const f=l<s?i?r[i-1].nextSibling:r[l-i]:o;for(;i<l;)e.insertBefore(r[i++],f)}else if(l===i)for(;a<n;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[l-1]&&r[i]===t[n-1]){const f=t[--n].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--l],f),t[n]=r[l]}else{if(!c){c=new Map;let u=i;for(;u<l;)c.set(r[u],u++)}const f=c.get(t[a]);if(f!=null)if(i<f&&f<l){let u=a,h=1,g;for(;++u<n&&u<l&&!((g=c.get(t[u]))==null||g!==f+h);)h++;if(h>f-i){const m=t[a];for(;i<f;)e.insertBefore(r[i++],m)}else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}}const ft="_$DX_DELEGATE";function Kt(e,t,r,s={}){let n;return $t(l=>{n=l,t===document?e():d(t,e(),t.firstChild?null:void 0,r)},s.owner),()=>{n(),t.textContent=""}}function p(e,t,r,s){let n;const l=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},a=()=>(n||(n=l())).cloneNode(!0);return a.cloneNode=a,a}function ae(e,t=window.document){const r=t[ft]||(t[ft]=new Set);for(let s=0,n=e.length;s<n;s++){const l=e[s];r.has(l)||(r.add(l),t.addEventListener(l,Jt))}}function H(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function K(e,t){t==null?e.removeAttribute("class"):e.className=t}function ye(e,t,r,s){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function Yt(e,t,r){return G(()=>e(t,r))}function d(e,t,r,s){if(r!==void 0&&!s&&(s=[]),typeof t!="function")return Be(e,t,s,r);k(n=>Be(e,t(),n,r),s)}function Jt(e){let t=e.target;const r=`$$${e.type}`,s=e.target,n=e.currentTarget,l=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),a=()=>{const o=t[r];if(o&&!t.disabled){const c=t[`${r}Data`];if(c!==void 0?o.call(t,c,e):o.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},i=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const o=e.composedPath();l(o[0]);for(let c=0;c<o.length-2&&(t=o[c],!!a());c++){if(t._$host){t=t._$host,i();break}if(t.parentNode===n)break}}else i();l(s)}function Be(e,t,r,s,n){for(;typeof r=="function";)r=r();if(t===r)return r;const l=typeof t,a=s!==void 0;if(e=a&&r[0]&&r[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===r))return r;if(a){let i=r[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),r=ge(e,r,s,i)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||l==="boolean")r=ge(e,r,s);else{if(l==="function")return k(()=>{let i=t();for(;typeof i=="function";)i=i();r=Be(e,i,r,s)}),()=>r;if(Array.isArray(t)){const i=[],o=r&&Array.isArray(r);if(st(i,t,r,n))return k(()=>r=Be(e,i,r,s,!0)),()=>r;if(i.length===0){if(r=ge(e,r,s),a)return r}else o?r.length===0?ht(e,i,s):Gt(e,r,i):(r&&ge(e),ht(e,i));r=i}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=ge(e,r,s,t);ge(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function st(e,t,r,s){let n=!1;for(let l=0,a=t.length;l<a;l++){let i=t[l],o=r&&r[e.length],c;if(!(i==null||i===!0||i===!1))if((c=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))n=st(e,i,o)||n;else if(c==="function")if(s){for(;typeof i=="function";)i=i();n=st(e,Array.isArray(i)?i:[i],Array.isArray(o)?o:[o])||n}else e.push(i),n=!0;else{const f=String(i);o&&o.nodeType===3&&o.data===f?e.push(o):e.push(document.createTextNode(f))}}return n}function ht(e,t,r=null){for(let s=0,n=t.length;s<n;s++)e.insertBefore(t[s],r)}function ge(e,t,r,s){if(r===void 0)return e.textContent="";const n=s||document.createTextNode("");if(t.length){let l=!1;for(let a=t.length-1;a>=0;a--){const i=t[a];if(n!==i){const o=i.parentNode===e;!l&&!a?o?e.replaceChild(n,i):e.insertBefore(n,r):o&&i.remove()}else l=!0}}else e.insertBefore(n,r);return[n]}const Xt="http://www.w3.org/2000/svg";function Zt(e,t=!1){return t?document.createElementNS(Xt,e):document.createElement(e)}function er(e){const{useShadow:t}=e,r=document.createTextNode(""),s=()=>e.mount||document.body,n=Nt();let l;return Se(()=>{l||(l=Ft(n,()=>S(()=>e.children)));const a=s();if(a instanceof HTMLHeadElement){const[i,o]=N(!1),c=()=>o(!0);$t(f=>d(a,()=>i()?f():l(),null)),dt(c)}else{const i=Zt(e.isSVG?"g":"div",e.isSVG),o=t&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return r.parentNode},configurable:!0}),d(o,l),a.appendChild(i),e.ref&&e.ref(i),dt(()=>a.removeChild(i))}},void 0,{render:!0}),r}const nt=Symbol("store-raw"),pe=Symbol("store-node"),W=Symbol("store-has"),St=Symbol("store-self");function At(e){let t=e[ne];if(!t&&(Object.defineProperty(e,ne,{value:t=new Proxy(e,sr)}),!Array.isArray(e))){const r=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let n=0,l=r.length;n<l;n++){const a=r[n];s[a].get&&Object.defineProperty(e,a,{enumerable:s[a].enumerable,get:s[a].get.bind(t)})}}return t}function Ve(e){let t;return e!=null&&typeof e=="object"&&(e[ne]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Ce(e,t=new Set){let r,s,n,l;if(r=e!=null&&e[nt])return r;if(!Ve(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,i=e.length;a<i;a++)n=e[a],(s=Ce(n,t))!==n&&(e[a]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,c=a.length;o<c;o++)l=a[o],!i[l].get&&(n=e[l],(s=Ce(n,t))!==n&&(e[l]=s))}return e}function He(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function ke(e,t,r){if(e[t])return e[t];const[s,n]=N(r,{equals:!1,internal:!0});return s.$=n,e[t]=s}function tr(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===ne||t===pe||(delete r.value,delete r.writable,r.get=()=>e[ne][t]),r}function Mt(e){tt()&&ke(He(e,pe),St)()}function rr(e){return Mt(e),Reflect.ownKeys(e)}const sr={get(e,t,r){if(t===nt)return e;if(t===ne)return r;if(t===ut)return Mt(e),r;const s=He(e,pe),n=s[t];let l=n?n():e[t];if(t===pe||t===W||t==="__proto__")return l;if(!n){const a=Object.getOwnPropertyDescriptor(e,t);tt()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(l=ke(s,t,l)())}return Ve(l)?At(l):l},has(e,t){return t===nt||t===ne||t===ut||t===pe||t===W||t==="__proto__"?!0:(tt()&&ke(He(e,W),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:rr,getOwnPropertyDescriptor:tr};function Re(e,t,r,s=!1){if(!s&&e[t]===r)return;const n=e[t],l=e.length;r===void 0?(delete e[t],e[W]&&e[W][t]&&n!==void 0&&e[W][t].$()):(e[t]=r,e[W]&&e[W][t]&&n===void 0&&e[W][t].$());let a=He(e,pe),i;if((i=ke(a,t,n))&&i.$(()=>r),Array.isArray(e)&&e.length!==l){for(let o=e.length;o<l;o++)(i=a[o])&&i.$();(i=ke(a,"length",l))&&i.$(e.length)}(i=a[St])&&i.$()}function Lt(e,t){const r=Object.keys(t);for(let s=0;s<r.length;s+=1){const n=r[s];Re(e,n,t[n])}}function nr(e,t){if(typeof t=="function"&&(t=t(e)),t=Ce(t),Array.isArray(t)){if(e===t)return;let r=0,s=t.length;for(;r<s;r++){const n=t[r];e[r]!==n&&Re(e,r,n)}Re(e,"length",s)}else Lt(e,t)}function we(e,t,r=[]){let s,n=e;if(t.length>1){s=t.shift();const a=typeof s,i=Array.isArray(e);if(Array.isArray(s)){for(let o=0;o<s.length;o++)we(e,[s[o]].concat(t),r);return}else if(i&&a==="function"){for(let o=0;o<e.length;o++)s(e[o],o)&&we(e,[o].concat(t),r);return}else if(i&&a==="object"){const{from:o=0,to:c=e.length-1,by:f=1}=s;for(let u=o;u<=c;u+=f)we(e,[u].concat(t),r);return}else if(t.length>1){we(e[s],t,[s].concat(r));return}n=e[s],r=[s].concat(r)}let l=t[0];typeof l=="function"&&(l=l(n,r),l===n)||s===void 0&&l==null||(l=Ce(l),s===void 0||Ve(n)&&Ve(l)&&!Array.isArray(l)?Lt(n,l):Re(e,s,l))}function it(...[e,t]){const r=Ce(e||{}),s=Array.isArray(r),n=At(r);function l(...a){It(()=>{s&&a.length===1?nr(r,a[0]):we(r,a)})}return[n,l]}function gt(e,t,r,s=100,n=.15){const l=e/30,a=(t-e)/60,i=(r-t)/275,o=(r-e)/335,c=Math.log10(i*a*l)*s,f=(-o+l)*n,u=c+f;return Math.round(u)}class lr{constructor(){this.baseUrl="https://formulae.brew.sh/api"}async fetchAllFormulaMetadata(){try{const t=await fetch(`${this.baseUrl}/formula.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(s=>[s.name,{version:s.versions?.stable||null,license:s.license||null,desc:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/core"}]))}catch(t){return console.error("Error fetching formula metadata:",t),new Map}}async fetchAllCaskMetadata(){try{const t=await fetch(`${this.baseUrl}/cask.json`);if(!t.ok)return new Map;const r=await t.json();return new Map(r.map(s=>[s.token,{version:s.version||null,desc:s.desc||null,homepage:s.homepage||null,tap:s.tap||"homebrew/cask"}]))}catch(t){return console.error("Error fetching cask metadata:",t),new Map}}async fetchAnalyticsData(t,r="install-on-request"){try{const s=await fetch(`${this.baseUrl}/analytics/${r}/${t}.json`);if(!s.ok)throw new Error(`Failed to fetch analytics data for ${r}/${t}`);return await s.json()}catch(s){throw console.error(`Error fetching analytics data for ${r}/${t}:`,s),s}}async fetchAllData(t=!0,r=!0){try{const s={30:"30d",90:"90d",365:"365d"},n=[];t?(n.push(this.fetchAllFormulaMetadata()),Object.values(s).forEach(m=>{n.push(this.fetchAnalyticsData(m,"install-on-request"))})):(n.push(Promise.resolve(new Map)),Object.values(s).forEach(()=>{n.push(Promise.resolve({items:[]}))})),r?(n.push(this.fetchAllCaskMetadata()),Object.values(s).forEach(m=>{n.push(this.fetchAnalyticsData(m,"cask-install"))})):(n.push(Promise.resolve(new Map)),Object.values(s).forEach(()=>{n.push(Promise.resolve({items:[]}))}));const l=await Promise.all(n),a=l[0],i={30:l[1],90:l[2],365:l[3]},o=l[4],c={30:l[5],90:l[6],365:l[7]},f=t?this.processFormulaData(a,i):[],u=r?this.processCaskData(o,c):[],h=[...f,...u];return{summary:Object.fromEntries([30,90,365].map(m=>[m,{date:{start:i[m]?.start_date||c[m]?.start_date||"",end:i[m]?.end_date||c[m]?.end_date||""},formula:{items:i[m]?.total_items||0,count:i[m]?.total_count||0},cask:{items:c[m]?.total_items||0,count:c[m]?.total_count||0}}])),items:h}}catch(s){throw console.error("Error fetching all data:",s),s}}processFormulaData(t,r){return r[365].items.map(s=>{const n=t.get(s.formula)||{},l=parseInt(s.count.replace(/,/g,"")),a=parseInt(r[90].items.find(c=>c.formula===s.formula)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(c=>c.formula===s.formula)?.count.replace(/,/g,"")||"0"),o=gt(i,a,l);return{formula:s.formula,name:s.formula,count:{365:l,90:a,30:i},percent:{365:parseFloat(s.percent),90:parseFloat(r[90].items.find(c=>c.formula===s.formula)?.percent||"0"),30:parseFloat(r[30].items.find(c=>c.formula===s.formula)?.percent||"0")},score:o,version:n.version||null,license:n.license||null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/core",brewUrl:this.generateBrewUrl(s.formula,n.tap||"homebrew/core",!1),isCask:!1}})}processCaskData(t,r){return r[365].items.map(s=>{const n=t.get(s.cask)||{},l=parseInt(s.count.replace(/,/g,"")),a=parseInt(r[90].items.find(c=>c.cask===s.cask)?.count.replace(/,/g,"")||"0"),i=parseInt(r[30].items.find(c=>c.cask===s.cask)?.count.replace(/,/g,"")||"0"),o=gt(i,a,l);return{formula:s.cask,name:s.cask,count:{365:l,90:a,30:i},percent:{365:parseFloat(s.percent),90:parseFloat(r[90].items.find(c=>c.cask===s.cask)?.percent||"0"),30:parseFloat(r[30].items.find(c=>c.cask===s.cask)?.percent||"0")},score:o,version:n.version||null,license:null,description:n.desc||null,homepage:n.homepage||null,tap:n.tap||"homebrew/cask",brewUrl:this.generateBrewUrl(s.cask,n.tap||"homebrew/cask",!0),isCask:!0}})}generateBrewUrl(t,r,s){const n=s?"cask":"formula";if(r==="homebrew/core"||r==="homebrew/cask")return`https://formulae.brew.sh/${n}/${t}`;const l=r.split("/");if(l.length!==2)return`https://formulae.brew.sh/${n}/${t}`;const[a,i]=l;return`https://formulae.brew.sh/${n}/${a}/${i}/${t}`}}class ar{constructor(){this.repository=new lr,[this.store,this.setStore]=it({timeframe:30,search:"",isLoading:!1,error:null,summary:{30:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},90:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}},365:{date:{start:"",end:""},formula:{items:0,count:0},cask:{items:0,count:0}}},items:[]})}async initialize(){this.setStore("isLoading",!0);try{const t=await this.repository.fetchAllData();return this.setStore("summary",t.summary),this.setStore("packages",t.items),await this.fetchPackageDetails(),t.items}catch(t){return this.setStore("error",t?.message||"Failed to load data"),[]}finally{this.setStore("isLoading",!1)}}async fetchPackageDetails(){const[t,r]=await Promise.all([fetch("https://formulae.brew.sh/api/formula.json"),fetch("https://formulae.brew.sh/api/cask.json")]),[s,n]=await Promise.all([t.json(),r.json()]),l=s.reduce((i,o)=>(i[o.name]={desc:o.desc,license:o.license,dependencies:o.dependencies,requirements:o.requirements,conflicts_with:o.conflicts_with,tap:o.tap,url:o.url,version:o.versions.stable,homepage:o.homepage,caveats:o.caveats},i),{}),a=n.reduce((i,o)=>(i[o.token]={desc:o.desc,license:o.license,version:o.version,homepage:o.homepage,caveats:o.caveats,dependencies:o.depends_on?.formula,tap:o.tap,url:o.url},i),{});this.setStore("packages",this.store.packages.map(i=>({...i,...(i.type==="formula"?l[i.formula]:a[i.formula])||{}})))}}const ot=new ar,L=ot.store;ot.setStore;const ir=()=>ot.initialize();class Ue{static matchesTerm(t,r,s,n){return s?new RegExp(`\\b${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,n?"":"i").test(t):t.includes(r)}static processSearchTerms(t,r){const s=t.trim().split(/\s+/).filter(n=>n.length>0);return r?s:s.map(n=>n.toLowerCase())}static packageMatchesSearch(t,r,s,n,l){if(r.length===0)return!0;const a=t.formula,i=t.description||"",o=n?a:a.toLowerCase(),c=n?i:i.toLowerCase();switch(s){case"name":return r.every(f=>this.matchesTerm(o,f,l,n));case"description":return r.every(f=>this.matchesTerm(c,f,l,n));case"all":default:return r.every(f=>this.matchesTerm(o,f,l,n)||this.matchesTerm(c,f,l,n))}}}class or{static filterItems(t,r,s,n,l,a,i,o=!1){if(!t||t.length===0)return[];const c=u=>u.isCask?i?.[a]?.cask?.total_count||0:i?.[a]?.formula?.total_count||0,f=Ue.processSearchTerms(r,n);return t.filter(u=>Ue.packageMatchesSearch(u,f,s,n,l)).sort((u,h)=>o?h.score-u.score:h.count[a]-u.count[a]).map(u=>({...u,displayCount:u.count[a]||0,percent:this.calculatePercent(u.count[a],c(u))})).slice(0,250)}static calculatePercent(t,r){return!r||!t?"0.00":(t/r*100).toFixed(2)}}var cr=p("<img src=https://upload.wikimedia.org/wikipedia/commons/9/95/Homebrew_logo.svg alt=Homebrew>");function ur(e){return(()=>{var t=cr();return k(()=>K(t,`w-12 h-12 ${e.class||""}`)),t})()}var dr=p('<div class="flex flex-col justify-center items-center h-64 space-y-4"><div class="loading-spinner animate-spin rounded-full h-12 w-12 border-t-2 border-b-2"></div><div class=text-gray-500>Loading Homebrew analytics data...');function fr(){return dr()}const Pt=Bt();function hr(e){const[t,r]=it({items:[],visible:!1});wt(()=>{try{const u=localStorage.getItem("brewTrendCart");if(u){const h=JSON.parse(u);r("items",h)}}catch(u){console.error("Failed to load cart from localStorage:",u)}});const s=u=>{try{localStorage.setItem("brewTrendCart",JSON.stringify(u))}catch(h){console.error("Failed to save cart to localStorage:",h)}},f={cart:t,addToCart:u=>{if(!t.items.some(h=>h.formula===u.formula)){const h=[...t.items,u];r("items",h),s(h)}},removeFromCart:u=>{const h=t.items.filter(g=>g.formula!==u.formula);r("items",h),s(h)},clearCart:()=>{r("items",[]),s([])},toggleCartVisibility:()=>{r("visible",!t.visible)},closeCart:()=>{r("visible",!1)},isInCart:u=>t.items.some(h=>h.formula===u.formula)};return b(Pt.Provider,{value:f,get children(){return e.children}})}function ze(){const e=Vt(Pt);if(!e)throw new Error("useCart must be used within a CartProvider");return e}var gr=p('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><path d="M5,6V16C5,18 6.5,19 8,19H14C15.5,19 17,18 17,16V6"stroke=currentColor fill="rgba(245, 158, 11, 0.3)"></path><path d="M17,6H5C5,4 6.5,3 8,3H14C15.5,3 17,4 17,6Z"stroke=currentColor fill=white></path><path d="M17,6V3C19,3 20,4.5 20,6V8C20,9.5 19,11 17,11"stroke=currentColor></path><path d="M7,8.5C9,8 11,10 13,9.5C15,9 16,8 16,8"stroke=currentColor stroke-linecap=round></path><path d=M7,12.5H15 stroke=currentColor stroke-linecap=round></path><path d=M7,15.5H15 stroke=currentColor stroke-linecap=round>');function qe(e){return(()=>{var t=gr();return k(()=>H(t,"class",e.class)),t})()}var mr=p('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5><ellipse cx=12 cy=6 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=6 rx=6 ry=2 stroke=currentColor></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 fill="rgba(168, 85, 247, 0.2)"></ellipse><ellipse cx=12 cy=18 rx=6 ry=2 stroke=currentColor></ellipse><line x1=6 y1=6 x2=6 y2=18 stroke=currentColor></line><line x1=18 y1=6 x2=18 y2=18 stroke=currentColor></line><line x1=8 y1=9 x2=8 y2=15 stroke=currentColor></line><line x1=12 y1=8 x2=12 y2=16 stroke=currentColor></line><line x1=16 y1=9 x2=16 y2=15 stroke=currentColor>');function Qe(e){return(()=>{var t=mr();return k(()=>H(t,"class",e.class)),t})()}var pr=p("<svg width=73 height=25><path stroke=#F9A03C fill=none stroke-width=2>");function jt(e){const t=S(()=>{const r=e.count,s=(r[365]-r[90])/275,n=(r[90]-r[30])/60,l=r[30]/30,a=Math.max(s,n,l,.001),i=73,o=25,c=o-s/a*o,f=o-n/a*o,u=o-l/a*o;return`M0,${c}L55,${c}L55,${f}L67,${f}L67,${u}L${i},${u}`});return(()=>{var r=pr(),s=r.firstChild;return k(()=>H(s,"d",t())),r})()}var br=p('<div><h3 class="font-semibold text-gray-600 mb-2">Dependencies</h3><div class="bg-gray-50 rounded-lg p-4"><div class="flex flex-wrap gap-2">'),vr=p('<div><h3 class="font-semibold text-gray-600 mb-2">Caveats</h3><div class="bg-gray-50 rounded-lg p-4"><p class="text-sm text-gray-600 whitespace-pre-wrap">'),xr=p('<div class="fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center"><div class="bg-white rounded-lg p-6 max-w-3xl w-full mx-4 relative"><button class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">✕</button><div class="flex items-center border-b border-gray-200 pb-4 mb-4"><div class=mr-3></div><div><h2 class="text-2xl font-bold"></h2><p class=text-gray-600></p></div></div><div class="grid grid-cols-2 gap-6"><div class=space-y-6><div><h3 class="font-semibold text-gray-600 mb-2">Package Details</h3><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div class="flex justify-between"><span class=text-gray-600>Version</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>License</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Category</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Created</span><span class=font-medium></span></div><div class="flex justify-between"><span class=text-gray-600>Last Update</span><span class=font-medium></span></div></div></div></div><div class=space-y-6><div><h3 class="font-semibold text-gray-600 mb-2">Installation Statistics</h3><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div class="flex justify-between items-center"><span class=text-gray-600>30 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center"><span class=text-gray-600>90 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center"><span class=text-gray-600>365 Day Installs</span><span class=font-medium></span></div><div class="flex justify-between items-center pt-2"><span class=text-gray-600>Install Trend</span><div class="flex items-center gap-2"><span> <!>%</span></div></div></div></div></div></div><div class="mt-6 pt-4 border-t border-gray-200"><div class="flex space-x-4"><a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Brew.sh</a><button><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><span>'),$r=p('<span class="px-2 py-1 bg-gray-200 rounded text-sm">'),wr=p('<a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-700 flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg>Homepage');function yr(e){const[t,r]=N(null),{addToCart:s,removeFromCart:n,isInCart:l}=ze();Se(()=>{e.package&&a()});const a=()=>{if(!e.package)return;const c=e.package.count[30],u=(e.package.count[365]-c)*30/335,h=(c-u)/u*100;r({isPositive:h>=0,value:Math.abs(h).toFixed(1)})},i=c=>c?new Date(c).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown",o=()=>{l(e.package)?n(e.package):s(e.package)};return b(me,{get when(){return e.isOpen},get children(){var c=xr(),f=c.firstChild,u=f.firstChild,h=u.nextSibling,g=h.firstChild,m=g.nextSibling,P=m.firstChild,O=P.nextSibling,I=h.nextSibling,T=I.firstChild,j=T.firstChild,y=j.firstChild,x=y.nextSibling,_=x.firstChild,v=_.firstChild,$=v.nextSibling,A=_.nextSibling,F=A.firstChild,B=F.nextSibling,E=A.nextSibling,J=E.firstChild,ie=J.nextSibling,be=E.nextSibling,Ge=be.firstChild,Me=Ge.nextSibling,Le=be.nextSibling,X=Le.firstChild,Z=X.nextSibling,q=T.nextSibling,ee=q.firstChild,V=ee.firstChild,ve=V.nextSibling,te=ve.firstChild,oe=te.firstChild,re=oe.nextSibling,Q=te.nextSibling,ce=Q.firstChild,ue=ce.nextSibling,se=Q.nextSibling,xe=se.firstChild,Ke=xe.nextSibling,Ye=se.nextSibling,Je=Ye.firstChild,Pe=Je.nextSibling,R=Pe.firstChild,je=R.firstChild,$e=je.nextSibling;$e.nextSibling;var Xe=I.nextSibling,Te=Xe.firstChild,Ee=Te.firstChild,de=Ee.nextSibling,Ze=de.firstChild,De=Ze.nextSibling;return ye(u,"click",e.onClose),d(g,(()=>{var M=S(()=>e.package?.type==="formula");return()=>M()?b(qe,{class:"w-8 h-8 text-amber-500"}):b(Qe,{class:"w-8 h-8 text-amber-500"})})()),d(P,()=>e.package?.formula),d(O,()=>e.package?.desc),d($,()=>e.package?.version||"N/A"),d(B,()=>e.package?.license||"N/A"),d(ie,()=>e.package?.category||"N/A"),d(Me,()=>i(e.package?.created_at)),d(Z,()=>i(e.package?.updated_at)),d(T,b(me,{get when(){return e.package?.dependencies?.length},get children(){var M=br(),U=M.firstChild,fe=U.nextSibling,he=fe.firstChild;return d(he,()=>e.package?.dependencies.map(Tt=>(()=>{var ct=$r();return d(ct,Tt),ct})())),M}}),null),d(re,()=>e.package?.count[30].toLocaleString()),d(ue,()=>e.package?.count[90].toLocaleString()),d(Ke,()=>e.package?.count[365].toLocaleString()),d(Pe,b(jt,{get count(){return e.package?.count}}),R),d(R,()=>t()?.isPositive?"↑":"↓",je),d(R,()=>Math.abs(t()?.value),$e),d(q,b(me,{get when(){return e.package?.caveats},get children(){var M=vr(),U=M.firstChild,fe=U.nextSibling,he=fe.firstChild;return d(he,()=>e.package?.caveats),M}}),null),d(Te,(()=>{var M=S(()=>!!e.package?.homepage);return()=>M()&&(()=>{var U=wr();return k(()=>H(U,"href",e.package.homepage)),U})()})(),de),de.$$click=o,d(De,()=>l(e.package)?"Remove from Cart":"Add to Cart"),k(M=>{var U=`text-sm ${t()?.isPositive?"text-green-600":"text-red-600"}`,fe=e.package?.brewUrl,he=`px-3 py-1 rounded-md flex items-center space-x-1 ${l(e.package)?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`;return U!==M.e&&K(R,M.e=U),fe!==M.t&&H(Ee,"href",M.t=fe),he!==M.a&&K(de,M.a=he),M},{e:void 0,t:void 0,a:void 0}),c}})}ae(["click"]);var _r=p("<span class=search-results-highlight>");function mt(e){const{text:t,query:r,searchMode:s,caseSensitive:n,wholeWord:l}=e;if(!r||!t)return t||"-";if(s==="name")return t;const a=Ue.processSearchTerms(r,n);if(a.length===0)return t;const i=n?t:t.toLowerCase();if(!a.some(h=>Ue.matchesTerm(i,h,l,n)))return t;const o=[];a.forEach(h=>{if(l){const g=new RegExp(`\\b${h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,n?"g":"gi");let m;const P=n?t:t.toLowerCase();for(;(m=g.exec(P))!==null;)o.push([m.index,m.index+h.length])}else{let g=0;const m=n?t:t.toLowerCase();for(;(g=m.indexOf(h,g))!==-1;)o.push([g,g+h.length]),g+=1}}),o.sort((h,g)=>h[0]-g[0]);const c=[];if(o.length>0){let h=o[0];for(let g=1;g<o.length;g++)o[g][0]<=h[1]?h[1]=Math.max(h[1],o[g][1]):(c.push(h),h=o[g]);c.push(h)}const f=[];let u=0;return c.forEach(([h,g])=>{h>u&&f.push(t.substring(u,h)),f.push((()=>{var m=_r();return d(m,()=>t.substring(h,g)),m})()),u=g}),u<t.length&&f.push(t.substring(u)),f}var Cr=p('<tr class="table-row cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50"><td class="w-8 table-cell"></td><td class="w-8 table-cell text-center"></td><td class="w-32 table-cell font-medium"></td><td class="w-32 table-cell"></td><td class="w-full table-cell text-gray-600 max-w-md truncate"></td><td class="w-24 table-cell text-right font-medium"title="Popularity Score"></td><td class="w-32 table-cell text-right"></td><td class="w-10 table-cell px-2"><button>'),kr=p('<div title="Cask - GUI application or binary package distributed as macOS native installer">'),Sr=p('<div title="Formula - Command-line software package managed by Homebrew">'),Ar=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Mr=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">');function Lr(e){const{item:t,index:r,searchQuery:s,searchMode:n,caseSensitive:l,wholeWord:a,onClick:i}=e,{addToCart:o,removeFromCart:c,isInCart:f}=ze(),u=(g,m=32)=>g.length<=m?g:g.substring(0,m-3)+"...",h=g=>{g.stopPropagation(),f(t)?c(t):o(t)};return(()=>{var g=Cr(),m=g.firstChild,P=m.nextSibling,O=P.nextSibling,I=O.nextSibling,T=I.nextSibling,j=T.nextSibling,y=j.nextSibling,x=y.nextSibling,_=x.firstChild;return g.$$click=()=>i(t),d(m,r+1),d(P,(()=>{var v=S(()=>!!t.isCask);return()=>v()?(()=>{var $=kr();return d($,b(Qe,{class:"w-5 h-5 text-purple-500 inline-block"})),$})():(()=>{var $=Sr();return d($,b(qe,{class:"w-5 h-5 text-amber-500 inline-block"})),$})()})()),d(O,b(mt,{get text(){return u(t.formula)},get query(){return s()},searchMode:n,caseSensitive:l,wholeWord:a})),d(I,b(jt,{get count(){return t.count}})),d(T,b(mt,{get text(){return t.description},get query(){return s()},searchMode:n,caseSensitive:l,wholeWord:a})),d(j,()=>t.score),d(y,()=>t.displayCount.toLocaleString()),_.$$click=h,d(_,(()=>{var v=S(()=>!!f(t));return()=>v()?Ar():Mr()})()),k(v=>{var $=t.formula,A=t.description,F=`p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 ${f(t)?"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600":"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-600"}`,B=f(t)?"Remove from cart":"Add to cart";return $!==v.e&&H(O,"title",v.e=$),A!==v.t&&H(T,"title",v.t=A),F!==v.a&&K(_,v.a=F),B!==v.o&&H(_,"title",v.o=B),v},{e:void 0,t:void 0,a:void 0,o:void 0}),g})()}ae(["click"]);var Pr=p('<img src=/svg/components/sort-indicator.svg alt="Sort indicator">');function pt(e){return(()=>{var t=Pr();return k(()=>K(t,e.class)),t})()}var jr=p('<div class=data-table><table><thead class=table-header><tr class=table-header><th class="p-3 w-8 text-left border-b">#</th><th class="p-3 w-8 text-center border-b"></th><th class="p-3 w-32 text-left border-b">Name</th><th class="p-3 w-32 text-center border-b">Trend</th><th class="p-3 w-full text-left border-b">Description</th><th class="p-3 w-24 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Score</span></div></th><th class="p-3 w-32 border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Installs</span></div></th><th class="p-3 w-10 border-b">Cart</th></tr></thead></table><div class=table-body><table><tbody>'),Tr=p('<tr><td colspan=8 class="py-8 text-center text-gray-500">No packages found matching your search.');function Er(e){const{searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,onPackageClick:l}=e,[a,i]=N("score"),o=()=>a()?[...e.items].sort((f,u)=>{const h=a();return h==="score"?u.score-f.score:h==="installs"?u.displayCount-f.displayCount:0}):e.items,c=f=>{i(f)};return(()=>{var f=jr(),u=f.firstChild,h=u.firstChild,g=h.firstChild,m=g.firstChild,P=m.nextSibling,O=P.nextSibling,I=O.nextSibling,T=I.nextSibling,j=T.nextSibling,y=j.firstChild,x=y.firstChild,_=j.nextSibling,v=_.firstChild,$=v.firstChild,A=u.nextSibling,F=A.firstChild,B=F.firstChild;return j.$$click=()=>c("score"),d(y,(()=>{var E=S(()=>a()==="score");return()=>E()&&b(pt,{})})(),x),_.$$click=()=>c("installs"),d(v,(()=>{var E=S(()=>a()==="installs");return()=>E()&&b(pt,{})})(),$),d(B,()=>o().map((E,J)=>b(Lr,{get key(){return E.name},item:E,index:J,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,onClick:l})),null),d(B,(()=>{var E=S(()=>e.items.length===0);return()=>E()&&Tr()})(),null),f})()}ae(["click"]);var Dr=p('<div class="relative w-full md:w-2/3 search-container"><div class="relative flex items-center"><input type=text class="search-input w-full pr-8"aria-label="Search packages"></div><div class="search-options mt-2 flex flex-wrap gap-x-4 gap-y-2 text-sm"><div class="search-mode flex space-x-2"><label class="flex items-center"title="Search in names and descriptions"><input type=radio name=searchMode value=all><span class=ml-1>🔍 All</span></label><label class="flex items-center"title="Search in package names only"><input type=radio name=searchMode value=name><span class=ml-1>📦 Name</span></label><label class="flex items-center"title="Search in descriptions only"><input type=radio name=searchMode value=description><span class=ml-1>📄 Desc</span></label></div><div class="search-options flex space-x-3 items-center"><label class="flex items-center"title="Match case (Aa ≠ aa)"><input type=checkbox><span class=ml-1>Aa</span></label><label class="flex items-center"title="Match whole words only"><input type=checkbox><span class=ml-1>[w]</span></label><button title="Reset search options"aria-label="Reset search options">✕'),Or=p('<button class="absolute right-2 flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-600 transition-colors"aria-label="Clear search"title="Clear search"><span class="text-sm font-bold">✕');function Ir(e){const t=()=>e.searchMode!=="all"||e.caseSensitive||e.wholeWord,r=()=>{e.onSearchChange("")},s=()=>{e.onSearchModeChange("all"),e.onCaseSensitiveChange(!1),e.onWholeWordChange(!1)};return(()=>{var n=Dr(),l=n.firstChild,a=l.firstChild,i=l.nextSibling,o=i.firstChild,c=o.firstChild,f=c.firstChild,u=c.nextSibling,h=u.firstChild,g=u.nextSibling,m=g.firstChild,P=o.nextSibling,O=P.firstChild,I=O.firstChild,T=O.nextSibling,j=T.firstChild,y=T.nextSibling;return a.$$input=x=>e.onSearchChange(x.target.value),d(l,(()=>{var x=S(()=>!!e.searchQuery);return()=>x()&&(()=>{var _=Or();return _.$$click=r,_})()})(),null),f.addEventListener("change",()=>e.onSearchModeChange("all")),h.addEventListener("change",()=>e.onSearchModeChange("name")),m.addEventListener("change",()=>e.onSearchModeChange("description")),I.addEventListener("change",x=>e.onCaseSensitiveChange(x.target.checked)),j.addEventListener("change",x=>e.onWholeWordChange(x.target.checked)),y.$$click=s,k(x=>{var _=e.isLoading?"Loading...":"Search packages...",v=e.isLoading,$=!t(),A=`ml-1 flex items-center justify-center h-5 w-5 rounded text-xs transition-colors ${t()?"text-gray-500 hover:text-gray-700 hover:bg-gray-200 cursor-pointer":"text-gray-300 cursor-default"}`;return _!==x.e&&H(a,"placeholder",x.e=_),v!==x.t&&(a.disabled=x.t=v),$!==x.a&&(y.disabled=x.a=$),A!==x.o&&K(y,x.o=A),x},{e:void 0,t:void 0,a:void 0,o:void 0}),k(()=>a.value=e.searchQuery),k(()=>f.checked=e.searchMode==="all"),k(()=>h.checked=e.searchMode==="name"),k(()=>m.checked=e.searchMode==="description"),k(()=>I.checked=e.caseSensitive),k(()=>j.checked=e.wholeWord),n})()}ae(["input","click"]);var Nr=p('<div class="px-4 md:px-6 pt-4 text-sm text-gray-500"> results found for "<!>"');function Fr(e){const{count:t,query:r}=e;return r?(()=>{var s=Nr(),n=s.firstChild,l=n.nextSibling;return l.nextSibling,d(s,t,n),d(s,r,l),s})():null}var Br=p('<div class="flex space-x-2">'),Vr=p("<button>");function Hr(e){return(()=>{var t=Br();return d(t,()=>[{id:30,label:"Last 30 Days"},{id:90,label:"Last 90 Days"},{id:365,label:"Last Year"}].map(({id:r,label:s})=>(()=>{var n=Vr();return n.$$click=()=>e.setTimeframe(r),d(n,s),k(()=>K(n,`px-4 py-2 rounded border text-sm font-medium transition-colors duration-200
            ${e.timeframe===r?"bg-amber-600 text-white border-amber-600 hover:bg-amber-700":"bg-white text-stone-800 border-stone-200 hover:bg-stone-50"}`)),n})())),t})()}ae(["click"]);var Rr=p('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor strokeWidth=2 strokeLinecap=round strokeLinejoin=round><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12">');function bt(e){return(()=>{var t=Rr();return k(()=>H(t,"class",e.class||"")),t})()}var Ur=p("<div>"),Wr=p('<div class="fixed bg-gray-800 text-white p-4 rounded-lg shadow-xl w-[480px] z-[100] border border-gray-700"><div class="absolute -top-2 right-10 transform w-4 h-4 rotate-45 bg-gray-800 border-t border-l border-gray-700">');function zr(e){const[t,r]=N(!1),[s,n]=N({top:0,left:0});let l;const a=o=>{const c=l.getBoundingClientRect();n({top:c.bottom+window.scrollY+10,left:c.right+window.scrollX-450}),r(!0)},i=()=>{r(!1)};return[(()=>{var o=Ur();o.addEventListener("mouseleave",i),o.addEventListener("mouseenter",a);var c=l;return typeof c=="function"?Yt(c,o):l=o,d(o,()=>e.trigger),k(()=>K(o,e.triggerClass||"")),o})(),b(er,{get children(){return S(()=>!!t())()&&(()=>{var o=Wr(),c=o.firstChild;return d(o,()=>e.content,c),k(f=>{var u=`${s().top}px`,h=`${s().left}px`;return u!==f.e&&((f.e=u)!=null?o.style.setProperty("top",u):o.style.removeProperty("top")),h!==f.t&&((f.t=h)!=null?o.style.setProperty("left",h):o.style.removeProperty("left")),f},{e:void 0,t:void 0}),o})()}})]}var qr=p('<div class="fixed bottom-0 left-0 right-0 bg-gray-900 text-white p-4 text-sm font-mono overflow-auto max-h-[50vh]"><pre>');function Qr(e){return(()=>{var t=qr(),r=t.firstChild;return d(r,()=>JSON.stringify(e.data,null,2)),t})()}function Gr(e){const[t,r]=N(!1);return Se(()=>{const s=new URLSearchParams(window.location.search).has("debug"),n=new URLSearchParams(window.location.search).has("inspect");r(s||n)}),{isDebugMode:t,debugData:e}}function Kr({timeframe:e,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:n,filteredItems:l,store:a}){return{timeframe:e(),searchState:{query:t(),mode:r(),caseSensitive:s(),wholeWord:n()},filteredItemsCount:l.length,storeState:{isLoading:a.isLoading,summary:a.summary}}}var Yr=p('<button class="relative p-2 text-gray-200 hover:text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"aria-label="Shopping cart"title="View installation cart"><svg xmlns=http://www.w3.org/2000/svg class="w-6 h-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">'),Jr=p('<span class="absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full">');function Xr(){const{cart:e,toggleCartVisibility:t}=ze();return(()=>{var r=Yr();return r.firstChild,ye(r,"click",t),d(r,(()=>{var s=S(()=>e.items.length>0);return()=>s()&&(()=>{var n=Jr();return d(n,()=>e.items.length),n})()})(),null),r})()}ae(["click"]);var Zr=p('<ul class="divide-y divide-gray-200 dark:divide-gray-700">'),es=p('<div class="mt-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Installation Command</h3><pre class="bg-gray-800 text-white p-3 rounded overflow-x-auto">'),ts=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-8m-10 0v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 0h6">'),rs=p('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl"><div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Installation Cart (<!> <!>)</h2><button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-4 overflow-y-auto flex-grow"></div><div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-between"><button class="px-4 py-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-medium">Clear Cart</button><div class="flex space-x-2"><button class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">Close</button><button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center">'),ss=p('<div class="text-center py-8 text-gray-500 dark:text-gray-400">Your cart is empty. Add packages to generate installation commands.'),ns=p('<li class="py-3 flex justify-between items-center"><div class="flex items-center space-x-3"><span class="font-medium text-gray-900 dark:text-white"></span><span class="text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs"></span></div><button class="text-red-500 hover:text-red-700"aria-label="Remove from cart"><svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),ls=p('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5 mr-1"viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');function as(){const{cart:e,removeFromCart:t,clearCart:r,closeCart:s}=ze(),[n,l]=N(!1),a=()=>{const o=e.items.filter(u=>!u.isCask).map(u=>u.formula),c=e.items.filter(u=>u.isCask).map(u=>u.formula);let f="";return o.length>0&&(f+=`brew install ${o.join(" ")}`),c.length>0&&(f&&(f+=`
`),f+=`brew install --cask ${c.join(" ")}`),f||"No packages selected"},i=async()=>{const o=a();try{await navigator.clipboard.writeText(o),l(!0),setTimeout(()=>l(!1),3e3)}catch(c){console.error("Failed to copy:",c)}};return b(me,{get when(){return e.visible},get children(){var o=rs(),c=o.firstChild,f=c.firstChild,u=f.firstChild,h=u.firstChild,g=h.nextSibling,m=g.nextSibling,P=m.nextSibling;P.nextSibling;var O=u.nextSibling,I=f.nextSibling,T=I.nextSibling,j=T.firstChild,y=j.nextSibling,x=y.firstChild,_=x.nextSibling;return d(u,()=>e.items.length,g),d(u,()=>e.items.length===1?"package":"packages",P),ye(O,"click",s),d(I,b(me,{get when(){return e.items.length>0},get fallback(){return ss()},get children(){return[(()=>{var v=Zr();return d(v,()=>e.items.map($=>(()=>{var A=ns(),F=A.firstChild,B=F.firstChild,E=B.nextSibling,J=F.nextSibling;return d(F,(()=>{var ie=S(()=>!!$.isCask);return()=>ie()?b(Qe,{class:"w-5 h-5 text-purple-500"}):b(qe,{class:"w-5 h-5 text-amber-500"})})(),B),d(B,()=>$.formula),d(E,()=>$.description),J.$$click=()=>t($),A})())),v})(),(()=>{var v=es(),$=v.firstChild,A=$.nextSibling;return d(A,a),v})()]}})),ye(j,"click",r),ye(x,"click",s),_.$$click=i,d(_,b(me,{get when(){return!n()},get fallback(){return[ls(),"Copied!"]},get children(){return[ts(),"Copy Command"]}})),k(v=>{var $=e.items.length===0,A=e.items.length===0;return $!==v.e&&(j.disabled=v.e=$),A!==v.t&&(_.disabled=v.t=A),v},{e:void 0,t:void 0}),o}})}ae(["click"]);var is=p('<div class="flex flex-col h-screen"><header class="sticky top-0 z-10 bg-[#333333] text-white shadow-md"><div class="container mx-auto py-4 px-4"><div class="app-header flex items-center justify-between space-x-4"><div class="flex items-center shrink-0"><span class=mr-3></span><span class="text-3xl font-bold text-amber-50">Homebrew Trend Shop</span></div><div class="flex items-center gap-4 text-sm "></div><div class="flex items-center"></div></div></div></header><div class="sticky top-[72px] z-10 bg-white shadow-sm border-b border-gray-200"><div class="container mx-auto"><div class="flex md:flex-row justify-between items-center gap-4 p-3"><div class="flex items-end shrink-0"></div></div></div></div><main class="flex-1 overflow-hidden"><div class="container mx-auto h-full"><div class=table-container>'),os=p('<div class="flex items-end"><div class="flex flex-col"><div>Period: </div><div>Formulae: <!> (<!>) · Casks: <!> (<!>)</div></div><div class="cursor-pointer shrink-0 ml-3"title="View detailed analytics and installation trends over time">'),cs=p('<div class=space-y-4><div class="flex items-center border-b border-gray-700 pb-3"><span class="cursor-pointer shrink-0 mr-3"title="View detailed analytics and installation trends over time"></span><div class="font-semibold text-lg text-amber-400">Homebrew Analytics Summary</div></div><div class=space-y-3><div class="flex items-center"><svg class="w-4 h-4 text-amber-500 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><div class=font-medium>Data Period</div></div><div class="ml-6 bg-gray-700 rounded p-2 text-gray-200"></div></div><div class="grid grid-cols-2 gap-3"><div class=space-y-2><div class="flex items-center"><div class=font-medium>Formulae</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div><div class=space-y-2><div class="flex items-center"><div class=font-medium>Casks</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div></div><div class="text-xs text-gray-400 italic mt-2 pt-2 border-t border-gray-700">Displaying data for the selected period: ');function us(){const[e,t]=N(30),[r,s]=N(""),[n,l]=N("all"),[a,i]=N(!1),[o,c]=N(!1),[f,u]=it([]),[h,g]=N(null),[m,P]=N(!1);wt(async()=>{await ir()}),Se(()=>{if(L.isLoading)return;const y=or.filterItems(L.packages||[],r(),n(),a(),o(),e(),L.summary);u(y)});const O=()=>{const y=e(),x=new Date(L.summary[y]?.date?.start),_=new Date(L.summary[y]?.date?.end);return`${x.toLocaleDateString()} - ${_.toLocaleDateString()}`},I=y=>{g(y),P(!0)},{isDebugMode:T,debugData:j}=Gr(()=>Kr({timeframe:e,searchQuery:r,searchMode:n,caseSensitive:a,wholeWord:o,filteredItems:f,store:L}));return b(hr,{get children(){var y=is(),x=y.firstChild,_=x.firstChild,v=_.firstChild,$=v.firstChild,A=$.firstChild,F=$.nextSibling,B=F.nextSibling,E=x.nextSibling,J=E.firstChild,ie=J.firstChild,be=ie.firstChild,Ge=E.nextSibling,Me=Ge.firstChild,Le=Me.firstChild;return d(A,b(ur,{class:"w-10 h-10 text-amber-500"})),d(F,(()=>{var X=S(()=>!!(!L.isLoading&&L.summary));return()=>X()&&b(zr,{triggerClass:"text-stone-300 whitespace-nowrap cursor-help",get trigger(){return(()=>{var Z=os(),q=Z.firstChild,ee=q.firstChild;ee.firstChild;var V=ee.nextSibling,ve=V.firstChild,te=ve.nextSibling,oe=te.nextSibling,re=oe.nextSibling,Q=re.nextSibling,ce=Q.nextSibling,ue=ce.nextSibling,se=ue.nextSibling;se.nextSibling;var xe=q.nextSibling;return d(ee,O,null),d(V,()=>L.summary[e()].formula.items.toLocaleString(),te),d(V,()=>L.summary[e()].formula.count.toLocaleString(),re),d(V,()=>L.summary[e()].cask.items.toLocaleString(),ce),d(V,()=>L.summary[e()].cask.count.toLocaleString(),se),d(xe,b(bt,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),Z})()},get content(){return(()=>{var Z=cs(),q=Z.firstChild,ee=q.firstChild,V=q.nextSibling,ve=V.firstChild,te=ve.nextSibling,oe=V.nextSibling,re=oe.firstChild,Q=re.firstChild,ce=Q.firstChild,ue=Q.nextSibling,se=ue.firstChild,xe=se.nextSibling,Ke=ue.nextSibling,Ye=Ke.firstChild,Je=Ye.nextSibling,Pe=re.nextSibling,R=Pe.firstChild,je=R.firstChild,$e=R.nextSibling,Xe=$e.firstChild,Te=Xe.nextSibling,Ee=$e.nextSibling,de=Ee.firstChild,Ze=de.nextSibling,De=oe.nextSibling;return De.firstChild,d(ee,b(bt,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),d(te,O),d(Q,b(qe,{class:"w-5 h-5 text-amber-500 mr-2"}),ce),d(xe,()=>L.summary[e()].formula.items.toLocaleString()),d(Je,()=>L.summary[e()].formula.count.toLocaleString()),d(R,b(Qe,{class:"w-5 h-5 text-amber-500 mr-2"}),je),d(Te,()=>L.summary[e()].cask.items.toLocaleString()),d(Ze,()=>L.summary[e()].cask.count.toLocaleString()),d(De,(()=>{var M=S(()=>e()===30);return()=>M()?"30 days":S(()=>e()===90)()?"90 days":e()===365?"365 days":"error"})(),null),Z})()}})})()),d(B,b(Xr,{})),d(ie,b(Ir,{get searchQuery(){return r()},onSearchChange:s,get searchMode(){return n()},onSearchModeChange:l,get caseSensitive(){return a()},onCaseSensitiveChange:i,get wholeWord(){return o()},onWholeWordChange:c,get isLoading(){return L.isLoading}}),be),d(be,b(Hr,{get timeframe(){return e()},setTimeframe:t})),d(Me,b(Fr,{get count(){return f.length},get query(){return r()}}),Le),d(Le,(()=>{var X=S(()=>!!L.isLoading);return()=>X()?b(fr,{}):b(Er,{items:f,searchQuery:r,get searchMode(){return n()},get caseSensitive(){return a()},get wholeWord(){return o()},onPackageClick:I})})()),d(y,b(yr,{get isOpen(){return m()},get package(){return h()},onClose:()=>P(!1)}),null),d(y,b(as,{}),null),d(y,(()=>{var X=S(()=>!!T());return()=>X()&&b(Qr,{get data(){return j()}})})(),null),y}})}Kt(()=>b(us,{}),document.getElementById("root"));
