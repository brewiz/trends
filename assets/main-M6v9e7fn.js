import{H as e,t,c as r,d as s,u as a,a as i,i as n,P as o,b as l,s as c,M as d,C as u,e as h,T as g,f as m,g as p,h as f,j as v,k as x,l as b,r as w}from"./components-BlN6T6t_.js";import{a as y,e as S,d as C,l as k,k as M,b as L,F as P,o as $,n as I,f as W}from"./vendor-Bc0VH6q0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class q{static compareItems(e,t,r){switch(r){case"trend":return t.trend-e.trend;case"score":return t.score-e.score;case"installs":return t.displayCount-e.displayCount;default:return 0}}static sortItems(e,t){return e&&t?.field?[...e].sort(((e,r)=>this.compareItems(e,r,t.field))):e}}class j{constructor(){this.stateManager=new e}static processSearchTerms(e,t){if(!e)return[];const r=e.split(" ").filter((e=>e.length>0));return t?r:r.map((e=>e.toLowerCase()))}static packageMatchesSearch(e,t,r,s,a){if(!t.length)return!0;const i=Array.isArray(e.name)?e.name[0]||"":e.name||"",n=s?i:i.toLowerCase(),o=s?e.desc||"":(e.desc||"").toLowerCase();return t.every((e=>{const t=(e,t)=>new RegExp(`\\b${t}\\b`,s?"":"i").test(e);return"name"===r?a?t(n,e):n.includes(e):"description"===r?a?t(o,e):o.includes(e):a?t(n,e)||t(o,e):n.includes(e)||o.includes(e)}))}static filterItems(e,t,r,s,a,i,n,o="installs"){if(!e||0===e.length)return[];const l=e=>e.isCask?n?.[i]?.cask?.total_count||0:n?.[i]?.formula?.total_count||0,c=this.processSearchTerms(t,s);return e.filter((e=>this.packageMatchesSearch(e,c,r,s,a))).map((e=>({...e,displayCount:e.count[i]||0,percent:j.calculatePercent(e.count[i],l(e)),sortedIndex:e.sortedIndex||void 0}))).sort(((e,t)=>q.compareItems(e,t,o)))}static calculatePercent(e,t){return t&&e?(e/t*100).toFixed(2):"0.00"}}var Q=t("<img src=https://upload.wikimedia.org/wikipedia/commons/9/95/Homebrew_logo.svg alt=Homebrew>");function T(e){return t=Q(),y((()=>r(t,`w-12 h-12 ${e.class||""}`))),t;var t}var D=t('<button class="relative p-2 text-gray-200 hover:text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"aria-label="Shopping cart"title="View installation cart"><svg xmlns=http://www.w3.org/2000/svg class="w-6 h-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">'),E=t('<span class="absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full">');function H(){const{cart:e,toggleCartVisibility:t}=a();return(s=D()).firstChild,i(s,"click",t),n(s,(r=S((()=>e?.items?.length>0)),()=>{return r()&&(t=E(),n(t,(()=>e.items.length)),t);var t}),null),s;var r,s}s(["click"]);var A=t("<div>"),R=t('<div class="fixed bg-gray-800 text-white p-4 rounded-lg shadow-xl w-[480px] z-[100] border border-gray-700"><div class="absolute -top-2 right-10 transform w-4 h-4 rotate-45 bg-gray-800 border-t border-l border-gray-700">');function z(e){const[t,s]=C(!1),[a,i]=C({top:0,left:0});let c;const d=e=>{const t=c.getBoundingClientRect();i({top:t.bottom+window.scrollY+10,left:t.right+window.scrollX-450}),s(!0)},u=()=>{s(!1)};return[(()=>{var t=A();t.addEventListener("mouseleave",u),t.addEventListener("mouseenter",d);return"function"==typeof c?l(c,t):c=t,n(t,(()=>e.trigger)),y((()=>r(t,e.triggerClass||""))),t})(),k(o,{get children(){return S((()=>!!t()))()&&(r=R(),s=r.firstChild,n(r,(()=>e.content),s),y((e=>{var t=`${a().top}px`,s=`${a().left}px`;return t!==e.e&&(null!=(e.e=t)?r.style.setProperty("top",t):r.style.removeProperty("top")),s!==e.t&&(null!=(e.t=s)?r.style.setProperty("left",s):r.style.removeProperty("left")),e}),{e:void 0,t:void 0}),r);var r,s}})]}var N=t('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor strokeWidth=2 strokeLinecap=round strokeLinejoin=round><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12">');function O(e){return t=N(),y((()=>c(t,"class",e.class||""))),t;var t}var F=t('<header class="sticky top-0 z-10 bg-[#333333] text-white shadow-md"><div class="container mx-auto py-4 px-4"><div class="app-header flex items-center justify-between space-x-4"><div class="flex items-center shrink-0"><span class=mr-3></span><span class="text-3xl font-bold text-amber-50">Homebrew Trend Shop</span></div><div class="flex items-center gap-4 text-sm "></div><div class="flex items-center">'),V=t('<div class="flex items-end"><div class="flex flex-col"><div>Period: </div><div>Formulae: <!> (<!>) Â· Casks: <!> (<!>)</div></div><div class="cursor-pointer shrink-0 ml-3"title="View detailed analytics and installation trends over time">'),B=t('<div class=space-y-4><div class="flex items-center border-b border-gray-700 pb-3"><span class="cursor-pointer shrink-0 mr-3"title="View detailed analytics and installation trends over time"></span><div class="font-semibold text-lg text-amber-400">Homebrew Analytics Summary</div></div><div class=space-y-3><div class="flex items-center"><svg class="w-4 h-4 text-amber-500 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><div class=font-medium>Data Period</div></div><div class="ml-6 bg-gray-700 rounded p-2 text-gray-200"></div></div><div class="grid grid-cols-2 gap-3"><div class=space-y-2><div class="flex items-center"><div class=font-medium>Formulae</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div><div class=space-y-2><div class="flex items-center"><div class=font-medium>Casks</div></div><div class="ml-6 flex justify-between"><span class=text-gray-300>Total:</span><span class="font-semibold text-white"></span></div><div class="ml-6 flex justify-between"><span class=text-gray-300>counts:</span><span class="font-semibold text-amber-400"></span></div></div></div><div class="text-xs text-gray-400 italic mt-2 pt-2 border-t border-gray-700">Displaying data for the selected period: ');function U(e){const{store:t,period:r,formatTimePeriod:s}=e;return i=F(),o=i.firstChild.firstChild.firstChild,l=o.firstChild,c=o.nextSibling,h=c.nextSibling,n(l,k(T,{class:"w-10 h-10 text-amber-500"})),n(c,(a=S((()=>!(t.isLoading||!t.summary))),()=>a()&&k(z,{triggerClass:"text-stone-300 whitespace-nowrap cursor-help",get trigger(){return(()=>{var e=V(),a=e.firstChild,i=a.firstChild;i.firstChild;var o=i.nextSibling,l=o.firstChild.nextSibling,c=l.nextSibling.nextSibling,d=c.nextSibling.nextSibling,u=d.nextSibling.nextSibling;u.nextSibling;var h=a.nextSibling;return n(i,s,null),n(o,(()=>t.summary[r()].formula.items.toLocaleString()),l),n(o,(()=>t.summary[r()].formula.count.toLocaleString()),c),n(o,(()=>t.summary[r()].cask.items.toLocaleString()),d),n(o,(()=>t.summary[r()].cask.count.toLocaleString()),u),n(h,k(O,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),e})()},get content(){return a=B(),i=a.firstChild,o=i.firstChild,l=i.nextSibling,c=l.firstChild.nextSibling,h=l.nextSibling,g=h.firstChild,m=g.firstChild,p=m.firstChild,f=m.nextSibling,v=f.firstChild.nextSibling,x=f.nextSibling.firstChild.nextSibling,b=g.nextSibling.firstChild,w=b.firstChild,y=b.nextSibling,C=y.firstChild.nextSibling,M=y.nextSibling.firstChild.nextSibling,(L=h.nextSibling).firstChild,n(o,k(O,{class:"w-7 h-7 text-amber-500 hover:text-amber-400"})),n(c,s),n(m,k(d,{class:"w-5 h-5 text-amber-500 mr-2"}),p),n(v,(()=>t.summary[r()].formula.items.toLocaleString())),n(x,(()=>t.summary[r()].formula.count.toLocaleString())),n(b,k(u,{class:"w-5 h-5 text-amber-500 mr-2"}),w),n(C,(()=>t.summary[r()].cask.items.toLocaleString())),n(M,(()=>t.summary[r()].cask.count.toLocaleString())),n(L,(e=S((()=>30===r())),()=>e()?"30 days":S((()=>90===r()))()?"90 days":365===r()?"365 days":"error"),null),a;var e,a,i,o,l,c,h,g,m,p,f,v,x,b,w,y,C,M,L}}))),n(h,k(H,{})),i;var a,i,o,l,c,h}function J(){const e=new URLSearchParams(window.location.search),t={};t.q=e.get("q")||"";const r=e.get("mode");return t.mode="all"===r||"name"===r||"description"===r?r:"all",t.case="true"===e.get("case"),t.word="true"===e.get("word"),t}function _(e){const t=new URLSearchParams,r=new URLSearchParams(window.location.search);void 0!==e.q?e.q&&t.set("q",e.q):r.has("q")&&t.set("q",r.get("q")),void 0!==e.mode?e.mode&&"all"!==e.mode&&t.set("mode",e.mode):r.has("mode")&&"all"!==r.get("mode")&&t.set("mode",r.get("mode")),void 0!==e.case?e.case&&t.set("case","true"):r.has("case")&&"true"===r.get("case")&&t.set("case","true"),void 0!==e.word?e.word&&t.set("word","true"):r.has("word")&&"true"===r.get("word")&&t.set("word","true");const s=t.toString()?`${window.location.pathname}?${t.toString()}`:window.location.pathname;window.history.pushState(null,"",s)}var Y=t('<div class="relative w-full md:w-2/3 search-container"><div class="relative flex items-center"><input type=text class="search-input w-full pr-8"aria-label="Search packages"></div><div class="search-options mt-2 flex flex-wrap gap-x-4 gap-y-2 text-sm"><div class="search-mode flex space-x-2"><label class="flex items-center"title="Search in names and descriptions"><input type=radio name=searchMode value=all><span class=ml-1>ð All</span></label><label class="flex items-center"title="Search in package names only"><input type=radio name=searchMode value=name><span class=ml-1>ð¦ Name</span></label><label class="flex items-center"title="Search in descriptions only"><input type=radio name=searchMode value=description><span class=ml-1>ð Desc</span></label></div><div class="search-options flex space-x-3 items-center"><label class="flex items-center"title="Match case (Aa â  aa)"><input type=checkbox><span class=ml-1>Aa</span></label><label class="flex items-center"title="Match whole words only"><input type=checkbox><span class=ml-1>[w]</span></label><button title="Reset search options"aria-label="Reset search options">â'),G=t('<button class="absolute right-2 flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-600 transition-colors"aria-label="Clear search"title="Clear search"><span class="text-sm font-bold">â');function K(e){const[t,s]=C("");M((()=>{const t=J();t.q&&(s(t.q),e.onSearchChange(t.q)),t.mode&&["all","name","description"].includes(t.mode)?e.onSearchModeChange(t.mode):e.onSearchModeChange("all"),t.case&&e.onCaseSensitiveChange(t.case),t.word&&e.onWholeWordChange(t.word)}));const a=h((t=>{e.onSearchChange(t),_({q:t})}),300);L((()=>{a(t())}));const i=e=>{s(e.target.value)},o=()=>"all"!==e.searchMode||e.caseSensitive||e.wholeWord,l=()=>{s(""),e.onSearchChange(""),_({q:""})},d=()=>{e.onSearchModeChange("all"),e.onCaseSensitiveChange(!1),e.onWholeWordChange(!1),_({mode:"all",case:!1,word:!1})},u=t=>{const r=["all","name","description"].includes(t)?t:"all";e.onSearchModeChange(r);const s=J();s.mode=r,_(s)};return m=Y(),p=m.firstChild,f=p.firstChild,v=p.nextSibling.firstChild,x=v.firstChild,b=x.firstChild,w=x.nextSibling,k=w.firstChild,P=w.nextSibling.firstChild,$=v.nextSibling.firstChild,I=$.firstChild,W=$.nextSibling,q=W.firstChild,j=W.nextSibling,f.$$input=i,n(p,(g=S((()=>!!e.searchQuery)),()=>{return g()&&((e=G()).$$click=l,e);var e}),null),b.addEventListener("change",(()=>u("all"))),k.addEventListener("change",(()=>u("name"))),P.addEventListener("change",(()=>u("description"))),I.addEventListener("change",(t=>(t=>{e.onCaseSensitiveChange(t);const r=J();r.case=t,_(r)})(t.target.checked))),q.addEventListener("change",(t=>(t=>{e.onWholeWordChange(t);const r=J();r.word=t,_(r)})(t.target.checked))),j.$$click=d,y((t=>{var s=e.isLoading?"Loading...":"Search packages...",a=e.isLoading,i=!o(),n="ml-1 flex items-center justify-center h-5 w-5 rounded text-xs transition-colors "+(o()?"text-gray-500 hover:text-gray-700 hover:bg-gray-200 cursor-pointer":"text-gray-300 cursor-default");return s!==t.e&&c(f,"placeholder",t.e=s),a!==t.t&&(f.disabled=t.t=a),i!==t.a&&(j.disabled=t.a=i),n!==t.o&&r(j,t.o=n),t}),{e:void 0,t:void 0,a:void 0,o:void 0}),y((()=>f.value=t())),y((()=>b.checked="all"===e.searchMode)),y((()=>k.checked="name"===e.searchMode)),y((()=>P.checked="description"===e.searchMode)),y((()=>I.checked=e.caseSensitive)),y((()=>q.checked=e.wholeWord)),m;var g,m,p,f,v,x,b,w,k,P,$,I,W,q,j}s(["input","click"]);var X=t('<div class="flex space-x-2">'),Z=t("<button>");function ee(e){const t=[{id:30,label:"Last 30 Days"},{id:90,label:"Last 90 Days"},{id:365,label:"Last Year"}];return s=X(),n(s,k(P,{each:t,children:({id:t,label:s})=>{return(a=Z()).$$click=()=>e.setPeriod(t),n(a,s),y((()=>r(a,"px-4 py-2 rounded border text-sm font-medium transition-colors duration-200\n            "+(e.period===t?"bg-amber-600 text-white border-amber-600 hover:bg-amber-700":"bg-white text-stone-800 border-stone-200 hover:bg-stone-50")))),a;var a}})),s;var s}s(["click"]);var te=t('<div class="sticky top-[72px] z-10 bg-white shadow-sm border-b border-gray-200"><div class="container mx-auto"><div class="flex md:flex-row justify-between items-center gap-4 p-3"><div class="flex items-end shrink-0">');function re(e){const{searchQuery:t,setSearchQuery:r,searchMode:s,setSearchMode:a,caseSensitive:i,setCaseSensitive:o,wholeWord:l,setWholeWord:c,isLoading:d,period:u,setPeriod:h}=e;return g=te(),m=g.firstChild.firstChild,p=m.firstChild,n(m,k(K,{get searchQuery(){return t()},onSearchChange:r,get searchMode(){return s()},onSearchModeChange:a,get caseSensitive(){return i()},onCaseSensitiveChange:o,get wholeWord(){return l()},onWholeWordChange:c,isLoading:d}),p),n(p,k(ee,{get period(){return u()},setPeriod:h})),g;var g,m,p}var se=t('<div class="flex flex-col justify-center items-center h-64 space-y-4"><div class="loading-spinner animate-spin rounded-full h-12 w-12 border-t-2 border-b-2"></div><div class=text-gray-500>Loading Homebrew data...');function ae(){return se()}var ie=t("<span>");function ne(e){const t=S((()=>{const t=e.text||"";if("all"!==e.searchMode&&e.searchMode!==e.context)return t;const r=((e,t)=>{if(!e)return[];const r=e.split(" ").filter((e=>e.length>0));return t?r:r.map((e=>e.toLowerCase()))})(e.query,e.caseSensitive);if(!r.length)return t;const s=e.caseSensitive?t:t.toLowerCase();let a=t,i=0;const n=(t,r,s)=>{if(!e.wholeWord)return!0;const a=0===r||!/\w/.test(t[r-1]),i=r+s===t.length||!/\w/.test(t[r+s]);return a&&i};return r.forEach((e=>{let t=0;for(;-1!==(t=s.indexOf(e,t));){if(!n(s,t,e.length)){t+=1;continue}const r=t+i,o=a.slice(0,r),l=a.slice(r,r+e.length),c=a.slice(r+e.length);a=`${o}<mark class="bg-yellow-200 dark:bg-yellow-700/50">${l}</mark>${c}`,i+=57,t+=e.length}})),a}));return r=ie(),y((()=>r.innerHTML=t())),r;var r}var oe=t('<tr class="table-row cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50"><td class="w-14 p-3 text-left"></td><td class="w-8 p-3 text-center"></td><td class="w-48 p-3 text-left font-medium overflow-hidden"><div class=truncate></div></td><td class="p-3 text-left text-gray-600 truncate"><div></div></td><td class="w-24 2xl:w-40 p-3 text-center"></td><td class="w-16 p-3 text-right font-medium"title="Popularity Score"></td><td class="w-20 p-3 text-right"></td><td class="w-10 p-3 text-center"><button>'),le=t('<div title="Cask - GUI application or binary package distributed as macOS native installer">'),ce=t('<div title="Formula - Command-line software package managed by Homebrew">'),de=t('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),ue=t('<svg xmlns=http://www.w3.org/2000/svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">');function he(e){const{item:t,index:s,searchQuery:i,searchMode:o,caseSensitive:l,wholeWord:h,onClick:m}=e,{addToCart:p,removeFromCart:f,isInCart:v}=a(),[x,b]=C(window.matchMedia("(min-width: 1536px)").matches);M((()=>{const e=window.matchMedia("(min-width: 1536px)"),t=e=>b(e.matches);e.addEventListener("change",t),b(e.matches),$((()=>{e.removeEventListener("change",t)}))}));const w=e=>{e.stopPropagation(),v(t)?f(t):p(t)},L=e=>e.isCask?e.name[0]:e.formula;return W=oe(),q=W.firstChild,j=q.nextSibling,Q=j.nextSibling,T=Q.firstChild,D=Q.nextSibling,E=D.firstChild,H=D.nextSibling,A=H.nextSibling,R=A.nextSibling,z=R.nextSibling.firstChild,W.$$click=()=>m(t),n(q,s+1),n(j,(P=S((()=>!!t.isCask)),()=>{return P()?(t=le(),n(t,k(u,{class:"w-5 h-5 text-purple-500 inline-block"})),t):(e=ce(),n(e,k(d,{class:"w-5 h-5 text-amber-500 inline-block"})),e);var e,t})),n(T,k(ne,{get text(){return L(t)},get query(){return i()},context:"name",get searchMode(){return o()},get caseSensitive(){return l()},get wholeWord(){return h()}})),n(E,k(ne,{get text(){return t.desc},get query(){return i()},context:"description",get searchMode(){return o()},get caseSensitive(){return l()},get wholeWord(){return h()}})),n(H,k(g,{get count(){return t.count},get trend(){return x()?t.trend:null}})),n(A,(()=>t.score)),n(R,(()=>t.displayCount.toLocaleString())),z.$$click=w,n(z,(I=S((()=>!!v(t))),()=>I()?de():ue())),y((e=>{var s=t.isCask?L(t):t.formula,a=t.desc,i="p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 "+(v(t)?"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600":"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-600"),n=v(t)?"Remove from cart":"Add to cart";return s!==e.e&&c(Q,"title",e.e=s),a!==e.t&&c(D,"title",e.t=a),i!==e.a&&r(z,e.a=i),n!==e.o&&c(z,"title",e.o=n),e}),{e:void 0,t:void 0,a:void 0,o:void 0}),W;var P,I,W,q,j,Q,T,D,E,H,A,R,z}s(["click"]);var ge=t('<img src=svg/components/sort-indicator.svg alt="Sort indicator">');function me(e){return t=ge(),y((()=>r(t,e.class))),t;var t}var pe=t('<div class="flex flex-col md:flex-row items-center justify-between gap-4 py-4 px-2 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700"><div class="flex items-center space-x-2"><span class="text-sm text-gray-700 dark:text-gray-300">Show</span><select class="rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm p-1"><option value=100>100</option><option value=250>250</option><option value=500>500</option></select><span class="text-sm text-gray-700 dark:text-gray-300">per page</span></div><div class="flex items-center"><span class="text-sm text-gray-700 dark:text-gray-300 mr-2">Showing <span class=font-medium></span> to <span class=font-medium></span> of <span class=font-medium></span> items</span></div><div class="flex items-center space-x-1"><button class="px-2 py-1 rounded border text-sm font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed bg-white text-gray-700 border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700"aria-label="Previous page">â</button><div class="flex space-x-1"></div><button class="px-2 py-1 rounded border text-sm font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed bg-white text-gray-700 border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700"aria-label="Next page">â'),fe=t('<span class="px-2 py-1">...'),ve=t("<button>");function xe(e){const t=()=>Math.max(1,e.itemsPerPage||100),s=()=>Math.max(0,e.totalItems||0),a=()=>Math.max(1,e.currentPage||1),i=S((()=>Math.max(1,Math.ceil(s()/t())))),o=S((()=>{const e=a(),t=i();if(t<=7)return Array.from({length:t},((e,t)=>t+1));const r=[1];e>3&&r.push("...");const s=Math.max(2,e-1),n=Math.min(t-1,e+1);for(let a=s;a<=n;a++)r.push(a);return e<t-2&&r.push("..."),t>1&&r.push(t),r})),l=()=>{const e=a(),r=t(),i=s();return Math.min((e-1)*r+1,i||1)},c=()=>{const e=a(),r=t(),i=s();return Math.min(e*r,i)},d=t=>{e.onPageChange(t),window.scrollTo(0,0)},u=t=>{const r=parseInt(t.target.value,10);e.onItemsPerPageChange(r)};return h=pe(),g=h.firstChild,m=g.firstChild.nextSibling,p=g.nextSibling,f=p.firstChild.firstChild.nextSibling,v=f.nextSibling.nextSibling,x=v.nextSibling.nextSibling,b=p.nextSibling.firstChild,w=b.nextSibling,C=w.nextSibling,m.addEventListener("change",u),n(f,l),n(v,c),n(x,s),b.$$click=()=>d(a()-1),n(w,k(P,{get each(){return o()},children:e=>{return"..."===e?fe():((t=ve()).$$click=()=>d(e),n(t,e),y((()=>r(t,"px-3 py-1 rounded text-sm font-medium transition-colors duration-200\n                    "+(a()===e?"bg-amber-600 text-white border border-amber-600 hover:bg-amber-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700")))),t);var t}})),C.$$click=()=>d(a()+1),y((e=>{var t=a()<=1,r=a()>=i();return t!==e.e&&(b.disabled=e.e=t),r!==e.t&&(C.disabled=e.t=r),e}),{e:void 0,t:void 0}),y((()=>m.value=t())),h;var h,g,m,p,f,v,x,b,w,C}s(["click"]);var be=t('<div class="data-table h-[calc(100vh-12rem)] flex flex-col"><div class="sticky top-0 bg-white dark:bg-gray-900 z-10"><table class="w-full table-fixed"><thead class=table-header><tr class=table-header><th class="p-3 w-14 text-left border-b">#</th><th class="p-3 w-8 text-center border-b"></th><th class="p-3 w-48 text-left border-b">Name</th><th class="p-3 text-left border-b">Description</th><th class="p-3 w-24 2xl:w-40 text-center border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-center space-x-1"><span>Trend</span></div></th><th class="p-3 w-16 text-right border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Score</span></div></th><th class="p-3 w-20 text-right border-b cursor-pointer hover:bg-gray-100"><div class="flex items-center justify-end space-x-1"><span>Installs</span></div></th><th class="p-3 w-14 text-center border-b">Cart</th></tr></thead></table></div><div class="flex-1 overflow-auto pt-1"> <table class="w-full table-fixed"><tbody>');function we(e){const{packages:t,searchQuery:r,onPackageClick:s}=e,[a,i]=C("score"),[o,l]=C({field:"score",period:e.period}),[c,d]=C(1),[u,h]=C(100);M((()=>{try{const e=function(){try{const e=localStorage.getItem("brewTrendItemsPerPage");return e?parseInt(e,10):100}catch(e){return 100}}();h(e)}catch(e){}}));const[g]=I((()=>e.items),(e=>e||[])),m=S((()=>{const e=g()||[];return e.length?JSON.parse(JSON.stringify(e)):[]})),p=S((()=>{const e=m();if(!e.length)return[];return q.sortItems(e,{field:a()}).map(((e,t)=>({...e,sortedIndex:t})))})),f=S((()=>{const e=p();if(!e.length)return[];const t=(c()-1)*u(),r=t+u();return e.slice(t,r)}));L((()=>{e.searchQuery&&e.searchQuery(),e.period,d(1)})),L((()=>{const t=a(),r=e.period,s=o();t===s.field&&r===s.period||l({field:t,period:r})}));const v=e=>{a()===e||i(e)},x=e=>{d(e),setTimeout((()=>{const e=document.querySelector(".data-table .overflow-auto");e&&function(e,t=300){if(!e)return;const r=e.scrollTop,s=-r,a=performance.now();requestAnimationFrame((function i(n){const o=n-a;e.scrollTop=function(e,t,r,s){return(e/=s/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t}(o,r,s,t),o<t&&requestAnimationFrame(i)}))}(e)}),0)},b=e=>{const t=(c()-1)*u(),r=Math.floor(t/e)+1;W((()=>{h(e),d(r)}));try{!function(e){try{localStorage.setItem("brewTrendItemsPerPage",e.toString())}catch(t){}}(e)}catch(s){}},w=S((()=>p().length));return Q=be(),T=Q.firstChild,D=T.firstChild.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling,E=D.firstChild,H=E.firstChild,A=D.nextSibling,R=A.firstChild,z=R.firstChild,N=A.nextSibling,O=N.firstChild,F=O.firstChild,V=T.nextSibling.firstChild.nextSibling.firstChild,D.$$click=()=>v("trend"),n(E,(y=S((()=>"trend"===a())),()=>y()&&k(me,{})),H),A.$$click=()=>v("score"),n(R,($=S((()=>"score"===a())),()=>$()&&k(me,{})),z),N.$$click=()=>v("installs"),n(O,(j=S((()=>"installs"===a())),()=>j()&&k(me,{})),F),n(V,k(P,{get each(){return f()},children:t=>k(he,{item:t,get index(){return t.sortedIndex},get searchQuery(){return e.searchQuery},get searchMode(){return e.searchMode},get caseSensitive(){return e.caseSensitive},get wholeWord(){return e.wholeWord},get onClick(){return e.onPackageClick}})})),n(Q,k(xe,{get currentPage(){return c()},get itemsPerPage(){return u()},get totalItems(){return w()},onPageChange:x,onItemsPerPageChange:b}),null),Q;var y,$,j,Q,T,D,E,H,A,R,z,N,O,F,V}s(["click"]);var ye=t('<div class="px-4 md:px-6 pt-4 text-sm text-gray-500"> results found for "<!>"');function Se(e){const{count:t,query:r}=e;return r?(s=ye(),a=s.firstChild,(i=a.nextSibling).nextSibling,n(s,t,a),n(s,r,i),s):null;var s,a,i}var Ce=t('<main class="flex-1 overflow-hidden"><div class="container mx-auto h-full"><div class=table-container>');function ke(e){const{isLoading:t,filteredItems:r,searchQuery:s,searchMode:a,caseSensitive:i,wholeWord:o,onPackageClick:l}=e;return c=Ce(),d=c.firstChild,u=d.firstChild,n(d,k(Se,{get count(){return r.length},get query(){return s()}}),u),n(u,t?k(ae,{}):k(we,{items:r,searchQuery:s,searchMode:a,caseSensitive:i,wholeWord:o,onPackageClick:l})),c;var c,d,u}var Me=t('<div class="fixed bottom-0 left-0 right-0 bg-gray-900 text-white p-4 text-sm font-mono overflow-auto max-h-[50vh]"><pre>');function Le(e){return t=Me(),r=t.firstChild,n(r,(()=>JSON.stringify(e.data,null,2))),t;var t,r}var Pe=t('<div class="flex flex-col h-screen">');function $e(){const[e,t]=C(30),[r,s]=C(""),[a,i]=C("all"),[o,l]=C(!1),[c,d]=C(!1),[u,h]=m([]),[g,w]=C(null),[y,P]=C(!1);M((async()=>{await b();const e=J();void 0!==e.q&&s(e.q),void 0!==e.mode&&i(e.mode),void 0!==e.case&&l(e.case),void 0!==e.word&&d(e.word),void 0!==e.period&&t(e.period)})),L((()=>{if(p.isLoading)return;const t=j.filterItems(p.items||[],r(),a(),o(),c(),e(),p.summary);h(t)}));const $=()=>{const t=e(),r=new Date(p.summary[t]?.date?.start),s=new Date(p.summary[t]?.date?.end);return`${r.toLocaleDateString()} - ${s.toLocaleDateString()}`},I=e=>{w(e),P(!0)},{isDebugMode:W,debugData:q}=function(e){const[t,r]=C(!1);return L((()=>{const e=new URLSearchParams(window.location.search).has("debug"),t=new URLSearchParams(window.location.search).has("inspect");r(e||t)})),{isDebugMode:t,debugData:e}}((()=>function({period:e,searchQuery:t,searchMode:r,caseSensitive:s,wholeWord:a,filteredItems:i,store:n}){return{period:e(),searchState:{query:t(),mode:r(),caseSensitive:s(),wholeWord:a()},filteredItemsCount:i.length,storeState:{isLoading:n.isLoading,summary:n.summary}}}({period:e,searchQuery:r,searchMode:a,caseSensitive:o,wholeWord:c,filteredItems:u,store:p})));return k(x,{get children(){var h,m=Pe();return n(m,k(U,{store:p,period:e,formatTimePeriod:$}),null),n(m,k(re,{searchQuery:r,setSearchQuery:s,searchMode:a,setSearchMode:i,caseSensitive:o,setCaseSensitive:l,wholeWord:c,setWholeWord:d,get isLoading(){return p.isLoading},period:e,setPeriod:t}),null),n(m,k(ke,{get isLoading(){return p.isLoading},filteredItems:u,searchQuery:r,searchMode:a,caseSensitive:o,wholeWord:c,onPackageClick:I}),null),n(m,k(f,{get isOpen(){return y()},get package(){return g()},onClose:()=>P(!1)}),null),n(m,k(v,{}),null),n(m,(h=S((()=>!!W())),()=>h()&&k(Le,{get data(){return q()}})),null),m}})}w((()=>k($e,{})),document.getElementById("root"));
